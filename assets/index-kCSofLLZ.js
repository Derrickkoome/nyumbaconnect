(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var cm={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function F1(){if(M0)return kl;M0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var V0;function G1(){return V0||(V0=1,cm.exports=F1()),cm.exports}var v=G1(),hm={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function K1(){if(P0)return Se;P0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,k={};function W(V,te,ae){this.props=V,this.context=te,this.refs=k,this.updater=ae||U}W.prototype.isReactComponent={},W.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},W.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=W.prototype;function Y(V,te,ae){this.props=V,this.context=te,this.refs=k,this.updater=ae||U}var ue=Y.prototype=new re;ue.constructor=Y,G(ue,W.prototype),ue.isPureReactComponent=!0;var be=Array.isArray;function ye(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,te,ae){var ce=ae.ref;return{$$typeof:i,type:V,key:te,ref:ce!==void 0?ce:null,props:ae}}function D(V,te){return R(V.type,te,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function j(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return te[ae]})}var C=/\/+/g;function it(V,te){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):te.toString(36)}function It(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ye,ye):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,te,ae,ce,Ee){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(Re){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case i:case e:ke=!0;break;case T:return ke=V._init,X(ke(V._payload),te,ae,ce,Ee)}}if(ke)return Ee=Ee(V),ke=ce===""?"."+it(V,0):ce,be(Ee)?(ae="",ke!=null&&(ae=ke.replace(C,"$&/")+"/"),X(Ee,te,ae,"",function(Es){return Es})):Ee!=null&&(O(Ee)&&(Ee=D(Ee,ae+(Ee.key==null||V&&V.key===Ee.key?"":(""+Ee.key).replace(C,"$&/")+"/")+ke)),te.push(Ee)),1;ke=0;var Dt=ce===""?".":ce+":";if(be(V))for(var st=0;st<V.length;st++)ce=V[st],Re=Dt+it(ce,st),ke+=X(ce,te,ae,Re,Ee);else if(st=P(V),typeof st=="function")for(V=st.call(V),st=0;!(ce=V.next()).done;)ce=ce.value,Re=Dt+it(ce,st++),ke+=X(ce,te,ae,Re,Ee);else if(Re==="object"){if(typeof V.then=="function")return X(It(V),te,ae,ce,Ee);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(V,te,ae){if(V==null)return V;var ce=[],Ee=0;return X(V,ce,"","",function(Re){return te.call(ae,Re,Ee++)}),ce}function pe(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var Ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,te,ae){se(V,function(){te.apply(this,arguments)},ae)},count:function(V){var te=0;return se(V,function(){te++}),te},toArray:function(V){return se(V,function(te){return te})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=S,Se.Children=Ge,Se.Component=W,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=Y,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,te,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=G({},V.props),Ee=V.key;if(te!=null)for(Re in te.key!==void 0&&(Ee=""+te.key),te)!A.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(ce[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)ce.children=ae;else if(1<Re){for(var ke=Array(Re),Dt=0;Dt<Re;Dt++)ke[Dt]=arguments[Dt+2];ce.children=ke}return R(V.type,Ee,ce)},Se.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,te,ae){var ce,Ee={},Re=null;if(te!=null)for(ce in te.key!==void 0&&(Re=""+te.key),te)A.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=te[ce]);var ke=arguments.length-2;if(ke===1)Ee.children=ae;else if(1<ke){for(var Dt=Array(ke),st=0;st<ke;st++)Dt[st]=arguments[st+2];Ee.children=Dt}if(V&&V.defaultProps)for(ce in ke=V.defaultProps,ke)Ee[ce]===void 0&&(Ee[ce]=ke[ce]);return R(V,Re,Ee)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=O,Se.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:pe}},Se.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},Se.startTransition=function(V){var te=N.T,ae={};N.T=ae;try{var ce=V(),Ee=N.S;Ee!==null&&Ee(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ye,Ue)}catch(Re){Ue(Re)}finally{te!==null&&ae.types!==null&&(te.types=ae.types),N.T=te}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(V){return N.H.use(V)},Se.useActionState=function(V,te,ae){return N.H.useActionState(V,te,ae)},Se.useCallback=function(V,te){return N.H.useCallback(V,te)},Se.useContext=function(V){return N.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,te){return N.H.useDeferredValue(V,te)},Se.useEffect=function(V,te){return N.H.useEffect(V,te)},Se.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(V,te,ae){return N.H.useImperativeHandle(V,te,ae)},Se.useInsertionEffect=function(V,te){return N.H.useInsertionEffect(V,te)},Se.useLayoutEffect=function(V,te){return N.H.useLayoutEffect(V,te)},Se.useMemo=function(V,te){return N.H.useMemo(V,te)},Se.useOptimistic=function(V,te){return N.H.useOptimistic(V,te)},Se.useReducer=function(V,te,ae){return N.H.useReducer(V,te,ae)},Se.useRef=function(V){return N.H.useRef(V)},Se.useState=function(V){return N.H.useState(V)},Se.useSyncExternalStore=function(V,te,ae){return N.H.useSyncExternalStore(V,te,ae)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.0",Se}var L0;function sp(){return L0||(L0=1,hm.exports=K1()),hm.exports}var B=sp(),fm={exports:{}},jl={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function Q1(){return k0||(k0=1,(function(i){function e(X,se){var pe=X.length;X.push(se);e:for(;0<pe;){var Ue=pe-1>>>1,Ge=X[Ue];if(0<o(Ge,se))X[Ue]=se,X[pe]=Ge,pe=Ue;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],pe=X.pop();if(pe!==se){X[0]=pe;e:for(var Ue=0,Ge=X.length,V=Ge>>>1;Ue<V;){var te=2*(Ue+1)-1,ae=X[te],ce=te+1,Ee=X[ce];if(0>o(ae,pe))ce<Ge&&0>o(Ee,ae)?(X[Ue]=Ee,X[ce]=pe,Ue=ce):(X[Ue]=ae,X[te]=pe,Ue=te);else if(ce<Ge&&0>o(Ee,pe))X[Ue]=Ee,X[ce]=pe,Ue=ce;else break e}}return se}function o(X,se){var pe=X.sortIndex-se.sortIndex;return pe!==0?pe:X.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,S=null,x=3,P=!1,U=!1,G=!1,k=!1,W=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=X)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function be(X){if(G=!1,ue(X),!U)if(n(p)!==null)U=!0,ye||(ye=!0,j());else{var se=n(g);se!==null&&It(be,se.startTime-X)}}var ye=!1,N=-1,A=5,R=-1;function D(){return k?!0:!(i.unstable_now()-R<A)}function O(){if(k=!1,ye){var X=i.unstable_now();R=X;var se=!0;try{e:{U=!1,G&&(G=!1,re(N),N=-1),P=!0;var pe=x;try{t:{for(ue(X),S=n(p);S!==null&&!(S.expirationTime>X&&D());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,x=S.priorityLevel;var Ge=Ue(S.expirationTime<=X);if(X=i.unstable_now(),typeof Ge=="function"){S.callback=Ge,ue(X),se=!0;break t}S===n(p)&&s(p),ue(X)}else s(p);S=n(p)}if(S!==null)se=!0;else{var V=n(g);V!==null&&It(be,V.startTime-X),se=!1}}break e}finally{S=null,x=pe,P=!1}se=void 0}}finally{se?j():ye=!1}}}var j;if(typeof Y=="function")j=function(){Y(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,it=C.port2;C.port1.onmessage=O,j=function(){it.postMessage(null)}}else j=function(){W(O,0)};function It(X,se){N=W(function(){X(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(X){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var pe=x;x=se;try{return X()}finally{x=pe}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=x;x=X;try{return se()}finally{x=pe}},i.unstable_scheduleCallback=function(X,se,pe){var Ue=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,X){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,X={id:T++,callback:se,priorityLevel:X,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>Ue?(X.sortIndex=pe,e(g,X),n(p)===null&&X===n(g)&&(G?(re(N),N=-1):G=!0,It(be,pe-Ue))):(X.sortIndex=Ge,e(p,X),U||P||(U=!0,ye||(ye=!0,j()))),X},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(X){var se=x;return function(){var pe=x;x=se;try{return X.apply(this,arguments)}finally{x=pe}}}})(mm)),mm}var j0;function Y1(){return j0||(j0=1,dm.exports=Q1()),dm.exports}var pm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function $1(){if(U0)return Xt;U0=1;var i=sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Xt.flushSync=function(p){var g=h.T,T=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=T,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,S=m(T,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:P}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:x,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,S=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var z0;function X1(){if(z0)return pm.exports;z0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=$1(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function J1(){if(B0)return jl;B0=1;var i=Y1(),e=sp(),n=X1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function T(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=T(t),r!==null)return r;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case W:return"Profiler";case k:return"StrictMode";case be:return"Suspense";case ye:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case Y:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case ue:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:it(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return it(t(r))}catch{}}return null}var It=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function V(t){return{current:t}}function te(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function ae(t,r){Ge++,Ue[Ge]=t.current,t.current=r}var ce=V(null),Ee=V(null),Re=V(null),ke=V(null);function Dt(t,r){switch(ae(Re,r),ae(Ee,t),ae(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?n0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=n0(r),t=r0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ce),ae(ce,t)}function st(){te(ce),te(Ee),te(Re)}function Es(t){t.memoizedState!==null&&ae(ke,t);var r=ce.current,a=r0(r,t.type);r!==a&&(ae(Ee,t),ae(ce,a))}function da(t){Ee.current===t&&(te(ce),te(Ee)),ke.current===t&&(te(ke),Ml._currentValue=pe)}var ma,pa;function ar(t){if(ma===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ma=r&&r[1]||"",pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+pa}var Mo=!1;function Ts(t,r){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var F=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){F=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var I=_.split(`
`),H=b.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===H.length)for(l=I.length-1,f=H.length-1;1<=l&&0<=f&&I[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==H[f]){var $=`
`+I[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ar(a):""}function Vo(t,r){switch(t.tag){case 26:case 27:case 5:return ar(t.type);case 16:return ar("Lazy");case 13:return t.child!==r&&r!==null?ar("Suspense Fallback"):ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return Ts(t.type,!1);case 11:return Ts(t.type.render,!1);case 1:return Ts(t.type,!0);case 31:return ar("Activity");default:return""}}function Po(t){try{var r="",a=null;do r+=Vo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Ot=i.unstable_scheduleCallback,yi=i.unstable_cancelCallback,ff=i.unstable_shouldYield,Au=i.unstable_requestPaint,tn=i.unstable_now,bs=i.unstable_getCurrentPriorityLevel,Lo=i.unstable_ImmediatePriority,ko=i.unstable_UserBlockingPriority,_i=i.unstable_NormalPriority,df=i.unstable_LowPriority,xu=i.unstable_IdlePriority,Ru=i.log,Nu=i.unstable_setDisableYieldValue,qn=null,Bt=null;function Rn(t){if(typeof Ru=="function"&&Nu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(qn,t)}catch{}}var ft=Math.clz32?Math.clz32:Iu,Cu=Math.log,ga=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Cu(t)/ga|0)|0}var or=256,Ss=262144,_t=4194304;function lr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ur(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=lr(l):(_&=b,_!==0?f=lr(_):a||(a=b&~t,a!==0&&(f=lr(a))))):(b=l&~d,b!==0?f=lr(b):_!==0?f=lr(_):a||(a=l&~t,a!==0&&(f=lr(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Hn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function mf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function cr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ws(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-ft(a),ee=1<<$;b[$]=0,I[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&As(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function As(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-ft(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-ft(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Uo(t,r){var a=r&-r;return a=(a&42)!==0?1:xs(a),(a&(t.suspendedLanes|r))!==0?0:a}function xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Lr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:x0(t.type))}function Fn(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Gn,kt="__reactProps$"+Gn,hr="__reactContainer$"+Gn,ya="__reactEvents$"+Gn,gf="__reactListeners$"+Gn,Mu="__reactHandles$"+Gn,Vu="__reactResources$"+Gn,fr="__reactMarker$"+Gn;function _a(t){delete t[vt],delete t[kt],delete t[ya],delete t[gf],delete t[Mu]}function dr(t){var r=t[vt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[hr]||a[vt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=c0(t);t!==null;){if(a=t[vt])return a;t=c0(t)}return r}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[vt]||t[hr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function gn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function mr(t){var r=t[Vu];return r||(r=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(t){t[fr]=!0}var zo=new Set,Bo={};function pr(t,r){gr(t,r),gr(t+"Capture",r)}function gr(t,r){for(Bo[t]=r,t=0;t<r.length;t++)zo.add(r[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Fo={};function Pu(t){return yt.call(Fo,t)?!0:yt.call(Ho,t)?!1:qo.test(t)?Fo[t]=!0:(Ho[t]=!0,!1)}function va(t,r,a){if(Pu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function yn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Tt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Go(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ke(t){if(!t._valueTracker){var r=vi(t)?"checked":"value";t._valueTracker=Go(t,r,""+t[r])}}function Rs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=vi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ns=/[\n"\\]/g;function on(t){return t.replace(Ns,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ea(t,r,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+jt(r)):t.value!==""+jt(r)&&(t.value=""+jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Ko(t,_,jt(r)):a!=null?Ko(t,_,jt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+jt(b):t.removeAttribute("name")}function Lu(t,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ke(t);return}a=a!=null?""+jt(a):"",r=r!=null?""+jt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Ko(t,r,a){r==="number"&&yr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ei(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ku(t,r,a){if(r!=null&&(r=""+jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+jt(a):""}function Ti(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(It(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function ln(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ju.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Yo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Qo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Qo(t,d,r[d])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return bi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var $o=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Si=null,_r=null;function Cs(t){var r=Nn(t);if(r&&(t=r.stateNode)){var a=t[kt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[kt]||null;if(!f)throw Error(s(90));Ea(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Rs(l)}break e;case"textarea":ku(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ei(t,!!a.multiple,r,!1)}}}var Sa=!1;function wi(t,r,a){if(Sa)return t(r,a);Sa=!0;try{var l=t(r);return l}finally{if(Sa=!1,(Si!==null||_r!==null)&&(Oc(),Si&&(r=Si,t=_r,_r=Si=null,Cs(r),t)))for(r=0;r<t.length;r++)Cs(t[r])}}function Qn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(In)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Is=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Is=!1}var vr=null,Xo=null,Ds=null;function Jo(){if(Ds)return Ds;var t,r=Xo,a=r.length,l,f="value"in vr?vr.value:vr.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Ds=f.slice(t,1<l?1-l:void 0)}function Os(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function kr(){return!0}function Yn(){return!1}function qt(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?kr:Yn,this.isPropagationStopped=Yn,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),r}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=qt(jr),Ai=S({},jr,{view:0,detail:0}),Wo=qt(Ai),xi,wa,Tr,Aa=S({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tr&&(Tr&&t.type==="mousemove"?(xi=t.screenX-Tr.screenX,wa=t.screenY-Tr.screenY):wa=xi=0,Tr=t),xi)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Zo=qt(Aa),Ms=S({},Aa,{dataTransfer:0}),zu=qt(Ms),Bu=S({},Ai,{relatedTarget:0}),Vs=qt(Bu),el=S({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=qt(el),xa=S({},jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hu=qt(xa),Fu=S({},jr,{data:0}),br=qt(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Qu[t])?!!r[t]:!1}function Ri(){return Yu}var nn=S({},Ai,{key:function(t){if(t.key){var r=Gu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=qt(nn),Xu=S({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ur=qt(Xu),c=S({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),y=qt(c),E=S({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qt(E),z=S({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=qt(z),ie=S({},jr,{newState:0,oldState:0}),Ae=qt(ie),dt=[9,13,27,32],qe=In&&"CompositionEvent"in window,at=null;In&&"documentMode"in document&&(at=document.documentMode);var Dn=In&&"TextEvent"in window&&!at,Sr=In&&(!qe||at&&8<at&&11>=at),$n=" ",Xn=!1;function Ps(t,r){switch(t){case"keyup":return dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function mS(t,r){switch(t){case"compositionend":return Ra(r);case"keypress":return r.which!==32?null:(Xn=!0,$n);case"textInput":return t=r.data,t===$n&&Xn?null:t;default:return null}}function pS(t,r){if(Na)return t==="compositionend"||!qe&&Ps(t,r)?(t=Jo(),Ds=Xo=vr=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Sr&&r.locale!=="ko"?null:r.data;default:return null}}var gS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!gS[t.type]:r==="textarea"}function mg(t,r,a,l){Si?_r?_r.push(l):_r=[l]:Si=l,r=Uc(r,"onChange"),0<r.length&&(a=new Er("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var tl=null,nl=null;function yS(t){X_(t,0)}function Ju(t){var r=gn(t);if(Rs(r))return t}function pg(t,r){if(t==="change")return r}var gg=!1;if(In){var yf;if(In){var _f="oninput"in document;if(!_f){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),_f=typeof yg.oninput=="function"}yf=_f}else yf=!1;gg=yf&&(!document.documentMode||9<document.documentMode)}function _g(){tl&&(tl.detachEvent("onpropertychange",vg),nl=tl=null)}function vg(t){if(t.propertyName==="value"&&Ju(nl)){var r=[];mg(r,nl,t,Cn(t)),wi(yS,r)}}function _S(t,r,a){t==="focusin"?(_g(),tl=r,nl=a,tl.attachEvent("onpropertychange",vg)):t==="focusout"&&_g()}function vS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(nl)}function ES(t,r){if(t==="click")return Ju(r)}function TS(t,r){if(t==="input"||t==="change")return Ju(r)}function bS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:bS;function rl(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!yt.call(r,f)||!_n(t[f],r[f]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,r){var a=Eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function bg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?bg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=yr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=yr(t.document)}return r}function vf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var SS=In&&"documentMode"in document&&11>=document.documentMode,Ca=null,Ef=null,il=null,Tf=!1;function wg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||Ca==null||Ca!==yr(l)||(l=Ca,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&rl(il,l)||(il=l,l=Uc(Ef,"onSelect"),0<l.length&&(r=new Er("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ca)))}function Ls(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ia={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},bf={},Ag={};In&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function ks(t){if(bf[t])return bf[t];if(!Ia[t])return t;var r=Ia[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ag)return bf[t]=r[a];return t}var xg=ks("animationend"),Rg=ks("animationiteration"),Ng=ks("animationstart"),wS=ks("transitionrun"),AS=ks("transitionstart"),xS=ks("transitioncancel"),Cg=ks("transitionend"),Ig=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function Jn(t,r){Ig.set(t,r),pr(r,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Da=0,wf=0;function Zu(){for(var t=Da,r=wf=Da=0;r<t;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var f=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Dg(a,f,d)}}function ec(t,r,a,l){On[Da++]=t,On[Da++]=r,On[Da++]=a,On[Da++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Af(t,r,a,l){return ec(t,r,a,l),tc(t)}function js(t,r){return ec(t,null,null,r),tc(t)}function Dg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-ft(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function tc(t){if(50<xl)throw xl=0,Vd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Oa={};function RS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,a,l){return new RS(t,r,a,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,r){var a=t.alternate;return a===null?(a=vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Og(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function nc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")xf(t)&&(_=1);else if(typeof t=="string")_=O1(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,r,f),t.elementType=R,t.lanes=d,t;case G:return Us(a.children,f,d,r);case k:_=8,f|=24;break;case W:return t=vn(12,a,r,f|2),t.elementType=W,t.lanes=d,t;case be:return t=vn(13,a,r,f),t.elementType=be,t.lanes=d,t;case ye:return t=vn(19,a,r,f),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:_=10;break e;case re:_=9;break e;case ue:_=11;break e;case N:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=vn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Us(t,r,a,l){return t=vn(7,t,l,r),t.lanes=a,t}function Rf(t,r,a){return t=vn(6,t,null,r),t.lanes=a,t}function Mg(t){var r=vn(18,null,null,0);return r.stateNode=t,r}function Nf(t,r,a){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Vg=new WeakMap;function Mn(t,r){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Po(r)},Vg.set(t,r),r)}return{value:t,source:r,stack:Po(r)}}var Ma=[],Va=0,rc=null,sl=0,Vn=[],Pn=0,Ni=null,wr=1,Ar="";function Br(t,r){Ma[Va++]=sl,Ma[Va++]=rc,rc=t,sl=r}function Pg(t,r,a){Vn[Pn++]=wr,Vn[Pn++]=Ar,Vn[Pn++]=Ni,Ni=t;var l=wr;t=Ar;var f=32-ft(l)-1;l&=~(1<<f),a+=1;var d=32-ft(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,wr=1<<32-ft(r)+f|a<<f|l,Ar=d+t}else wr=1<<d|a<<f|l,Ar=t}function Cf(t){t.return!==null&&(Br(t,1),Pg(t,1,0))}function If(t){for(;t===rc;)rc=Ma[--Va],Ma[Va]=null,sl=Ma[--Va],Ma[Va]=null;for(;t===Ni;)Ni=Vn[--Pn],Vn[Pn]=null,Ar=Vn[--Pn],Vn[Pn]=null,wr=Vn[--Pn],Vn[Pn]=null}function Lg(t,r){Vn[Pn++]=wr,Vn[Pn++]=Ar,Vn[Pn++]=Ni,wr=r.id,Ar=r.overflow,Ni=t}var Ht=null,tt=null,Le=!1,Ci=null,Ln=!1,Df=Error(s(519));function Ii(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Mn(r,t)),Df}function kg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[vt]=t,r[kt]=l,a){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ie(Nl[a],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),Lu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),Ti(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||e0(r.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),l.onScroll!=null&&Ie("scroll",r),l.onScrollEnd!=null&&Ie("scrollend",r),l.onClick!=null&&(r.onclick=Kn),r=!0):r=!1,r||Ii(t,!0)}function jg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ht=Ht.return}}function Pa(t){if(t!==Ht)return!1;if(!Le)return jg(t),Le=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$d(t.type,t.memoizedProps)),a=!a),a&&tt&&Ii(t),jg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=u0(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=u0(t)}else r===27?(r=tt,Fi(t.type)?(t=em,em=null,tt=t):tt=r):tt=Ht?jn(t.stateNode.nextSibling):null;return!0}function zs(){tt=Ht=null,Le=!1}function Of(){var t=Ci;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Ci=null),t}function al(t){Ci===null?Ci=[t]:Ci.push(t)}var Mf=V(null),Bs=null,qr=null;function Di(t,r,a){ae(Mf,r._currentValue),r._currentValue=a}function Hr(t){t._currentValue=Mf.current,te(Mf)}function Vf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Pf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Vf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Vf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function La(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===ke.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}f=f.return}t!==null&&Pf(r,t,a,l),r.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Bs=t,qr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Ug(Bs,t)}function sc(t,r){return Bs===null&&qs(t),Ug(t,r)}function Ug(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},qr===null){if(t===null)throw Error(s(308));qr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else qr=qr.next=r;return a}var NS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},CS=i.unstable_scheduleCallback,IS=i.unstable_NormalPriority,bt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new NS,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&CS(IS,function(){t.controller.abort()})}var ll=null,kf=0,ka=0,ja=null;function DS(t,r){if(ll===null){var a=ll=[];kf=0,ka=zd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,r.then(zg,zg),r}function zg(){if(--kf===0&&ll!==null){ja!==null&&(ja.status="fulfilled");var t=ll;ll=null,ka=0,ja=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function OS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Bg=X.S;X.S=function(t,r){w_=tn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&DS(t,r),Bg!==null&&Bg(t,r)};var Hs=V(null);function jf(){var t=Hs.current;return t!==null?t:Ze.pooledCache}function ac(t,r){r===null?ae(Hs,Hs.current):ae(Hs,r.pool)}function qg(){var t=jf();return t===null?null:{parent:bt._currentValue,pool:t}}var Ua=Error(s(460)),Uf=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Kn,Kn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Kg(t),t;default:if(typeof r.status=="string")r.then(Kn,Kn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Kg(t),t}throw Gs=r,Ua}}function Fs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,Ua):a}}var Gs=null;function Gg(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function Kg(t){if(t===Ua||t===oc)throw Error(s(483))}var za=null,ul=0;function uc(t){var r=ul;return ul+=1,za===null&&(za=[]),Fg(za,t,r)}function cl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function cc(t,r){throw r.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Qg(t){function r(L,M){if(t){var q=L.deletions;q===null?(L.deletions=[M],L.flags|=16):q.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=zr(L,M),L.index=0,L.sibling=null,L}function d(L,M,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<M?(L.flags|=67108866,M):q):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,M,q,J){return M===null||M.tag!==6?(M=Rf(q,L.mode,J),M.return=L,M):(M=f(M,q),M.return=L,M)}function I(L,M,q,J){var de=q.type;return de===G?$(L,M,q.props.children,J,q.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Fs(de)===M.type)?(M=f(M,q.props),cl(M,q),M.return=L,M):(M=nc(q.type,q.key,q.props,null,L.mode,J),cl(M,q),M.return=L,M)}function H(L,M,q,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Nf(q,L.mode,J),M.return=L,M):(M=f(M,q.children||[]),M.return=L,M)}function $(L,M,q,J,de){return M===null||M.tag!==7?(M=Us(q,L.mode,J,de),M.return=L,M):(M=f(M,q),M.return=L,M)}function ee(L,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Rf(""+M,L.mode,q),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return q=nc(M.type,M.key,M.props,null,L.mode,q),cl(q,M),q.return=L,q;case U:return M=Nf(M,L.mode,q),M.return=L,M;case A:return M=Fs(M),ee(L,M,q)}if(It(M)||j(M))return M=Us(M,L.mode,q,null),M.return=L,M;if(typeof M.then=="function")return ee(L,uc(M),q);if(M.$$typeof===Y)return ee(L,sc(L,M),q);cc(L,M)}return null}function F(L,M,q,J){var de=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:b(L,M,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case P:return q.key===de?I(L,M,q,J):null;case U:return q.key===de?H(L,M,q,J):null;case A:return q=Fs(q),F(L,M,q,J)}if(It(q)||j(q))return de!==null?null:$(L,M,q,J,null);if(typeof q.then=="function")return F(L,M,uc(q),J);if(q.$$typeof===Y)return F(L,M,sc(L,q),J);cc(L,q)}return null}function Q(L,M,q,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(q)||null,b(M,L,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return L=L.get(J.key===null?q:J.key)||null,I(M,L,J,de);case U:return L=L.get(J.key===null?q:J.key)||null,H(M,L,J,de);case A:return J=Fs(J),Q(L,M,q,J,de)}if(It(J)||j(J))return L=L.get(q)||null,$(M,L,J,de,null);if(typeof J.then=="function")return Q(L,M,q,uc(J),de);if(J.$$typeof===Y)return Q(L,M,q,sc(M,J),de);cc(M,J)}return null}function he(L,M,q,J){for(var de=null,ze=null,fe=M,Ne=M=0,Oe=null;fe!==null&&Ne<q.length;Ne++){fe.index>Ne?(Oe=fe,fe=null):Oe=fe.sibling;var Be=F(L,fe,q[Ne],J);if(Be===null){fe===null&&(fe=Oe);break}t&&fe&&Be.alternate===null&&r(L,fe),M=d(Be,M,Ne),ze===null?de=Be:ze.sibling=Be,ze=Be,fe=Oe}if(Ne===q.length)return a(L,fe),Le&&Br(L,Ne),de;if(fe===null){for(;Ne<q.length;Ne++)fe=ee(L,q[Ne],J),fe!==null&&(M=d(fe,M,Ne),ze===null?de=fe:ze.sibling=fe,ze=fe);return Le&&Br(L,Ne),de}for(fe=l(fe);Ne<q.length;Ne++)Oe=Q(fe,L,Ne,q[Ne],J),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ne:Oe.key),M=d(Oe,M,Ne),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&fe.forEach(function($i){return r(L,$i)}),Le&&Br(L,Ne),de}function ge(L,M,q,J){if(q==null)throw Error(s(151));for(var de=null,ze=null,fe=M,Ne=M=0,Oe=null,Be=q.next();fe!==null&&!Be.done;Ne++,Be=q.next()){fe.index>Ne?(Oe=fe,fe=null):Oe=fe.sibling;var $i=F(L,fe,Be.value,J);if($i===null){fe===null&&(fe=Oe);break}t&&fe&&$i.alternate===null&&r(L,fe),M=d($i,M,Ne),ze===null?de=$i:ze.sibling=$i,ze=$i,fe=Oe}if(Be.done)return a(L,fe),Le&&Br(L,Ne),de;if(fe===null){for(;!Be.done;Ne++,Be=q.next())Be=ee(L,Be.value,J),Be!==null&&(M=d(Be,M,Ne),ze===null?de=Be:ze.sibling=Be,ze=Be);return Le&&Br(L,Ne),de}for(fe=l(fe);!Be.done;Ne++,Be=q.next())Be=Q(fe,L,Ne,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ne:Be.key),M=d(Be,M,Ne),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&fe.forEach(function(H1){return r(L,H1)}),Le&&Br(L,Ne),de}function We(L,M,q,J){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case P:e:{for(var de=q.key;M!==null;){if(M.key===de){if(de=q.type,de===G){if(M.tag===7){a(L,M.sibling),J=f(M,q.props.children),J.return=L,L=J;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Fs(de)===M.type){a(L,M.sibling),J=f(M,q.props),cl(J,q),J.return=L,L=J;break e}a(L,M);break}else r(L,M);M=M.sibling}q.type===G?(J=Us(q.props.children,L.mode,J,q.key),J.return=L,L=J):(J=nc(q.type,q.key,q.props,null,L.mode,J),cl(J,q),J.return=L,L=J)}return _(L);case U:e:{for(de=q.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(L,M.sibling),J=f(M,q.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else r(L,M);M=M.sibling}J=Nf(q,L.mode,J),J.return=L,L=J}return _(L);case A:return q=Fs(q),We(L,M,q,J)}if(It(q))return he(L,M,q,J);if(j(q)){if(de=j(q),typeof de!="function")throw Error(s(150));return q=de.call(q),ge(L,M,q,J)}if(typeof q.then=="function")return We(L,M,uc(q),J);if(q.$$typeof===Y)return We(L,M,sc(L,q),J);cc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(L,M.sibling),J=f(M,q),J.return=L,L=J):(a(L,M),J=Rf(q,L.mode,J),J.return=L,L=J),_(L)):a(L,M)}return function(L,M,q,J){try{ul=0;var de=We(L,M,q,J);return za=null,de}catch(fe){if(fe===Ua||fe===oc)throw fe;var ze=vn(29,fe,null,L.mode);return ze.lanes=J,ze.return=L,ze}finally{}}}var Ks=Qg(!0),Yg=Qg(!1),Oi=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=tc(t),Dg(t,null,a),r}return ec(t,l,r,a),tc(t)}function hl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jo(t,a)}}function qf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Hf=!1;function fl(){if(Hf){var t=ja;if(t!==null)throw t}}function dl(t,r,a,l){Hf=!1;var f=t.updateQueue;Oi=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,H=I.next;I.next=null,_===null?d=H:_.next=H,_=I;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=H:b.next=H,$.lastBaseUpdate=I))}if(d!==null){var ee=f.baseState;_=0,$=H=I=null,b=d;do{var F=b.lane&-536870913,Q=F!==b.lane;if(Q?(De&F)===F:(l&F)===F){F!==0&&F===ka&&(Hf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,ge=b;F=r;var We=a;switch(ge.tag){case 1:if(he=ge.payload,typeof he=="function"){ee=he.call(We,ee,F);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,F=typeof he=="function"?he.call(We,ee,F):he,F==null)break e;ee=S({},ee,F);break e;case 2:Oi=!0}}F=b.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(H=$=Q,I=ee):$=$.next=Q,_|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Ui|=_,t.lanes=_,t.memoizedState=ee}}function $g(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Xg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],r)}var Ba=V(null),hc=V(0);function Jg(t,r){t=Wr,ae(hc,t),ae(Ba,r),Wr=t|r.baseLanes}function Ff(){ae(hc,Wr),ae(Ba,Ba.current)}function Gf(){Wr=hc.current,te(Ba),te(hc)}var En=V(null),kn=null;function Pi(t){var r=t.alternate;ae(mt,mt.current&1),ae(En,t),kn===null&&(r===null||Ba.current!==null||r.memoizedState!==null)&&(kn=t)}function Kf(t){ae(mt,mt.current),ae(En,t),kn===null&&(kn=t)}function Wg(t){t.tag===22?(ae(mt,mt.current),ae(En,t),kn===null&&(kn=t)):Li()}function Li(){ae(mt,mt.current),ae(En,En.current)}function Tn(t){te(En),kn===t&&(kn=null),te(mt)}var mt=V(0);function fc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||Zd(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Fr=0,xe=null,Xe=null,St=null,dc=!1,qa=!1,Qs=!1,mc=0,ml=0,Ha=null,MS=0;function ct(){throw Error(s(321))}function Qf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!_n(t[a],r[a]))return!1;return!0}function Yf(t,r,a,l,f,d){return Fr=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?Py:ud,Qs=!1,d=a(l,f),Qs=!1,qa&&(d=ey(r,a,l,f)),Zg(t),d}function Zg(t){X.H=yl;var r=Xe!==null&&Xe.next!==null;if(Fr=0,St=Xe=xe=null,dc=!1,ml=0,Ha=null,r)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&ic(t)&&(wt=!0))}function ey(t,r,a,l){xe=t;var f=0;do{if(qa&&(Ha=null),ml=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,St=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Ly,d=r(a,l)}while(qa);return d}function VS(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?pl(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),r}function $f(){var t=mc!==0;return mc=0,t}function Xf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Jf(t){if(dc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}dc=!1}Fr=0,St=Xe=xe=null,qa=!1,ml=mc=0,Ha=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?xe.memoizedState=St=t:St=St.next=t,St}function pt(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=St===null?xe.memoizedState:St.next;if(r!==null)St=r,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},St===null?xe.memoizedState=St=t:St=St.next=t}return St}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var r=ml;return ml+=1,Ha===null&&(Ha=[]),t=Fg(Ha,t,r),r=xe,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Py:ud),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===Y)return Ft(t)}throw Error(s(438,String(t)))}function Wf(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=pc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=D;return r.index++,a}function Gr(t,r){return typeof r=="function"?r(t):r}function yc(t){var r=pt();return Zf(r,Xe,t)}function Zf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=_=null,I=null,H=r,$=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(De&ee)===ee:(Fr&ee)===ee){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===ka&&($=!0);else if((Fr&F)===F){H=H.next,F===ka&&($=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(b=I=ee,_=d):I=I.next=ee,xe.lanes|=F,Ui|=F;ee=H.action,Qs&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(b=I=F,_=d):I=I.next=F,xe.lanes|=ee,Ui|=ee;H=H.next}while(H!==null&&H!==r);if(I===null?_=d:I.next=b,!_n(d,t.memoizedState)&&(wt=!0,$&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ed(t){var r=pt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);_n(d,r.memoizedState)||(wt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(t,r,a){var l=xe,f=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!_n((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,wt=!0),f=f.queue,rd(iy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},ry.bind(null,l,f,a,r),null),Ze===null)throw Error(s(349));d||(Fr&127)!==0||ny(l,r,a)}return a}function ny(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=pc(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ry(t,r,a,l){r.value=a,r.getSnapshot=l,sy(r)&&ay(t)}function iy(t,r,a){return a(function(){sy(r)&&ay(t)})}function sy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!_n(t,a)}catch{return!0}}function ay(t){var r=js(t,2);r!==null&&dn(r,t,2)}function td(t){var r=rn();if(typeof t=="function"){var a=t;if(t=a(),Qs){Rn(!0);try{a()}finally{Rn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},r}function oy(t,r,a,l){return t.baseState=a,Zf(t,Xe,typeof l=="function"?l:Gr)}function PS(t,r,a,l,f){if(Ec(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ly(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ly(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var b=a(f,l),I=X.S;I!==null&&I(_,b),uy(t,r,b)}catch(H){nd(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),uy(t,r,d)}catch(H){nd(t,r,H)}}function uy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cy(t,r,l)},function(l){return nd(t,r,l)}):cy(t,r,a)}function cy(t,r,a){r.status="fulfilled",r.value=a,hy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ly(t,a)))}function nd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,hy(r),r=r.next;while(r!==l)}t.action=null}function hy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function fy(t,r){return r}function dy(t,r){if(Le){var a=Ze.formState;if(a!==null){e:{var l=xe;if(Le){if(tt){t:{for(var f=tt,d=Ln;f.nodeType!==8;){if(!d){f=null;break t}if(f=jn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=jn(f.nextSibling),l=f.data==="F!";break e}}Ii(l)}l=!1}l&&(r=a[0])}}return a=rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:r},a.queue=l,a=Oy.bind(null,xe,l),l.dispatch=a,l=td(!1),d=ld.bind(null,xe,!1,l.queue),l=rn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=PS.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function my(t){var r=pt();return py(r,Xe,t)}function py(t,r,a){if(r=Zf(t,r,fy)[0],t=yc(Gr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(_){throw _===Ua?oc:_}else l=r;r=pt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,Fa(9,{destroy:void 0},LS.bind(null,f,a),null)),[l,d,t]}function LS(t,r){t.action=r}function gy(t){var r=pt(),a=Xe;if(a!==null)return py(r,a,t);pt(),r=r.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Fa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=pc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function yy(){return pt().memoizedState}function _c(t,r,a,l){var f=rn();xe.flags|=t,f.memoizedState=Fa(1|r,{destroy:void 0},a,l===void 0?null:l)}function vc(t,r,a,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&Qf(l,Xe.memoizedState.deps)?f.memoizedState=Fa(r,d,a,l):(xe.flags|=t,f.memoizedState=Fa(1|r,d,a,l))}function _y(t,r){_c(8390656,8,t,r)}function rd(t,r){vc(2048,8,t,r)}function kS(t){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=pc(),xe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function vy(t){var r=pt().memoizedState;return kS({ref:r,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ey(t,r){return vc(4,2,t,r)}function Ty(t,r){return vc(4,4,t,r)}function by(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Sy(t,r,a){a=a!=null?a.concat([t]):null,vc(4,4,by.bind(null,r,t),a)}function id(){}function wy(t,r){var a=pt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Qf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Ay(t,r){var a=pt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Qf(r,l[1]))return l[0];if(l=t(),Qs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,r],l}function sd(t,r,a){return a===void 0||(Fr&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=x_(),xe.lanes|=t,Ui|=t,a)}function xy(t,r,a,l){return _n(a,r)?a:Ba.current!==null?(t=sd(t,a,l),_n(t,r)||(wt=!0),t):(Fr&42)===0||(Fr&1073741824)!==0&&(De&261930)===0?(wt=!0,t.memoizedState=a):(t=x_(),xe.lanes|=t,Ui|=t,r)}function Ry(t,r,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,b={};X.T=b,ld(t,!1,r,a);try{var I=f(),H=X.S;if(H!==null&&H(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=OS(I,l);gl(t,r,$,wn(t))}else gl(t,r,l,wn(t))}catch(ee){gl(t,r,{then:function(){},status:"rejected",reason:ee},wn())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),X.T=_}}function jS(){}function ad(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Ny(t).queue;Ry(t,f,r,pe,a===null?jS:function(){return Cy(t),a(l)})}function Ny(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Cy(t){var r=Ny(t);r.next===null&&(r=t.alternate.memoizedState),gl(t,r.next.queue,{},wn())}function od(){return Ft(Ml)}function Iy(){return pt().memoizedState}function Dy(){return pt().memoizedState}function US(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();t=Mi(a);var l=Vi(r,t,a);l!==null&&(dn(l,r,a),hl(l,r,a)),r={cache:Lf()},t.payload=r;return}r=r.return}}function zS(t,r,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?My(r,a):(a=Af(t,r,a,l),a!==null&&(dn(a,t,l),Vy(a,r,l)))}function Oy(t,r,a){var l=wn();gl(t,r,a,l)}function gl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))My(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,_n(b,_))return ec(t,r,f,0),Ze===null&&Zu(),!1}catch{}finally{}if(a=Af(t,r,f,l),a!==null)return dn(a,t,l),Vy(a,r,l),!0}return!1}function ld(t,r,a,l){if(l={lane:2,revertLane:zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(r)throw Error(s(479))}else r=Af(t,a,l,2),r!==null&&dn(r,t,2)}function Ec(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function My(t,r){qa=dc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Vy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jo(t,a)}}var yl={readContext:Ft,use:gc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};yl.useEffectEvent=ct;var Py={readContext:Ft,use:gc,useCallback:function(t,r){return rn().memoizedState=[t,r===void 0?null:r],t},useContext:Ft,useEffect:_y,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,_c(4194308,4,by.bind(null,r,t),a)},useLayoutEffect:function(t,r){return _c(4194308,4,t,r)},useInsertionEffect:function(t,r){_c(4,2,t,r)},useMemo:function(t,r){var a=rn();r=r===void 0?null:r;var l=t();if(Qs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=rn();if(a!==void 0){var f=a(r);if(Qs){Rn(!0);try{a(r)}finally{Rn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=zS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=rn();return t={current:t},r.memoizedState=t},useState:function(t){t=td(t);var r=t.queue,a=Oy.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:id,useDeferredValue:function(t,r){var a=rn();return sd(a,t,r)},useTransition:function(){var t=td(!1);return t=Ry.bind(null,xe,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,f=rn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));(De&127)!==0||ny(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,_y(iy.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},ry.bind(null,l,d,a,r),null),a},useId:function(){var t=rn(),r=Ze.identifierPrefix;if(Le){var a=Ar,l=wr;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=mc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=MS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:od,useFormState:dy,useActionState:dy,useOptimistic:function(t){var r=rn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ld.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Wf,useCacheRefresh:function(){return rn().memoizedState=US.bind(null,xe)},useEffectEvent:function(t){var r=rn(),a={impl:t};return r.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:Ft,use:gc,useCallback:wy,useContext:Ft,useEffect:rd,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:Ay,useReducer:yc,useRef:yy,useState:function(){return yc(Gr)},useDebugValue:id,useDeferredValue:function(t,r){var a=pt();return xy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=yc(Gr)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:ty,useId:Iy,useHostTransitionStatus:od,useFormState:my,useActionState:my,useOptimistic:function(t,r){var a=pt();return oy(a,Xe,t,r)},useMemoCache:Wf,useCacheRefresh:Dy};ud.useEffectEvent=vy;var Ly={readContext:Ft,use:gc,useCallback:wy,useContext:Ft,useEffect:rd,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:Ay,useReducer:ed,useRef:yy,useState:function(){return ed(Gr)},useDebugValue:id,useDeferredValue:function(t,r){var a=pt();return Xe===null?sd(a,t,r):xy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=ed(Gr)[0],r=pt().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:ty,useId:Iy,useHostTransitionStatus:od,useFormState:gy,useActionState:gy,useOptimistic:function(t,r){var a=pt();return Xe!==null?oy(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Dy};Ly.useEffectEvent=vy;function cd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:S({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=wn(),f=Mi(l);f.payload=r,a!=null&&(f.callback=a),r=Vi(t,f,l),r!==null&&(dn(r,t,l),hl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=wn(),f=Mi(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Vi(t,f,l),r!==null&&(dn(r,t,l),hl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=wn(),l=Mi(a);l.tag=2,r!=null&&(l.callback=r),r=Vi(t,l,a),r!==null&&(dn(r,t,a),hl(r,t,a))}};function ky(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!rl(a,l)||!rl(f,d):!0}function jy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&hd.enqueueReplaceState(r,r.state,null)}function Ys(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Uy(t){Wu(t)}function zy(t){console.error(t)}function By(t){Wu(t)}function Tc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fd(t,r,a){return a=Mi(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,r)},a}function Hy(t){return t=Mi(t),t.tag=3,t}function Fy(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){qy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){qy(r,a,l),typeof f!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function BS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&La(r,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Mc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===lc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),kd(t,l,f)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),kd(t,l,f)),!1}throw Error(s(435,a.tag))}return kd(t,l,f),Mc(),!1}if(Le)return r=En.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Df&&(t=Error(s(422),{cause:l}),al(Mn(t,a)))):(l!==Df&&(r=Error(s(423),{cause:l}),al(Mn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=fd(t.stateNode,l,f),qf(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),Al===null?Al=[d]:Al.push(d),ht!==4&&(ht=2),r===null)return!0;l=Mn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=fd(a.stateNode,l,t),qf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zi===null||!zi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Hy(f),Fy(f,t,a,l),qf(a,f),!1}a=a.return}while(a!==null);return!1}var dd=Error(s(461)),wt=!1;function Gt(t,r,a,l){r.child=t===null?Yg(r,null,a,l):Ks(r,t.child,a,l)}function Gy(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return qs(r),l=Yf(t,r,a,_,d,f),b=$f(),t!==null&&!wt?(Xf(t,r,f),Kr(t,r,f)):(Le&&b&&Cf(r),r.flags|=1,Gt(t,r,l,f),r.child)}function Ky(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Qy(t,r,d,l,f)):(t=nc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Td(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(_,l)&&t.ref===r.ref)return Kr(t,r,f)}return r.flags|=1,t=zr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Qy(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(rl(d,l)&&t.ref===r.ref)if(wt=!1,r.pendingProps=l=d,Td(t,f))(t.flags&131072)!==0&&(wt=!0);else return r.lanes=t.lanes,Kr(t,r,f)}return md(t,r,a,l,f)}function Yy(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return $y(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(r,d!==null?d.cachePool:null),d!==null?Jg(r,d):Ff(),Wg(r);else return l=r.lanes=536870912,$y(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(r,d.cachePool),Jg(r,d),Li(),r.memoizedState=null):(t!==null&&ac(r,null),Ff(),Li());return Gt(t,r,f,a),r.child}function _l(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $y(t,r,a,l,f){var d=jf();return d=d===null?null:{parent:bt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&ac(r,null),Ff(),Wg(r),t!==null&&La(t,r,l,!0),r.childLanes=f,null}function bc(t,r){return r=wc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Xy(t,r,a){return Ks(r,t.child,null,a),t=bc(r,r.pendingProps),t.flags|=2,Tn(r),r.memoizedState=null,t}function qS(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=bc(r,l),r.lanes=536870912,_l(null,t);if(Kf(r),(t=tt)?(t=l0(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ni!==null?{id:wr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=r,r.child=a,Ht=r,tt=null)):t=null,t===null)throw Ii(r);return r.lanes=536870912,null}return bc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(r),f)if(r.flags&256)r.flags&=-257,r=Xy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(wt||La(t,r,a,!1),f=(a&t.childLanes)!==0,wt||f){if(l=Ze,l!==null&&(_=Uo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,js(t,_),dn(l,t,_),dd;Mc(),r=Xy(t,r,a)}else t=d.treeContext,tt=jn(_.nextSibling),Ht=r,Le=!0,Ci=null,Ln=!1,t!==null&&Lg(r,t),r=bc(r,l),r.flags|=4096;return r}return t=zr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Sc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function md(t,r,a,l,f){return qs(r),a=Yf(t,r,a,l,void 0,f),l=$f(),t!==null&&!wt?(Xf(t,r,f),Kr(t,r,f)):(Le&&l&&Cf(r),r.flags|=1,Gt(t,r,a,f),r.child)}function Jy(t,r,a,l,f,d){return qs(r),r.updateQueue=null,a=ey(r,l,a,f),Zg(t),l=$f(),t!==null&&!wt?(Xf(t,r,d),Kr(t,r,d)):(Le&&l&&Cf(r),r.flags|=1,Gt(t,r,a,d),r.child)}function Wy(t,r,a,l,f){if(qs(r),r.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},zf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Oa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hd.enqueueReplaceState(d,d.state,null),dl(r,l,d,f),fl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,I=Ys(a,b);d.props=I;var H=d.context,$=a.contextType;_=Oa,typeof $=="object"&&$!==null&&(_=Ft($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&jy(r,d,l,_),Oi=!1;var F=r.memoizedState;d.state=F,dl(r,l,d,f),fl(),H=r.memoizedState,b||F!==H||Oi?(typeof ee=="function"&&(cd(r,a,ee,l),H=r.memoizedState),(I=Oi||ky(r,a,I,l,F,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Bf(t,r),_=r.memoizedProps,$=Ys(a,_),d.props=$,ee=r.pendingProps,F=d.context,H=a.contextType,I=Oa,typeof H=="object"&&H!==null&&(I=Ft(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==I)&&jy(r,d,l,I),Oi=!1,F=r.memoizedState,d.state=F,dl(r,l,d,f),fl();var Q=r.memoizedState;_!==ee||F!==Q||Oi||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof b=="function"&&(cd(r,a,b,l),Q=r.memoizedState),($=Oi||ky(r,a,$,l,F,Q,I)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Sc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ks(r,t.child,null,f),r.child=Ks(r,null,a,f)):Gt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Kr(t,r,f),t}function Zy(t,r,a,l){return zs(),r.flags|=256,Gt(t,r,a,l),r.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(t){return{baseLanes:t,cachePool:qg()}}function yd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Sn),t}function e_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Le){if(f?Pi(r):Li(),(t=tt)?(t=l0(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ni!==null?{id:wr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=r,r.child=a,Ht=r,tt=null)):t=null,t===null)throw Ii(r);return Zd(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Li(),f=r.mode,b=wc({mode:"hidden",children:b},f),l=Us(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=gd(a),l.childLanes=yd(t,_,a),r.memoizedState=pd,_l(null,l)):(Pi(r),_d(r,b))}var I=t.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(Pi(r),r.flags&=-257,r=vd(t,r,a)):r.memoizedState!==null?(Li(),r.child=t.child,r.flags|=128,r=null):(Li(),b=l.fallback,f=r.mode,l=wc({mode:"visible",children:l.children},f),b=Us(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,Ks(r,t.child,null,a),l=r.child,l.memoizedState=gd(a),l.childLanes=yd(t,_,a),r.memoizedState=pd,r=_l(null,l));else if(Pi(r),Zd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,al({value:l,source:null,stack:null}),r=vd(t,r,a)}else if(wt||La(t,r,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=Ze,_!==null&&(l=Uo(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,js(t,l),dn(_,t,l),dd;Wd(b)||Mc(),r=vd(t,r,a)}else Wd(b)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,tt=jn(b.nextSibling),Ht=r,Le=!0,Ci=null,Ln=!1,t!==null&&Lg(r,t),r=_d(r,l.children),r.flags|=4096);return r}return f?(Li(),b=l.fallback,f=r.mode,I=t.child,H=I.sibling,l=zr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?b=zr(H,b):(b=Us(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,_l(null,l),l=r.child,b=t.child.memoizedState,b===null?b=gd(a):(f=b.cachePool,f!==null?(I=bt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=qg(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=yd(t,_,a),r.memoizedState=pd,_l(t.child,l)):(Pi(r),a=t.child,t=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function _d(t,r){return r=wc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function wc(t,r){return t=vn(22,t,null,r),t.lanes=0,t}function vd(t,r,a){return Ks(r,t.child,null,a),t=_d(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function t_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Vf(t.return,r,a)}function Ed(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function n_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,ae(mt,_),Gt(t,r,l,a),l=Le?sl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t_(t,a,r);else if(t.tag===19)t_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Ed(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&fc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ed(r,!0,a,null,d,l);break;case"together":Ed(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Kr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ui|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(La(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=zr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=zr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Td(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function HS(t,r,a){switch(r.tag){case 3:Dt(r,r.stateNode.containerInfo),Di(r,bt,t.memoizedState.cache),zs();break;case 27:case 5:Es(r);break;case 4:Dt(r,r.stateNode.containerInfo);break;case 10:Di(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Kf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?e_(t,r,a):(Pi(r),t=Kr(t,r,a),t!==null?t.sibling:null);Pi(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(La(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return n_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return r.lanes=0,Yy(t,r,a,r.pendingProps);case 24:Di(r,bt,t.memoizedState.cache)}return Kr(t,r,a)}function r_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)wt=!0;else{if(!Td(t,a)&&(r.flags&128)===0)return wt=!1,HS(t,r,a);wt=(t.flags&131072)!==0}else wt=!1,Le&&(r.flags&1048576)!==0&&Pg(r,sl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Fs(r.elementType),r.type=t,typeof t=="function")xf(t)?(l=Ys(t,l),r.tag=1,r=Wy(null,r,t,l,a)):(r.tag=0,r=md(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ue){r.tag=11,r=Gy(null,r,t,l,a);break e}else if(f===N){r.tag=14,r=Ky(null,r,t,l,a);break e}}throw r=it(t)||t,Error(s(306,r,""))}}return r;case 0:return md(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ys(l,r.pendingProps),Wy(t,r,l,f,a);case 3:e:{if(Dt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Bf(t,r),dl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Di(r,bt,l),l!==d.cache&&Pf(r,[bt],a,!0),fl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Zy(t,r,l,a);break e}else if(l!==f){f=Mn(Error(s(424)),r),al(f),r=Zy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=jn(t.firstChild),Ht=r,Le=!0,Ci=null,Ln=!0,a=Yg(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),l===f){r=Kr(t,r,a);break e}Gt(t,r,l,a)}r=r.child}return r;case 26:return Sc(t,r),t===null?(a=m0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Le||(a=r.type,t=r.pendingProps,l=zc(Re.current).createElement(a),l[vt]=r,l[kt]=t,Kt(l,a,t),Et(l),r.stateNode=l):r.memoizedState=m0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Es(r),t===null&&Le&&(l=r.stateNode=h0(r.type,r.pendingProps,Re.current),Ht=r,Ln=!0,f=tt,Fi(r.type)?(em=f,tt=jn(l.firstChild)):tt=f),Gt(t,r,r.pendingProps.children,a),Sc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Le&&((f=l=tt)&&(l=v1(l,r.type,r.pendingProps,Ln),l!==null?(r.stateNode=l,Ht=r,tt=jn(l.firstChild),Ln=!1,f=!0):f=!1),f||Ii(r)),Es(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,$d(f,d)?l=null:_!==null&&$d(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Yf(t,r,VS,null,null,a),Ml._currentValue=f),Sc(t,r),Gt(t,r,l,a),r.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=E1(a,r.pendingProps,Ln),a!==null?(r.stateNode=a,Ht=r,tt=null,t=!0):t=!1),t||Ii(r)),null;case 13:return e_(t,r,a);case 4:return Dt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ks(r,null,l,a):Gt(t,r,l,a),r.child;case 11:return Gy(t,r,r.type,r.pendingProps,a);case 7:return Gt(t,r,r.pendingProps,a),r.child;case 8:return Gt(t,r,r.pendingProps.children,a),r.child;case 12:return Gt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Di(r,r.type,l.value),Gt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,qs(r),f=Ft(f),l=l(f),r.flags|=1,Gt(t,r,l,a),r.child;case 14:return Ky(t,r,r.type,r.pendingProps,a);case 15:return Qy(t,r,r.type,r.pendingProps,a);case 19:return n_(t,r,a);case 31:return qS(t,r,a);case 22:return Yy(t,r,a,r.pendingProps);case 24:return qs(r),l=Ft(bt),t===null?(f=jf(),f===null&&(f=Ze,d=Lf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},zf(r),Di(r,bt,f)):((t.lanes&a)!==0&&(Bf(t,r),dl(r,null,null,a),fl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Di(r,bt,l)):(l=d.cache,Di(r,bt,l),l!==f.cache&&Pf(r,[bt],a,!0))),Gt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Qr(t){t.flags|=4}function bd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(I_())t.flags|=8192;else throw Gs=lc,Uf}else t.flags&=-16777217}function i_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v0(r))if(I_())t.flags|=8192;else throw Gs=lc,Uf}function Ac(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Du():536870912,t.lanes|=r,Ya|=r)}function vl(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function FS(t,r,a){var l=r.pendingProps;switch(If(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hr(bt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(r)?Qr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Of())),nt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(Qr(r),d!==null?(nt(r),i_(r,d)):(nt(r),bd(r,f,null,l,a))):d?d!==t.memoizedState?(Qr(r),nt(r),i_(r,d)):(nt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qr(r),nt(r),bd(r,f,t,l,a)),null;case 27:if(da(r),a=Re.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}t=ce.current,Pa(r)?kg(r):(t=h0(f,l,a),r.stateNode=t,Qr(r))}return nt(r),null;case 5:if(da(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}if(d=ce.current,Pa(r))kg(r);else{var _=zc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[vt]=r,d[kt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qr(r)}}return nt(r),bd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Qr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Re.current,Pa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[vt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||e0(t.nodeValue,a)),t||Ii(r,!0)}else t=zc(t).createTextNode(l),t[vt]=r,r.stateNode=t}return nt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Pa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=r}else zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),t=!1}else a=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Tn(r),r):(Tn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return nt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Pa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[vt]=r}else zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),f=!1}else f=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Tn(r),r):(Tn(r),null)}return Tn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Ac(r,r.updateQueue),nt(r),null);case 4:return st(),t===null&&Fd(r.stateNode.containerInfo),nt(r),null;case 10:return Hr(r.type),nt(r),null;case 19:if(te(mt),l=r.memoizedState,l===null)return nt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)vl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=fc(t),d!==null){for(r.flags|=128,vl(l,!1),t=d.updateQueue,r.updateQueue=t,Ac(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Og(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&Br(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&tn()>Ic&&(r.flags|=128,f=!0,vl(l,!1),r.lanes=4194304)}else{if(!f)if(t=fc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Ac(r,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(r),null}else 2*tn()-l.renderingStartTime>Ic&&a!==536870912&&(r.flags|=128,f=!0,vl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=mt.current,ae(mt,f?a&1|2:a&1),Le&&Br(r,l.treeForkCount),t):(nt(r),null);case 22:case 23:return Tn(r),Gf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),a=r.updateQueue,a!==null&&Ac(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&te(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Hr(bt),nt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function GS(t,r){switch(If(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Hr(bt),st(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return da(r),null;case 31:if(r.memoizedState!==null){if(Tn(r),r.alternate===null)throw Error(s(340));zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Tn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(mt),null;case 4:return st(),null;case 10:return Hr(r.type),null;case 22:case 23:return Tn(r),Gf(),t!==null&&te(Hs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Hr(bt),null;case 25:return null;default:return null}}function s_(t,r){switch(If(r),r.tag){case 3:Hr(bt),st();break;case 26:case 27:case 5:da(r);break;case 4:st();break;case 31:r.memoizedState!==null&&Tn(r);break;case 13:Tn(r);break;case 19:te(mt);break;case 10:Hr(r.type);break;case 22:case 23:Tn(r),Gf(),t!==null&&te(Hs);break;case 24:Hr(bt)}}function El(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Ye(r,r.return,b)}}function ki(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var I=a,H=b;try{H()}catch($){Ye(f,I,$)}}}l=l.next}while(l!==d)}}catch($){Ye(r,r.return,$)}}function a_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Xg(r,a)}catch(l){Ye(t,t.return,l)}}}function o_(t,r,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,r,l)}}function Tl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,r,f)}}function xr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,r,f)}else a.current=null}function l_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function Sd(t,r,a){try{var l=t.stateNode;d1(l,t.type,a,r),l[kt]=r}catch(f){Ye(t,t.return,f)}}function u_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fi(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Kn));else if(l!==4&&(l===27&&Fi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Ad(t,r,a),t=t.sibling;t!==null;)Ad(t,r,a),t=t.sibling}function xc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Fi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,r,a),t=t.sibling;t!==null;)xc(t,r,a),t=t.sibling}function c_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Kt(r,l,a),r[vt]=t,r[kt]=a}catch(d){Ye(t,t.return,d)}}var Yr=!1,At=!1,xd=!1,h_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function KS(t,r){if(t=t.containerInfo,Qd=Qc,t=Sg(t),vf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,I=-1,H=0,$=0,ee=t,F=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(b=_+f),ee!==d||l!==0&&ee.nodeType!==3||(I=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)F=ee,ee=Q;for(;;){if(ee===t)break t;if(F===a&&++H===f&&(b=_),F===d&&++$===l&&(I=_),(Q=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Q}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},Qc=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Ys(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}}function f_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xr(t,a),l&4&&El(5,a);break;case 1:if(Xr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=Ys(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&a_(a),l&512&&Tl(a,a.return);break;case 3:if(Xr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Xg(t,r)}catch(_){Ye(a,a.return,_)}}break;case 27:r===null&&l&4&&c_(a);case 26:case 5:Xr(t,a),r===null&&l&4&&l_(a),l&512&&Tl(a,a.return);break;case 12:Xr(t,a);break;case 31:Xr(t,a),l&4&&p_(t,a);break;case 13:Xr(t,a),l&4&&g_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=t1.bind(null,a),T1(t,a))));break;case 22:if(l=a.memoizedState!==null||Yr,!l){r=r!==null&&r.memoizedState!==null||At,f=Yr;var d=At;Yr=l,(At=r)&&!d?Jr(t,a,(a.subtreeFlags&8772)!==0):Xr(t,a),Yr=f,At=d}break;case 30:break;default:Xr(t,a)}}function d_(t){var r=t.alternate;r!==null&&(t.alternate=null,d_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&_a(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,un=!1;function $r(t,r,a){for(a=a.child;a!==null;)m_(t,r,a),a=a.sibling}function m_(t,r,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:At||xr(a,r),$r(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||xr(a,r);var l=ot,f=un;Fi(a.type)&&(ot=a.stateNode,un=!1),$r(t,r,a),Il(a.stateNode),ot=l,un=f;break;case 5:At||xr(a,r);case 6:if(l=ot,f=un,ot=null,$r(t,r,a),ot=l,un=f,ot!==null)if(un)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,r,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,r,d)}break;case 18:ot!==null&&(un?(t=ot,a0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):a0(ot,a.stateNode));break;case 4:l=ot,f=un,ot=a.stateNode.containerInfo,un=!0,$r(t,r,a),ot=l,un=f;break;case 0:case 11:case 14:case 15:ki(2,a,r),At||ki(4,a,r),$r(t,r,a);break;case 1:At||(xr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&o_(a,r,l)),$r(t,r,a);break;case 21:$r(t,r,a);break;case 22:At=(l=At)||a.memoizedState!==null,$r(t,r,a),At=l;break;default:$r(t,r,a)}}function p_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){Ye(r,r.return,a)}}}function g_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){Ye(r,r.return,a)}}function QS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new h_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new h_),r;default:throw Error(s(435,t.tag))}}function Rc(t,r){var a=QS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=n1.bind(null,t,l);l.then(f,f)}})}function cn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Fi(b.type)){ot=b.stateNode,un=!1;break e}break;case 5:ot=b.stateNode,un=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(ot===null)throw Error(s(160));m_(d,_,f),ot=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)y_(r,t),r=r.sibling}var Wn=null;function y_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(r,t),hn(t),l&4&&(ki(3,t,t.return),El(3,t),ki(5,t,t.return));break;case 1:cn(r,t),hn(t),l&512&&(At||a===null||xr(a,a.return)),l&64&&Yr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Wn;if(cn(r,t),hn(t),l&512&&(At||a===null||xr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[fr]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=y0("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=y0("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else _0(f,t.type,t.stateNode);else t.stateNode=g0(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_0(f,t.type,t.stateNode):g0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(r,t),hn(t),l&512&&(At||a===null||xr(a,a.return)),a!==null&&l&4&&Sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(r,t),hn(t),l&512&&(At||a===null||xr(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Sd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(xd=!0);break;case 6:if(cn(r,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(Hc=null,f=Wn,Wn=Bc(r.containerInfo),cn(r,t),Wn=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(r.containerInfo)}catch(he){Ye(t,t.return,he)}xd&&(xd=!1,__(t));break;case 4:l=Wn,Wn=Bc(t.stateNode.containerInfo),cn(r,t),hn(t),Wn=l;break;case 12:cn(r,t),hn(t);break;case 31:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 13:cn(r,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Yr,$=At;if(Yr=H||f,At=$||I,cn(r,t),At=$,Yr=H,hn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||Yr||At||$s(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=I.stateNode;var ee=I.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){Ye(I,I.return,he)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(he){Ye(I,I.return,he)}}}else if(r.tag===18){if(a===null){I=r;try{var Q=I.stateNode;f?o0(Q,!0):o0(I.stateNode,!1)}catch(he){Ye(I,I.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(t,a))));break;case 19:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 30:break;case 21:break;default:cn(r,t),hn(t)}}function hn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(u_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=wd(t);xc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var b=wd(t);xc(t,b,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=wd(t);Ad(t,H,I);break;default:throw Error(s(161))}}catch($){Ye(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function __(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;__(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Xr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)f_(t,r.alternate,r),r=r.sibling}function $s(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ki(4,r,r.return),$s(r);break;case 1:xr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&o_(r,r.return,a),$s(r);break;case 27:Il(r.stateNode);case 26:case 5:xr(r,r.return),$s(r);break;case 22:r.memoizedState===null&&$s(r);break;case 30:$s(r);break;default:$s(r)}t=t.sibling}}function Jr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Jr(f,d,a),El(4,d);break;case 1:if(Jr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Ye(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)$g(I[f],b)}catch(H){Ye(l,l.return,H)}}a&&_&64&&a_(d),Tl(d,d.return);break;case 27:c_(d);case 26:case 5:Jr(f,d,a),a&&l===null&&_&4&&l_(d),Tl(d,d.return);break;case 12:Jr(f,d,a);break;case 31:Jr(f,d,a),a&&_&4&&p_(f,d);break;case 13:Jr(f,d,a),a&&_&4&&g_(f,d);break;case 22:d.memoizedState===null&&Jr(f,d,a),Tl(d,d.return);break;case 30:break;default:Jr(f,d,a)}r=r.sibling}}function Rd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Nd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t))}function Zn(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)v_(t,r,a,l),r=r.sibling}function v_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Zn(t,r,a,l),f&2048&&El(9,r);break;case 1:Zn(t,r,a,l);break;case 3:Zn(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t)));break;case 12:if(f&2048){Zn(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ye(r,r.return,I)}}else Zn(t,r,a,l);break;case 31:Zn(t,r,a,l);break;case 13:Zn(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Zn(t,r,a,l):bl(t,r):d._visibility&2?Zn(t,r,a,l):(d._visibility|=2,Ga(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Rd(_,r);break;case 24:Zn(t,r,a,l),f&2048&&Nd(r.alternate,r);break;default:Zn(t,r,a,l)}}function Ga(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,b=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(d,_,b,I,f),El(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ga(d,_,b,I,f):bl(d,_):($._visibility|=2,Ga(d,_,b,I,f)),f&&H&2048&&Rd(_.alternate,_);break;case 24:Ga(d,_,b,I,f),f&&H&2048&&Nd(_.alternate,_);break;default:Ga(d,_,b,I,f)}r=r.sibling}}function bl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:bl(a,l),f&2048&&Rd(l.alternate,l);break;case 24:bl(a,l),f&2048&&Nd(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var Sl=8192;function Ka(t,r,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)E_(t,r,a),t=t.sibling}function E_(t,r,a){switch(t.tag){case 26:Ka(t,r,a),t.flags&Sl&&t.memoizedState!==null&&M1(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,r,a);break;case 3:case 4:var l=Wn;Wn=Bc(t.stateNode.containerInfo),Ka(t,r,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Ka(t,r,a),Sl=l):Ka(t,r,a));break;default:Ka(t,r,a)}}function T_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function wl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,S_(l,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)b_(t),t=t.sibling}function b_(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&ki(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Nc(t)):wl(t);break;default:wl(t)}}function Nc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,S_(l,t)}T_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ki(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(r));break;default:Nc(r)}t=t.sibling}}function S_(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:ki(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(d_(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var YS={getCacheForType:function(t){var r=Ft(bt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Ft(bt).controller.signal}},$S=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ce=null,De=0,Qe=0,bn=null,ji=!1,Qa=!1,Cd=!1,Wr=0,ht=0,Ui=0,Xs=0,Id=0,Sn=0,Ya=0,Al=null,fn=null,Dd=!1,Cc=0,w_=0,Ic=1/0,Dc=null,zi=null,Mt=0,Bi=null,$a=null,Zr=0,Od=0,Md=null,A_=null,xl=0,Vd=null;function wn(){return(He&2)!==0&&De!==0?De&-De:X.T!==null?zd():Ou()}function x_(){if(Sn===0)if((De&536870912)===0||Le){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function dn(t,r,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),qi(t,De,Sn,!1)),ws(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Xs|=a),ht===4&&qi(t,De,Sn,!1)),Rr(t))}function R_(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Hn(t,r),f=l?WS(t,r):Ld(t,r,!0),d=l;do{if(f===0){Qa&&!l&&qi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!XS(a)){f=Ld(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;f=Al;var I=b.current.memoizedState.isDehydrated;if(I&&(Xa(b,_).flags|=256),_=Ld(b,_,!1),_!==2){if(Cd&&!I){b.errorRecoveryDisabledLanes|=d,Xs|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Xa(t,0),qi(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:qi(l,r,Sn,!ji);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Cc+300-tn(),10<f)){if(qi(l,r,Sn,!ji),ur(l,0,!0)!==0)break e;Zr=r,l.timeoutHandle=i0(N_.bind(null,l,a,fn,Dc,Dd,r,Sn,Xs,Ya,ji,d,"Throttled",-0,0),f);break e}N_(l,a,fn,Dc,Dd,r,Sn,Xs,Ya,ji,d,null,-0,0)}}break}while(!0);Rr(t)}function N_(t,r,a,l,f,d,_,b,I,H,$,ee,F,Q){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},E_(r,d,ee);var he=(d&62914560)===d?Cc-tn():(d&4194048)===d?w_-tn():0;if(he=V1(ee,he),he!==null){Zr=d,t.cancelPendingCommit=he(L_.bind(null,t,r,d,a,l,f,_,b,I,$,ee,null,F,Q)),qi(t,d,_,!H);return}}L_(t,r,d,a,l,f,_,b,I)}function XS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function qi(t,r,a,l){r&=~Id,r&=~Xs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-ft(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&As(t,a,r)}function Oc(){return(He&6)===0?(Rl(0),!1):!0}function Pd(){if(Ce!==null){if(Qe===0)var t=Ce.return;else t=Ce,qr=Bs=null,Jf(t),za=null,ul=0,t=Ce;for(;t!==null;)s_(t.alternate,t),t=t.return;Ce=null}}function Xa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,g1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zr=0,Pd(),Ze=t,Ce=a=zr(t.current,null),De=r,Qe=0,bn=null,ji=!1,Qa=Hn(t,r),Cd=!1,Ya=Sn=Id=Xs=Ui=ht=0,fn=Al=null,Dd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-ft(l),d=1<<f;r|=t[f],l&=~d}return Wr=r,Zu(),a}function C_(t,r){xe=null,X.H=yl,r===Ua||r===oc?(r=Gg(),Qe=3):r===Uf?(r=Gg(),Qe=4):Qe=r===dd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Ce===null&&(ht=1,Tc(t,Mn(r,t.current)))}function I_(){var t=En.current;return t===null?!0:(De&4194048)===De?kn===null:(De&62914560)===De||(De&536870912)!==0?t===kn:!1}function D_(){var t=X.H;return X.H=yl,t===null?yl:t}function O_(){var t=X.A;return X.A=YS,t}function Mc(){ht=4,ji||(De&4194048)!==De&&En.current!==null||(Qa=!0),(Ui&134217727)===0&&(Xs&134217727)===0||Ze===null||qi(Ze,De,Sn,!1)}function Ld(t,r,a){var l=He;He|=2;var f=D_(),d=O_();(Ze!==t||De!==r)&&(Dc=null,Xa(t,r)),r=!1;var _=ht;e:do try{if(Qe!==0&&Ce!==null){var b=Ce,I=bn;switch(Qe){case 8:Pd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(r=!0);var H=Qe;if(Qe=0,bn=null,Ja(t,b,I,H),a&&Qa){_=0;break e}break;default:H=Qe,Qe=0,bn=null,Ja(t,b,I,H)}}JS(),_=ht;break}catch($){C_(t,$)}while(!0);return r&&t.shellSuspendCounter++,qr=Bs=null,He=l,X.H=f,X.A=d,Ce===null&&(Ze=null,De=0,Zu()),_}function JS(){for(;Ce!==null;)M_(Ce)}function WS(t,r){var a=He;He|=2;var l=D_(),f=O_();Ze!==t||De!==r?(Dc=null,Ic=tn()+500,Xa(t,r)):Qa=Hn(t,r);e:do try{if(Qe!==0&&Ce!==null){r=Ce;var d=bn;t:switch(Qe){case 1:Qe=0,bn=null,Ja(t,r,d,1);break;case 2:case 9:if(Hg(d)){Qe=0,bn=null,V_(r);break}r=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),Rr(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Hg(d)?(Qe=0,bn=null,V_(r)):(Qe=0,bn=null,Ja(t,r,d,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var b=Ce;if(_?v0(_):b.stateNode.complete){Qe=0,bn=null;var I=b.sibling;if(I!==null)Ce=I;else{var H=b.return;H!==null?(Ce=H,Vc(H)):Ce=null}break t}}Qe=0,bn=null,Ja(t,r,d,5);break;case 6:Qe=0,bn=null,Ja(t,r,d,6);break;case 8:Pd(),ht=6;break e;default:throw Error(s(462))}}ZS();break}catch($){C_(t,$)}while(!0);return qr=Bs=null,X.H=l,X.A=f,He=a,Ce!==null?0:(Ze=null,De=0,Zu(),ht)}function ZS(){for(;Ce!==null&&!ff();)M_(Ce)}function M_(t){var r=r_(t.alternate,t,Wr);t.memoizedProps=t.pendingProps,r===null?Vc(t):Ce=r}function V_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Jy(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=Jy(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:Jf(r);default:s_(a,r),r=Ce=Og(r,Wr),r=r_(a,r,Wr)}t.memoizedProps=t.pendingProps,r===null?Vc(t):Ce=r}function Ja(t,r,a,l){qr=Bs=null,Jf(r),za=null,ul=0;var f=r.return;try{if(BS(t,f,r,a,De)){ht=1,Tc(t,Mn(a,t.current)),Ce=null;return}}catch(d){if(f!==null)throw Ce=f,d;ht=1,Tc(t,Mn(a,t.current)),Ce=null;return}r.flags&32768?(Le||l===1?t=!0:Qa||(De&536870912)!==0?t=!1:(ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),P_(r,t)):Vc(r)}function Vc(t){var r=t;do{if((r.flags&32768)!==0){P_(r,ji);return}t=r.return;var a=FS(r.alternate,r,Wr);if(a!==null){Ce=a;return}if(r=r.sibling,r!==null){Ce=r;return}Ce=r=t}while(r!==null);ht===0&&(ht=5)}function P_(t,r){do{var a=GS(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ht=6,Ce=null}function L_(t,r,a,l,f,d,_,b,I){t.cancelPendingCommit=null;do Pc();while(Mt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=wf,pf(t,a,d,_,b,I),t===Ze&&(Ce=Ze=null,De=0),$a=r,Bi=t,Zr=a,Od=d,Md=f,A_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,r1(_i,function(){return B_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,_=He,He|=4;try{KS(t,r,a)}finally{He=_,se.p=f,X.T=l}}Mt=1,k_(),j_(),U_()}}function k_(){if(Mt===1){Mt=0;var t=Bi,r=$a,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{y_(r,t);var d=Yd,_=Sg(t.containerInfo),b=d.focusedElem,I=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&bg(b.ownerDocument.documentElement,b)){if(I!==null&&vf(b)){var H=I.start,$=I.end;if($===void 0&&($=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min($,b.value.length);else{var ee=b.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Q=F.getSelection(),he=b.textContent.length,ge=Math.min(I.start,he),We=I.end===void 0?ge:Math.min(I.end,he);!Q.extend&&ge>We&&(_=We,We=ge,ge=_);var L=Tg(b,ge),M=Tg(b,We);if(L&&M&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var q=ee.createRange();q.setStart(L.node,L.offset),Q.removeAllRanges(),ge>We?(Q.addRange(q),Q.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),Q.addRange(q))}}}}for(ee=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var J=ee[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Qc=!!Qd,Yd=Qd=null}finally{He=f,se.p=l,X.T=a}}t.current=r,Mt=2}}function j_(){if(Mt===2){Mt=0;var t=Bi,r=$a,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{f_(t,r.alternate,r)}finally{He=f,se.p=l,X.T=a}}Mt=3}}function U_(){if(Mt===4||Mt===3){Mt=0,Au();var t=Bi,r=$a,a=Zr,l=A_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Mt=5:(Mt=0,$a=Bi=null,z_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(zi=null),Lr(a),r=r.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(qn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{X.T=r,se.p=f}}(Zr&3)!==0&&Pc(),Rr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Vd?xl++:(xl=0,Vd=t):xl=0,Rl(0)}}function z_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ol(r)))}function Pc(){return k_(),j_(),U_(),B_()}function B_(){if(Mt!==5)return!1;var t=Bi,r=Od;Od=0;var a=Lr(Zr),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=Md,Md=null;var d=Bi,_=Zr;if(Mt=0,$a=Bi=null,Zr=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,b_(d.current),v_(d,d.current,_,a),He=b,Rl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{se.p=f,X.T=l,z_(t,r)}}function q_(t,r,a){r=Mn(a,r),r=fd(t.stateNode,r,2),t=Vi(t,r,2),t!==null&&(ws(t,2),Rr(t))}function Ye(t,r,a){if(t.tag===3)q_(t,t,a);else for(;r!==null;){if(r.tag===3){q_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zi===null||!zi.has(l))){t=Mn(a,t),a=Hy(2),l=Vi(r,a,2),l!==null&&(Fy(a,l,r,t),ws(l,2),Rr(l));break}}r=r.return}}function kd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $S;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Cd=!0,f.add(a),t=e1.bind(null,t,r,a),r.then(t,t))}function e1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>tn()-Cc?(He&2)===0&&Xa(t,0):Id|=a,Ya===De&&(Ya=0)),Rr(t)}function H_(t,r){r===0&&(r=Du()),t=js(t,r),t!==null&&(ws(t,r),Rr(t))}function t1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),H_(t,a)}function n1(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),H_(t,a)}function r1(t,r){return Ot(t,r)}var Lc=null,Wa=null,jd=!1,kc=!1,Ud=!1,Hi=0;function Rr(t){t!==Wa&&t.next===null&&(Wa===null?Lc=Wa=t:Wa=Wa.next=t),kc=!0,jd||(jd=!0,s1())}function Rl(t,r){if(!Ud&&kc){Ud=!0;do for(var a=!1,l=Lc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=De,d=ur(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);Ud=!1}}function i1(){F_()}function F_(){kc=jd=!1;var t=0;Hi!==0&&p1()&&(t=Hi);for(var r=tn(),a=null,l=Lc;l!==null;){var f=l.next,d=G_(l,r);d===0?(l.next=null,a===null?Lc=f:a.next=f,f===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=f}Mt!==0&&Mt!==5||Rl(t),Hi!==0&&(Hi=0)}function G_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),b=1<<_,I=f[_];I===-1?((b&a)===0||(b&l)!==0)&&(f[_]=mf(b,r)):I<=r&&(t.expiredLanes|=b),d&=~b}if(r=Ze,a=De,a=ur(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&yi(l),Lr(a)){case 2:case 8:a=ko;break;case 32:a=_i;break;case 268435456:a=xu;break;default:a=_i}return l=K_.bind(null,t),a=Ot(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&yi(l),t.callbackPriority=2,t.callbackNode=null,2}function K_(t,r){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pc()&&t.callbackNode!==a)return null;var l=De;return l=ur(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(R_(t,l,r),G_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?K_.bind(null,t):null)}function Q_(t,r){if(Pc())return null;R_(t,r,!0)}function s1(){y1(function(){(He&6)!==0?Ot(Lo,i1):F_()})}function zd(){if(Hi===0){var t=ka;t===0&&(t=or,or<<=1,(or&261888)===0&&(or=256)),Hi=t}return Hi}function Y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function $_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function a1(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Y_((f[kt]||null).action),_=l.submitter;_&&(r=(r=_[kt]||null)?Y_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Er("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hi!==0){var I=_?$_(f,_):new FormData(f);ad(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=_?$_(f,_):new FormData(f),ad(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Bd=0;Bd<Sf.length;Bd++){var qd=Sf[Bd],o1=qd.toLowerCase(),l1=qd[0].toUpperCase()+qd.slice(1);Jn(o1,"on"+l1)}Jn(xg,"onAnimationEnd"),Jn(Rg,"onAnimationIteration"),Jn(Ng,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(wS,"onTransitionRun"),Jn(AS,"onTransitionStart"),Jn(xS,"onTransitionCancel"),Jn(Cg,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function X_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],I=b.instance,H=b.currentTarget;if(b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch($){Wu($)}f.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(b=l[_],I=b.instance,H=b.currentTarget,b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch($){Wu($)}f.currentTarget=null,d=I}}}}function Ie(t,r){var a=r[ya];a===void 0&&(a=r[ya]=new Set);var l=t+"__bubble";a.has(l)||(J_(r,t,2,!1),a.add(l))}function Hd(t,r,a){var l=0;r&&(l|=4),J_(a,t,l,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[jc]){t[jc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(u1.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[jc]||(r[jc]=!0,Hd("selectionchange",!1,r))}}function J_(t,r,a,l){switch(x0(r)){case 2:var f=k1;break;case 8:f=j1;break;default:f=sm}a=f.bind(null,r,a,t),f=void 0,!Is||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Gd(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=dr(b),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}b=b.parentNode}}l=l.return}wi(function(){var H=d,$=Cn(a),ee=[];e:{var F=Ig.get(t);if(F!==void 0){var Q=Er,he=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":Q=$u;break;case"focusin":he="focus",Q=Vs;break;case"focusout":he="blur",Q=Vs;break;case"beforeblur":case"afterblur":Q=Vs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case xg:case Rg:case Ng:Q=qu;break;case Cg:Q=w;break;case"scroll":case"scrollend":Q=Wo;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ur;break;case"toggle":case"beforetoggle":Q=Ae}var ge=(r&4)!==0,We=!ge&&(t==="scroll"||t==="scrollend"),L=ge?F!==null?F+"Capture":null:F;ge=[];for(var M=H,q;M!==null;){var J=M;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||L===null||(J=Qn(M,L),J!=null&&ge.push(Cl(M,J,q))),We)break;M=M.return}0<ge.length&&(F=new Q(F,he,null,a,$),ee.push({event:F,listeners:ge}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==$o&&(he=a.relatedTarget||a.fromElement)&&(dr(he)||he[hr]))break e;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=H,he=he?dr(he):null,he!==null&&(We=u(he),ge=he.tag,he!==We||ge!==5&&ge!==27&&ge!==6)&&(he=null)):(Q=null,he=H),Q!==he)){if(ge=Zo,J="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Ur,J="onPointerLeave",L="onPointerEnter",M="pointer"),We=Q==null?F:gn(Q),q=he==null?F:gn(he),F=new ge(J,M+"leave",Q,a,$),F.target=We,F.relatedTarget=q,J=null,dr($)===H&&(ge=new ge(L,M+"enter",he,a,$),ge.target=q,ge.relatedTarget=We,J=ge),We=J,Q&&he)t:{for(ge=c1,L=Q,M=he,q=0,J=L;J;J=ge(J))q++;J=0;for(var de=M;de;de=ge(de))J++;for(;0<q-J;)L=ge(L),q--;for(;0<J-q;)M=ge(M),J--;for(;q--;){if(L===M||M!==null&&L===M.alternate){ge=L;break t}L=ge(L),M=ge(M)}ge=null}else ge=null;Q!==null&&W_(ee,F,Q,ge,!1),he!==null&&We!==null&&W_(ee,We,he,ge,!0)}}e:{if(F=H?gn(H):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var ze=pg;else if(dg(F))if(gg)ze=TS;else{ze=vS;var fe=_S}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ta(H.elementType)&&(ze=pg):ze=ES;if(ze&&(ze=ze(t,H))){mg(ee,ze,a,$);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Ko(F,"number",F.value)}switch(fe=H?gn(H):window,t){case"focusin":(dg(fe)||fe.contentEditable==="true")&&(Ca=fe,Ef=H,il=null);break;case"focusout":il=Ef=Ca=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,wg(ee,a,$);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":wg(ee,a,$)}var Ne;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Na?Ps(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Sr&&a.locale!=="ko"&&(Na||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Na&&(Ne=Jo()):(vr=$,Xo="value"in vr?vr.value:vr.textContent,Na=!0)),fe=Uc(H,Oe),0<fe.length&&(Oe=new br(Oe,t,null,a,$),ee.push({event:Oe,listeners:fe}),Ne?Oe.data=Ne:(Ne=Ra(a),Ne!==null&&(Oe.data=Ne)))),(Ne=Dn?mS(t,a):pS(t,a))&&(Oe=Uc(H,"onBeforeInput"),0<Oe.length&&(fe=new br("onBeforeInput","beforeinput",null,a,$),ee.push({event:fe,listeners:Oe}),fe.data=Ne)),a1(ee,t,H,a,$)}X_(ee,r)})}function Cl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Uc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Qn(t,a),f!=null&&l.unshift(Cl(t,f,d)),f=Qn(t,r),f!=null&&l.push(Cl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function c1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function W_(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,I=b.alternate,H=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||H===null||(I=H,f?(H=Qn(a,d),H!=null&&_.unshift(Cl(a,H,I))):f||(H=Qn(a,d),H!=null&&_.push(Cl(a,H,I)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var h1=/\r\n?/g,f1=/\u0000|\uFFFD/g;function Z_(t){return(typeof t=="string"?t:""+t).replace(h1,`
`).replace(f1,"")}function e0(t,r){return r=Z_(r),Z_(t)===r}function Je(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Yo(t,l,d);break;case"data":if(r!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",f.name,f,null),Je(t,r,"formEncType",f.formEncType,f,null),Je(t,r,"formMethod",f.formMethod,f,null),Je(t,r,"formTarget",f.formTarget,f,null)):(Je(t,r,"encType",f.encType,f,null),Je(t,r,"method",f.method,f,null),Je(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),va(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uu.get(a)||a,va(t,a,l))}}function Kd(t,r,a,l,f,d){switch(a){case"style":Yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Kt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,d,_,a,null)}}f&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":Ie("invalid",t);var b=d=_=f=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":I=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Je(t,r,l,$,a,null)}}Lu(t,d,b,I,H,_,f,!1);return;case"select":Ie("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Je(t,r,f,b,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Ei(t,!!l,r,!1):a!=null&&Ei(t,!!l,a,!0);return;case"textarea":Ie("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(t,r,_,b,a,null)}Ti(t,l,f,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,I,l,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ie(Nl[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,H,l,a,null)}return;default:if(Ta(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Kd(t,r,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(t,r,b,l,a,null))}function d1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,I=null,H=null,$=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Q)||Je(t,r,Q,null,l,ee)}}for(var F in l){var Q=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(Q!=null||ee!=null))switch(F){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ee&&Je(t,r,F,Q,l,ee)}}Ea(t,_,b,I,H,$,d,f);return;case"select":Q=_=b=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||Je(t,r,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==I&&Je(t,r,f,d,l,I)}r=b,a=_,l=Q,F!=null?Ei(t,!!a,F,!1):!!l!=!!a&&(r!=null?Ei(t,!!a,r,!0):Ei(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,r,_,f,l,d)}ku(t,F,Q);return;case"option":for(var he in a)if(F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Je(t,r,he,null,l,F)}for(I in l)if(F=l[I],Q=a[I],l.hasOwnProperty(I)&&F!==Q&&(F!=null||Q!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(t,r,I,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!l.hasOwnProperty(ge)&&Je(t,r,ge,null,l,F);for(H in l)if(F=l[H],Q=a[H],l.hasOwnProperty(H)&&F!==Q&&(F!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Je(t,r,H,F,l,Q)}return;default:if(Ta(r)){for(var We in a)F=a[We],a.hasOwnProperty(We)&&F!==void 0&&!l.hasOwnProperty(We)&&Kd(t,r,We,void 0,l,F);for($ in l)F=l[$],Q=a[$],!l.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||Kd(t,r,$,F,l,Q);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Je(t,r,L,null,l,F);for(ee in l)F=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||F===Q||F==null&&Q==null||Je(t,r,ee,F,l,Q)}function t0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&t0(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>b)break;var $=I.transferSize,ee=I.initiatorType;$&&t0(ee)&&(I=I.responseEnd,_+=$*(I<b?1:(b-H)/(I-H)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Yd=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function n0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function $d(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xd=null;function p1(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var i0=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(t){return s0.resolve(null).then(t).catch(_1)}:i0;function _1(t){setTimeout(function(){throw t})}function Fi(t){return t==="head"}function a0(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),no(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[fr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Il(t.ownerDocument.body);a=f}while(a);no(r)}function o0(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function v1(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function E1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function l0(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=jn(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function T1(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var em=null;function u0(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return jn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function c0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function h0(t,r,a){switch(r=zc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);_a(t)}var Un=new Map,f0=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=se.d;se.d={f:b1,r:S1,D:w1,C:A1,L:x1,m:R1,X:C1,S:N1,M:I1};function b1(){var t=ei.f(),r=Oc();return t||r}function S1(t){var r=Nn(t);r!==null&&r.tag===5&&r.type==="form"?Cy(r):ei.r(t)}var Za=typeof document>"u"?null:document;function d0(t,r,a){var l=Za;if(l&&typeof r=="string"&&r){var f=on(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),f0.has(f)||(f0.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Kt(r,"link",t),Et(r),l.head.appendChild(r)))}}function w1(t){ei.D(t),d0("dns-prefetch",t,null)}function A1(t,r){ei.C(t,r),d0("preconnect",t,r)}function x1(t,r,a){ei.L(t,r,a);var l=Za;if(l&&t&&r){var f='link[rel="preload"][as="'+on(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(r){case"style":d=eo(t);break;case"script":d=to(t)}Un.has(d)||(t=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Un.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Ol(d))||(r=l.createElement("link"),Kt(r,"link",t),Et(r),l.head.appendChild(r)))}}function R1(t,r){ei.m(t,r);var a=Za;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!Un.has(d)&&(t=S({rel:"modulepreload",href:t},r),Un.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Kt(l,"link",t),Et(l),a.head.appendChild(l)}}}function N1(t,r,a){ei.S(t,r,a);var l=Za;if(l&&t){var f=mr(l).hoistableStyles,d=eo(t);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Dl(d)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Un.get(d))&&tm(t,a);var I=_=l.createElement("link");Et(I),Kt(I,"link",t),I._p=new Promise(function(H,$){I.onload=H,I.onerror=$}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function C1(t,r){ei.X(t,r);var a=Za;if(a&&t){var l=mr(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(t=S({src:t,async:!0},r),(r=Un.get(f))&&nm(t,r),d=a.createElement("script"),Et(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function I1(t,r){ei.M(t,r);var a=Za;if(a&&t){var l=mr(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(t=S({src:t,async:!0,type:"module"},r),(r=Un.get(f))&&nm(t,r),d=a.createElement("script"),Et(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function m0(t,r,a,l){var f=(f=Re.current)?Bc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=mr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=mr(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||D1(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=mr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+on(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function p0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function D1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),Et(r),t.head.appendChild(r))}function to(t){return'[src="'+on(t)+'"]'}function Ol(t){return"script[async]"+t}function g0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return r.instance=l,Et(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Kt(l,"style",f),qc(l,a.precedence,t),r.instance=l;case"stylesheet":f=eo(a.href);var d=t.querySelector(Dl(f));if(d)return r.state.loading|=4,r.instance=d,Et(d),d;l=p0(a),(f=Un.get(f))&&tm(l,f),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Kt(d,"link",l),r.state.loading|=4,qc(d,a.precedence,t),r.instance=d;case"script":return d=to(a.src),(f=t.querySelector(Ol(d)))?(r.instance=f,Et(f),f):(l=a,(f=Un.get(d))&&(l=S({},a),nm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Et(f),Kt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,t));return r.instance}function qc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Hc=null;function y0(t,r,a){if(Hc===null){var l=new Map,f=Hc=new Map;f.set(a,l)}else f=Hc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[fr]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function _0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function O1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function v0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function M1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=eo(l.href),d=r.querySelector(Dl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Fc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=r.ownerDocument||r,l=p0(l),(f=Un.get(f))&&tm(l,f),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var rm=0;function V1(t,r){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&rm===0&&(rm=62500*m1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>rm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Kc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,r.forEach(P1,t),Gc=null,Fc.call(t))}function P1(t,r){if(!(r.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Ml={$$typeof:Y,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function L1(t,r,a,l,f,d,_,b,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cr(0),this.hiddenUpdates=cr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function E0(t,r,a,l,f,d,_,b,I,H,$,ee){return t=new L1(t,r,a,_,I,H,$,ee,b),r=1,d===!0&&(r|=24),d=vn(3,null,null,r),t.current=d,d.stateNode=t,r=Lf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},zf(d),t}function T0(t){return t?(t=Oa,t):Oa}function b0(t,r,a,l,f,d){f=T0(f),l.context===null?l.context=f:l.pendingContext=f,l=Mi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vi(t,l,r),a!==null&&(dn(a,t,r),hl(a,t,r))}function S0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function im(t,r){S0(t,r),(t=t.alternate)&&S0(t,r)}function w0(t){if(t.tag===13||t.tag===31){var r=js(t,67108864);r!==null&&dn(r,t,67108864),im(t,67108864)}}function A0(t){if(t.tag===13||t.tag===31){var r=wn();r=xs(r);var a=js(t,r);a!==null&&dn(a,t,r),im(t,r)}}var Qc=!0;function k1(t,r,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=2,sm(t,r,a,l)}finally{se.p=d,X.T=f}}function j1(t,r,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=8,sm(t,r,a,l)}finally{se.p=d,X.T=f}}function sm(t,r,a,l){if(Qc){var f=am(l);if(f===null)Gd(t,r,l,Yc,a),R0(t,l);else if(z1(f,t,r,a,l))l.stopPropagation();else if(R0(t,l),r&4&&-1<U1.indexOf(t)){for(;f!==null;){var d=Nn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=lr(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var I=1<<31-ft(_);b.entanglements[1]|=I,_&=~I}Rr(d),(He&6)===0&&(Ic=tn()+500,Rl(0))}}break;case 31:case 13:b=js(d,2),b!==null&&dn(b,d,2),Oc(),im(d,2)}if(d=am(l),d===null&&Gd(t,r,l,Yc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Gd(t,r,l,null,a)}}function am(t){return t=Cn(t),om(t)}var Yc=null;function om(t){if(Yc=null,t=dr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Yc=t,null}function x0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case Lo:return 2;case ko:return 8;case _i:case df:return 32;case xu:return 268435456;default:return 32}default:return 32}}var lm=!1,Gi=null,Ki=null,Qi=null,Vl=new Map,Pl=new Map,Yi=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(t,r){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function Ll(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Nn(r),r!==null&&w0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function z1(t,r,a,l,f){switch(r){case"focusin":return Gi=Ll(Gi,t,r,a,l,f),!0;case"dragenter":return Ki=Ll(Ki,t,r,a,l,f),!0;case"mouseover":return Qi=Ll(Qi,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Pl.set(d,Ll(Pl.get(d)||null,t,r,a,l,f)),!0}return!1}function N0(t){var r=dr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Fn(t.priority,function(){A0(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Fn(t.priority,function(){A0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return r=Nn(a),r!==null&&w0(r),t.blockedOn=a,!1;r.shift()}return!0}function C0(t,r,a){$c(t)&&a.delete(r)}function B1(){lm=!1,Gi!==null&&$c(Gi)&&(Gi=null),Ki!==null&&$c(Ki)&&(Ki=null),Qi!==null&&$c(Qi)&&(Qi=null),Vl.forEach(C0),Pl.forEach(C0)}function Xc(t,r){t.blockedOn===r&&(t.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,B1)))}var Jc=null;function I0(t){Jc!==t&&(Jc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Nn(a);d!==null&&(t.splice(r,3),r-=3,ad(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function no(t){function r(I){return Xc(I,t)}Gi!==null&&Xc(Gi,t),Ki!==null&&Xc(Ki,t),Qi!==null&&Xc(Qi,t),Vl.forEach(r),Pl.forEach(r);for(var a=0;a<Yi.length;a++){var l=Yi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yi.length&&(a=Yi[0],a.blockedOn===null);)N0(a),a.blockedOn===null&&Yi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[kt]||null;if(typeof d=="function")_||I0(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[kt]||null)b=_.formAction;else if(om(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),I0(a)}}}function D0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function um(t){this._internalRoot=t}Wc.prototype.render=um.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();b0(a,l,t,r,null,null)},Wc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;b0(t.current,2,null,t,null,null),Oc(),r[hr]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ou();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Yi.length&&r!==0&&r<Yi[a].priority;a++);Yi.splice(a,0,t),a===0&&N0(t)}};var O0=e.version;if(O0!=="19.2.0")throw Error(s(527,O0,"19.2.0"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var q1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{qn=Zc.inject(q1),Bt=Zc}catch{}}return jl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=Uy,d=zy,_=By;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=E0(t,1,!1,null,null,a,l,null,f,d,_,D0),t[hr]=r.current,Fd(t),new um(r)},jl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Uy,_=zy,b=By,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=E0(t,1,!0,r,a??null,l,f,I,d,_,b,D0),r.context=T0(null),a=r.current,l=wn(),l=xs(l),f=Mi(l),f.callback=null,Vi(a,f,l),a=l,r.current.lanes=a,ws(r,a),Rr(r),t[hr]=r.current,Fd(t),new Wc(r)},jl.version="19.2.0",jl}var q0;function W1(){if(q0)return fm.exports;q0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=J1(),fm.exports}var Z1=W1();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H0="popstate";function ew(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Im("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return nw(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function rr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tw(){return Math.random().toString(36).substring(2,10)}function F0(i,e){return{usr:i.state,key:i.key,idx:e}}function Im(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||s||tw()}}function Wl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function To(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function nw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=T();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function T(){return(h.state||{idx:null}).idx}function S(){m="POP";let k=T(),W=k==null?null:k-g;g=k,p&&p({action:m,location:G.location,delta:W})}function x(k,W){m="PUSH";let re=Im(G.location,k,W);g=T()+1;let Y=F0(re,g),ue=G.createHref(re);try{h.pushState(Y,"",ue)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;o.location.assign(ue)}u&&p&&p({action:m,location:G.location,delta:1})}function P(k,W){m="REPLACE";let re=Im(G.location,k,W);g=T();let Y=F0(re,g),ue=G.createHref(re);h.replaceState(Y,"",ue),u&&p&&p({action:m,location:G.location,delta:0})}function U(k){return rw(k)}let G={get action(){return m},get location(){return i(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(H0,S),p=k,()=>{o.removeEventListener(H0,S),p=null}},createHref(k){return e(o,k)},createURL:U,encodeLocation(k){let W=U(k);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:x,replace:P,go(k){return h.go(k)}};return G}function rw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Wl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function SE(i,e,n="/"){return iw(i,e,n,!1)}function iw(i,e,n,s){let o=typeof e=="string"?To(e):e,u=li(o.pathname||"/",n);if(u==null)return null;let h=wE(i);sw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=gw(u);m=mw(h[p],g,s)}return m}function wE(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let T={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;lt(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let S=ii([s,T.relativePath]),x=n.concat(T);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),wE(h.children,e,x,S,p)),!(h.path==null&&!h.index)&&e.push({path:S,score:fw(S,h.index),routesMeta:x})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of AE(h.path))u(h,m,!0,g)}),e}function AE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=AE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function sw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:dw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var aw=/^:[\w-]+$/,ow=3,lw=2,uw=1,cw=10,hw=-2,G0=i=>i==="*";function fw(i,e){let n=i.split("/"),s=n.length;return n.some(G0)&&(s+=hw),e&&(s+=lw),n.filter(o=>!G0(o)).reduce((o,u)=>o+(aw.test(u)?ow:u===""?uw:cw),s)}function dw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function mw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",S=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),x=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:ii([u,S.pathname]),pathnameBase:Ew(ii([u,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(u=ii([u,S.pathnameBase]))}return h}function Eh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=pw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:S},x)=>{if(T==="*"){let U=m[x]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const P=m[x];return S&&!P?g[T]=void 0:g[T]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function pw(i,e=!1,n=!0){rr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function gw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function li(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function yw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?To(i):i;return{pathname:n?n.startsWith("/")?n:_w(n,e):e,search:Tw(s),hash:bw(o)}}function _w(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ap(i){let e=vw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function op(i,e,n,s=!1){let o;typeof i=="string"?o=To(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let S=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}m=S>=0?e[S]:"/"}let p=yw(o,m),g=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var ii=i=>i.join("/").replace(/\/\/+/g,"/"),Ew=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Tw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,bw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Sw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var xE=["POST","PUT","PATCH","DELETE"];new Set(xE);var ww=["GET",...xE];new Set(ww);var bo=B.createContext(null);bo.displayName="DataRouter";var Uh=B.createContext(null);Uh.displayName="DataRouterState";B.createContext(!1);var RE=B.createContext({isTransitioning:!1});RE.displayName="ViewTransition";var Aw=B.createContext(new Map);Aw.displayName="Fetchers";var xw=B.createContext(null);xw.displayName="Await";var sr=B.createContext(null);sr.displayName="Navigation";var cu=B.createContext(null);cu.displayName="Location";var Pr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var lp=B.createContext(null);lp.displayName="RouteError";function Rw(i,{relative:e}={}){lt(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(sr),{hash:o,pathname:u,search:h}=hu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ii([n,u])),s.createHref({pathname:m,search:h,hash:o})}function So(){return B.useContext(cu)!=null}function ms(){return lt(So(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(cu).location}var NE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CE(i){B.useContext(sr).static||B.useLayoutEffect(i)}function zh(){let{isDataRoute:i}=B.useContext(Pr);return i?zw():Nw()}function Nw(){lt(So(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(bo),{basename:e,navigator:n}=B.useContext(sr),{matches:s}=B.useContext(Pr),{pathname:o}=ms(),u=JSON.stringify(ap(s)),h=B.useRef(!1);return CE(()=>{h.current=!0}),B.useCallback((p,g={})=>{if(rr(h.current,NE),!h.current)return;if(typeof p=="number"){n.go(p);return}let T=op(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ii([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,i])}B.createContext(null);function hu(i,{relative:e}={}){let{matches:n}=B.useContext(Pr),{pathname:s}=ms(),o=JSON.stringify(ap(n));return B.useMemo(()=>op(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Cw(i,e){return IE(i,e)}function IE(i,e,n,s,o){var re;lt(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(sr),{matches:h}=B.useContext(Pr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",S=m&&m.route;{let Y=S&&S.path||"";DE(g,!S||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let x=ms(),P;if(e){let Y=typeof e=="string"?To(e):e;lt(T==="/"||((re=Y.pathname)==null?void 0:re.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),P=Y}else P=x;let U=P.pathname||"/",G=U;if(T!=="/"){let Y=T.replace(/^\//,"").split("/");G="/"+U.replace(/^\//,"").split("/").slice(Y.length).join("/")}let k=SE(i,{pathname:G});rr(S||k!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),rr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=Vw(k&&k.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:ii([T,u.encodeLocation?u.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?T:ii([T,u.encodeLocation?u.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),h,n,s,o);return e&&W?B.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},W):W}function Iw(){let i=Uw(),e=Sw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,h)}var Dw=B.createElement(Iw,null),Ow=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?B.createElement(Pr.Provider,{value:this.props.routeContext},B.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Mw({routeContext:i,match:e,children:n}){let s=B.useContext(bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Pr.Provider,{value:i},n)}function Vw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let g=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let T=u[g];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=g),T.route.id){let{loaderData:S,errors:x}=n,P=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,T,S)=>{let x,P=!1,U=null,G=null;n&&(x=h&&T.route.id?h[T.route.id]:void 0,U=T.route.errorElement||Dw,m&&(p<0&&S===0?(DE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,G=null):p===S&&(P=!0,G=T.route.hydrateFallbackElement||null)));let k=e.concat(u.slice(0,S+1)),W=()=>{let re;return x?re=U:P?re=G:T.route.Component?re=B.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=g,B.createElement(Mw,{match:T,routeContext:{outlet:g,matches:k,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?B.createElement(Ow,{location:n.location,revalidation:n.revalidation,component:U,error:x,children:W(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):W()},null)}function up(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pw(i){let e=B.useContext(bo);return lt(e,up(i)),e}function Lw(i){let e=B.useContext(Uh);return lt(e,up(i)),e}function kw(i){let e=B.useContext(Pr);return lt(e,up(i)),e}function cp(i){let e=kw(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function jw(){return cp("useRouteId")}function Uw(){var s;let i=B.useContext(lp),e=Lw("useRouteError"),n=cp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function zw(){let{router:i}=Pw("useNavigate"),e=cp("useNavigate"),n=B.useRef(!1);return CE(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{rr(n.current,NE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var K0={};function DE(i,e,n){!e&&!K0[i]&&(K0[i]=!0,rr(!1,n))}B.memo(Bw);function Bw({routes:i,future:e,state:n,unstable_onError:s}){return IE(i,void 0,n,s,e)}function OE({to:i,replace:e,state:n,relative:s}){lt(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(sr);rr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Pr),{pathname:h}=ms(),m=zh(),p=op(i,ap(u),h,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Js(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=To(n));let{pathname:p="/",search:g="",hash:T="",state:S=null,key:x="default"}=n,P=B.useMemo(()=>{let U=li(p,h);return U==null?null:{location:{pathname:U,search:g,hash:T,state:S,key:x},navigationType:s}},[h,p,g,T,S,x,s]);return rr(P!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:B.createElement(sr.Provider,{value:m},B.createElement(cu.Provider,{children:e,value:P}))}function Hw({children:i,location:e}){return Cw(Dm(i),e)}function Dm(i,e=[]){let n=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Dm(s.props.children,u));return}lt(s.type===Js,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Dm(s.props.children,u)),n.push(h)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Bh(i){return i!=null&&typeof i.tagName=="string"}function Fw(i){return Bh(i)&&i.tagName.toLowerCase()==="button"}function Gw(i){return Bh(i)&&i.tagName.toLowerCase()==="form"}function Kw(i){return Bh(i)&&i.tagName.toLowerCase()==="input"}function Qw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Yw(i,e){return i.button===0&&(!e||e==="_self")&&!Qw(i)}var eh=null;function $w(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var Xw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(i){return i!=null&&!Xw.has(i)?(rr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):i}function Jw(i,e){let n,s,o,u,h;if(Gw(i)){let m=i.getAttribute("action");s=m?li(m,e):null,n=i.getAttribute("method")||lh,o=ym(i.getAttribute("enctype"))||uh,u=new FormData(i)}else if(Fw(i)||Kw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?li(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||lh,o=ym(i.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||uh,u=new FormData(m,i),!$w()){let{name:g,type:T,value:S}=i;if(T==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,S)}}else{if(Bh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ww(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&li(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Zw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function tA(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Zw(u,n);return h.links?h.links():[]}return[]}));return sA(s.flat(1).filter(eA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Q0(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function nA(i,e,{includeHydrateFallback:n}={}){return rA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function rA(i){return[...new Set(i)]}function iA(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function sA(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(iA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function ME(){let i=B.useContext(bo);return hp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function aA(){let i=B.useContext(Uh);return hp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var fp=B.createContext(void 0);fp.displayName="FrameworkContext";function VE(){let i=B.useContext(fp);return hp(i,"You must render this element inside a <HydratedRouter> element"),i}function oA(i,e){let n=B.useContext(fp),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:S}=e,x=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let G=W=>{W.forEach(re=>{h(re.isIntersecting)})},k=new IntersectionObserver(G,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[i]),B.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let P=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,x,{}]:[u,x,{onFocus:Ul(m,P),onBlur:Ul(p,U),onMouseEnter:Ul(g,P),onMouseLeave:Ul(T,U),onTouchStart:Ul(S,P)}]:[!1,x,{}]}function Ul(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function lA({page:i,...e}){let{router:n}=ME(),s=B.useMemo(()=>SE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(cA,{page:i,matches:s,...e}):null}function uA(i){let{manifest:e,routeModules:n}=VE(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return tA(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function cA({page:i,matches:e,...n}){let s=ms(),{manifest:o,routeModules:u}=VE(),{basename:h}=ME(),{loaderData:m,matches:p}=aA(),g=B.useMemo(()=>Q0(i,e,p,o,s,"data"),[i,e,p,o,s]),T=B.useMemo(()=>Q0(i,e,p,o,s,"assets"),[i,e,p,o,s]),S=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,G=!1;if(e.forEach(W=>{var Y;let re=o.routes[W.route.id];!re||!re.hasLoader||(!g.some(ue=>ue.route.id===W.route.id)&&W.route.id in m&&((Y=u[W.route.id])!=null&&Y.shouldRevalidate)||re.hasClientLoader?G=!0:U.add(W.route.id))}),U.size===0)return[];let k=Ww(i,h,"data");return G&&U.size>0&&k.searchParams.set("_routes",e.filter(W=>U.has(W.route.id)).map(W=>W.route.id).join(",")),[k.pathname+k.search]},[h,m,s,o,g,e,i,u]),x=B.useMemo(()=>nA(T,o),[T,o]),P=uA(T);return B.createElement(B.Fragment,null,S.map(U=>B.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),x.map(U=>B.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),P.map(({key:U,link:G})=>B.createElement("link",{key:U,nonce:n.nonce,...G})))}function hA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PE&&(window.__reactRouterVersion="7.9.4")}catch{}function fA({basename:i,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=ew({window:n,v5Compat:!0}));let o=s.current,[u,h]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>h(p))},[h]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(qw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ji=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:T,viewTransition:S,...x},P){let{basename:U}=B.useContext(sr),G=typeof g=="string"&&LE.test(g),k,W=!1;if(typeof g=="string"&&G&&(k=g,PE))try{let R=new URL(window.location.href),D=g.startsWith("//")?new URL(R.protocol+g):new URL(g),O=li(D.pathname,U);D.origin===R.origin&&O!=null?g=O+D.search+D.hash:W=!0}catch{rr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Rw(g,{relative:o}),[Y,ue,be]=oA(s,x),ye=gA(g,{replace:h,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:S});function N(R){e&&e(R),R.defaultPrevented||ye(R)}let A=B.createElement("a",{...x,...be,href:k||re,onClick:W||u?e:N,ref:hA(P,ue),target:p,"data-discover":!G&&n==="render"?"true":void 0});return Y&&!G?B.createElement(B.Fragment,null,A,B.createElement(lA,{page:re})):A});Ji.displayName="Link";var dA=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},T){let S=hu(h,{relative:g.relative}),x=ms(),P=B.useContext(Uh),{navigator:U,basename:G}=B.useContext(sr),k=P!=null&&TA(S)&&m===!0,W=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,re=x.pathname,Y=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(re=re.toLowerCase(),Y=Y?Y.toLowerCase():null,W=W.toLowerCase()),Y&&G&&(Y=li(Y,G)||Y);const ue=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let be=re===W||!o&&re.startsWith(W)&&re.charAt(ue)==="/",ye=Y!=null&&(Y===W||!o&&Y.startsWith(W)&&Y.charAt(W.length)==="/"),N={isActive:be,isPending:ye,isTransitioning:k},A=be?e:void 0,R;typeof s=="function"?R=s(N):R=[s,be?"active":null,ye?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(N):u;return B.createElement(Ji,{...g,"aria-current":A,className:R,ref:T,style:D,to:h,viewTransition:m},typeof p=="function"?p(N):p)});dA.displayName="NavLink";var mA=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=lh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:S,...x},P)=>{let U=vA(),G=EA(m,{relative:g}),k=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&LE.test(m),re=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ue=Y.nativeEvent.submitter,be=(ue==null?void 0:ue.getAttribute("formmethod"))||h;U(ue||Y.currentTarget,{fetcherKey:e,method:be,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:S})};return B.createElement("form",{ref:P,method:k,action:G,onSubmit:s?p:re,...x,"data-discover":!W&&i==="render"?"true":void 0})});mA.displayName="Form";function pA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kE(i){let e=B.useContext(bo);return lt(e,pA(i)),e}function gA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=zh(),p=ms(),g=hu(i,{relative:u});return B.useCallback(T=>{if(Yw(T,e)){T.preventDefault();let S=n!==void 0?n:Wl(p)===Wl(g);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var yA=0,_A=()=>`__${String(++yA)}__`;function vA(){let{router:i}=kE("useSubmit"),{basename:e}=B.useContext(sr),n=jw();return B.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=Jw(s,e);if(o.navigate===!1){let T=o.fetcherKey||_A();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function EA(i,{relative:e}={}){let{basename:n}=B.useContext(sr),s=B.useContext(Pr);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(i||".",{relative:e})},h=ms();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ii([n,u.pathname])),Wl(u)}function TA(i,{relative:e}={}){let n=B.useContext(RE);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kE("useViewTransitionState"),o=hu(i,{relative:e});if(!n.isTransitioning)return!1;let u=li(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=li(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,h)!=null||Eh(o.pathname,u)!=null}const bA=()=>{};var Y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},SA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,P=g&63;p||(P=64,h||(x=64)),s.push(n[T],n[S],n[x],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):SA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new wA;const x=u<<2|m>>4;if(s.push(x),g!==64){const P=m<<4&240|g>>2;if(s.push(P),S!==64){const U=g<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class wA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AA=function(i){const e=jE(i);return UE.encodeByteArray(e,!0)},Th=function(i){return AA(i).replace(/\./g,"")},zE=function(i){try{return UE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=()=>xA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof Y0>"u")return;const i=Y0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},CA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zE(i[1]);return e&&JSON.parse(e)},qh=()=>{try{return bA()||RA()||NA()||CA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},BE=i=>{var e,n;return(n=(e=qh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},IA=i=>{const e=BE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qE=()=>{var i;return(i=qh())==null?void 0:i.config},HE=i=>{var e;return(e=qh())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Th(JSON.stringify(n)),Th(JSON.stringify(h)),""].join(".")}const Kl={};function MA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?i.emulator.push(e):i.prod.push(e);return i}function VA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let $0=!1;function GE(i,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Kl[i]===e||Kl[i]||$0)return;Kl[i]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=MA().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,P){x.setAttribute("width","24"),x.setAttribute("id",P),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{$0=!0,h()},x}function T(x,P){x.setAttribute("id",P),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=VA(s),P=n("text"),U=document.getElementById(P)||document.createElement("span"),G=n("learnmore"),k=document.getElementById(G)||document.createElement("a"),W=n("preprendIcon"),re=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Y=x.element;m(Y),T(k,G);const ue=g();p(re,W),Y.append(re,U,k,ue),document.body.appendChild(Y)}u?(U.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function LA(){var e;const i=(e=qh())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function UA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zA(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function BA(){return!LA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function HA(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="FirebaseError";class pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FA,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?GA(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new pi(o,m,s)}}function GA(i,e){return i.replace(KA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const KA=/\{\$([^}]+)}/g;function QA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function na(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(X0(u)&&X0(h)){if(!na(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function X0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function YA(i,e){const n=new $A(i,e);return n.subscribe.bind(n)}class $A{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(i){return i&&i._delegate?i._delegate:i}class ra{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new DA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZA(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WA(i){return i===Ws?void 0:i}function ZA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const tx={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},nx=Me.INFO,rx={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},ix=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=rx[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=nx,this._logHandler=ix,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const sx=(i,e)=>e.some(n=>i instanceof n);let J0,W0;function ax(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ox(){return W0||(W0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,Om=new WeakMap,QE=new WeakMap,vm=new WeakMap,mp=new WeakMap;function lx(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ns(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&KE.set(n,i)}).catch(()=>{}),mp.set(e,i),e}function ux(i){if(Om.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Om.set(i,e)}let Mm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Om.get(i);if(e==="objectStoreNames")return i.objectStoreNames||QE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function cx(i){Mm=i(Mm)}function hx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Em(this),e,...n);return QE.set(s,e.sort?e.sort():[e]),ns(s)}:ox().includes(i)?function(...e){return i.apply(Em(this),e),ns(KE.get(this))}:function(...e){return ns(i.apply(Em(this),e))}}function fx(i){return typeof i=="function"?hx(i):(i instanceof IDBTransaction&&ux(i),sx(i,ax())?new Proxy(i,Mm):i)}function ns(i){if(i instanceof IDBRequest)return lx(i);if(vm.has(i))return vm.get(i);const e=fx(i);return e!==i&&(vm.set(i,e),mp.set(e,i)),e}const Em=i=>mp.get(i);function dx(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ns(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ns(h.result),p.oldVersion,p.newVersion,ns(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const mx=["get","getKey","getAll","getAllKeys","count"],px=["put","add","delete","clear"],Tm=new Map;function Z0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=px.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mx.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Tm.set(e,u),u}cx(i=>({...i,get:(e,n,s)=>Z0(e,n)||i.get(e,n,s),has:(e,n)=>!!Z0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vm="@firebase/app",ev="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new dp("@firebase/app"),_x="@firebase/app-compat",vx="@firebase/analytics-compat",Ex="@firebase/analytics",Tx="@firebase/app-check-compat",bx="@firebase/app-check",Sx="@firebase/auth",wx="@firebase/auth-compat",Ax="@firebase/database",xx="@firebase/data-connect",Rx="@firebase/database-compat",Nx="@firebase/functions",Cx="@firebase/functions-compat",Ix="@firebase/installations",Dx="@firebase/installations-compat",Ox="@firebase/messaging",Mx="@firebase/messaging-compat",Vx="@firebase/performance",Px="@firebase/performance-compat",Lx="@firebase/remote-config",kx="@firebase/remote-config-compat",jx="@firebase/storage",Ux="@firebase/storage-compat",zx="@firebase/firestore",Bx="@firebase/ai",qx="@firebase/firestore-compat",Hx="firebase",Fx="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="[DEFAULT]",Gx={[Vm]:"fire-core",[_x]:"fire-core-compat",[Ex]:"fire-analytics",[vx]:"fire-analytics-compat",[bx]:"fire-app-check",[Tx]:"fire-app-check-compat",[Sx]:"fire-auth",[wx]:"fire-auth-compat",[Ax]:"fire-rtdb",[xx]:"fire-data-connect",[Rx]:"fire-rtdb-compat",[Nx]:"fire-fn",[Cx]:"fire-fn-compat",[Ix]:"fire-iid",[Dx]:"fire-iid-compat",[Ox]:"fire-fcm",[Mx]:"fire-fcm-compat",[Vx]:"fire-perf",[Px]:"fire-perf-compat",[Lx]:"fire-rc",[kx]:"fire-rc-compat",[jx]:"fire-gcs",[Ux]:"fire-gcs-compat",[zx]:"fire-fst",[qx]:"fire-fst-compat",[Bx]:"fire-vertex","fire-js":"fire-js",[Hx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,Kx=new Map,Lm=new Map;function tv(i,e){try{i.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function fo(i){const e=i.name;if(Lm.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,i);for(const n of bh.values())tv(n,i);for(const n of Kx.values())tv(n,i);return!0}function pp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function An(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new fu("app","Firebase",Qx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=Fx;function YE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Pm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=qE()),!n)throw rs.create("no-options");const u=bh.get(o);if(u){if(na(n,u.options)&&na(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const h=new ex(o);for(const p of Lm.values())h.addComponent(p);const m=new Yx(n,s,h);return bh.set(o,m),m}function $E(i=Pm){const e=bh.get(i);if(!e&&i===Pm&&qE())return YE();if(!e)throw rs.create("no-app",{appName:i});return e}function is(i,e,n){let s=Gx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(h.join(" "));return}fo(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firebase-heartbeat-database",Xx=1,Zl="firebase-heartbeat-store";let bm=null;function XE(){return bm||(bm=dx($x,Xx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(i=>{throw rs.create("idb-open",{originalErrorMessage:i.message})})),bm}async function Jx(i){try{const n=(await XE()).transaction(Zl),s=await n.objectStore(Zl).get(JE(i));return await n.done,s}catch(e){if(e instanceof pi)ui.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function nv(i,e){try{const s=(await XE()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,JE(i)),await s.done}catch(n){if(n instanceof pi)ui.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(s.message)}}}function JE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=1024,Zx=30;class eR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=rv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Zx){const h=rR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rv(),{heartbeatsToSend:s,unsentEntries:o}=tR(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ui.warn(n),""}}}function rv(){return new Date().toISOString().substring(0,10)}function tR(i,e=Wx){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),iv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?HA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iv(i){return Th(JSON.stringify({version:2,heartbeats:i})).length}function rR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(i){fo(new ra("platform-logger",e=>new gx(e),"PRIVATE")),fo(new ra("heartbeat",e=>new eR(e),"PRIVATE")),is(Vm,ev,i),is(Vm,ev,"esm2020"),is("fire-js","")}iR("");function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sR=WE,ZE=new fu("auth","Firebase",WE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new dp("@firebase/auth");function aR(i,...e){Sh.logLevel<=Me.WARN&&Sh.warn(`Auth (${Ao}): ${i}`,...e)}function ch(i,...e){Sh.logLevel<=Me.ERROR&&Sh.error(`Auth (${Ao}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(i,...e){throw yp(i,...e)}function tr(i,...e){return yp(i,...e)}function gp(i,e,n){const s={...sR(),[e]:n};return new fu("auth","Firebase",s).create(e,{appName:i.name})}function si(i){return gp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oR(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Bn(i,"argument-error"),gp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return ZE.create(i,...e)}function _e(i,e,...n){if(!i)throw yp(e,...n)}function ni(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ch(e),new Error(e)}function ci(i,e){i||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function lR(){return sv()==="http:"||sv()==="https:"}function sv(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lR()||jA()||"connection"in navigator)?navigator.onLine:!0}function cR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=PA()||UA()}get(){return uR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(i,e){ci(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dR=new mu(3e4,6e4);function ps(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function gi(i,e,n,s,o={}){return tT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=du({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return kA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&wo(i.emulatorConfig.host)&&(g.credentials="include"),eT.fetch()(await nT(i,i.config.apiHost,n,m),g)})}async function tT(i,e,n){i._canInitEmulator=!1;const s={...hR,...e};try{const o=new pR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw th(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw th(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw th(i,"user-disabled",h);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gp(i,T,g);Bn(i,T)}}catch(o){if(o instanceof pi)throw o;Bn(i,"network-request-failed",{message:String(o)})}}async function pu(i,e,n,s,o={}){const u=await gi(i,e,n,s,o);return"mfaPendingCredential"in u&&Bn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function nT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?_p(i.config,o):`${i.config.apiScheme}://${o}`;return fR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function mR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),dR.get())})}}function th(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=tr(i,e,s);return o.customData._tokenResponse=n,o}function av(i){return i!==void 0&&i.enterprise!==void 0}class gR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yR(i,e){return gi(i,"GET","/v2/recaptchaConfig",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(i,e){return gi(i,"POST","/v1/accounts:delete",e)}async function wh(i,e){return gi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vR(i,e=!1){const n=Lt(i),s=await n.getIdToken(e),o=vp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ql(Sm(o.auth_time)),issuedAtTime:Ql(Sm(o.iat)),expirationTime:Ql(Sm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Sm(i){return Number(i)*1e3}function vp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ov(i){const e=vp(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pi&&ER(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ER({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(i){var S;const e=i.auth,n=await i.getIdToken(),s=await mo(i,wh(e,{idToken:n}));_e(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=(S=o.providerUserInfo)!=null&&S.length?rT(o.providerUserInfo):[],h=SR(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,T)}async function bR(i){const e=Lt(i);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(i,e){const n=await tT(i,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await nT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&wo(i.emulatorConfig.host)&&(p.credentials="include"),eT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AR(i,e){return gi(i,"POST","/v2/accounts:revokeToken",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=ov(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await wR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new oo;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new TR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mo(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vR(this,e)}reload(){return bR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await mo(this,_R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:P,providerData:U,stsTokenManager:G}=n;_e(S&&G,e,"internal-error");const k=oo.fromJSON(this.name,G);_e(typeof S=="string",e,"internal-error"),Xi(s,e.name),Xi(o,e.name),_e(typeof x=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),Xi(u,e.name),Xi(h,e.name),Xi(m,e.name),Xi(p,e.name),Xi(g,e.name),Xi(T,e.name);const W=new er({uid:S,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:T});return U&&Array.isArray(U)&&(W.providerData=U.map(re=>({...re}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(s);const p=new er({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=new Map;function ri(i){ci(i instanceof Function,"Expected a class definition");let e=lv.get(i);return e?(ci(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,lv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const uv=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(i,e,n){return`firebase:${i}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(ri(uv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ri(uv);const h=hh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let S;if(typeof T=="string"){const x=await wh(e,{idToken:T}).catch(()=>{});if(!x)break;S=await er._fromGetAccountInfoResponse(e,x,T)}else S=er._fromJSON(e,T);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(hT(e))return"Webos";if(aT(e))return"Safari";if((e.includes("chrome/")||oT(e))&&!e.includes("edge/"))return"Chrome";if(uT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function sT(i=en()){return/firefox\//i.test(i)}function aT(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oT(i=en()){return/crios\//i.test(i)}function lT(i=en()){return/iemobile/i.test(i)}function uT(i=en()){return/android/i.test(i)}function cT(i=en()){return/blackberry/i.test(i)}function hT(i=en()){return/webos/i.test(i)}function Ep(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function xR(i=en()){var e;return Ep(i)&&!!((e=window.navigator)!=null&&e.standalone)}function RR(){return zA()&&document.documentMode===10}function fT(i=en()){return Ep(i)||uT(i)||hT(i)||cT(i)||/windows phone/i.test(i)||lT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(i,e=[]){let n;switch(i){case"Browser":n=cv(en());break;case"Worker":n=`${cv(en())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(i,e={}){return gi(i,"GET","/v2/passwordPolicy",ps(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=6;class DR{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new NR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(An(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(si(this));const n=e?Lt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CR(this),n=new DR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await AR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&aR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gs(i){return Lt(i)}class hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=YA(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MR(i){Hh=i}function mT(i){return Hh.loadJS(i)}function VR(){return Hh.recaptchaEnterpriseScript}function PR(){return Hh.gapiScript}function LR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class kR{constructor(){this.enterprise=new jR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const UR="recaptcha-enterprise",pT="NO_RECAPTCHA";class zR{constructor(e){this.type=UR,this.auth=gs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{yR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new gR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;av(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(pT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&av(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VR();p.length!==0&&(p+=m),mT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function fv(i,e,n,s=!1,o=!1){const u=new zR(i);let h;if(o)h=pT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Um(i,e,n,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await fv(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await fv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(i,e){const n=pp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(na(u,e??{}))return o;Bn(o,"already-initialized")}return n.initialize({options:e})}function qR(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function HR(i,e,n){const s=gs(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=gT(e),{host:h,port:m}=FR(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(na(g,s.config.emulator)&&na(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,wo(h)?(FE(`${u}//${h}${p}`),GE("Auth",!0)):GR()}function gT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function FR(i){const e=gT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:dv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:dv(h)}}}function dv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function GR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function KR(i,e){return gi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(i,e){return pu(i,"POST","/v1/accounts:signInWithPassword",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(i,e){return pu(i,"POST","/v1/accounts:signInWithEmailLink",ps(i,e))}async function $R(i,e){return pu(i,"POST","/v1/accounts:signInWithEmailLink",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Tp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,n,"signInWithPassword",QR);case"emailLink":return YR(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,s,"signUpPassword",KR);case"emailLink":return $R(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(i,e){return pu(i,"POST","/v1/accounts:signInWithIdp",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="http://localhost";class ia extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:XR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WR(i){const e=zl(Bl(i)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(i)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||i}class bp{constructor(e){const n=zl(Bl(e)),s=n.apiKey??null,o=n.oobCode??null,u=JR(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=WR(e);try{return new bp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=bp.parseLink(n);return _e(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Sp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends gu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ti.credential(n,s)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends gu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends gu{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(i,e){return pu(i,"POST","/v1/accounts:signUp",ps(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await er._fromIdTokenResponse(e,s,o),h=mv(s);return new sa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=mv(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function mv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends pi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xh(e,n,s,o)}}function yT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(i,u,e,s):u})}async function e2(i,e,n=!1){const s=await mo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return sa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(i,e,n=!1){const{auth:s}=i;if(An(s.app))return Promise.reject(si(s));const o="reauthenticate";try{const u=await mo(i,yT(s,o,e,i),n);_e(u.idToken,s,"internal-error");const h=vp(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(i.uid===m,s,"user-mismatch"),sa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(i,e,n=!1){if(An(i.app))return Promise.reject(si(i));const s="signIn",o=await yT(i,s,e),u=await sa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function n2(i,e){return _T(gs(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(i){const e=gs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r2(i,e,n){if(An(i.app))return Promise.reject(si(i));const s=gs(i),h=await Um(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vT(i),p}),m=await sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function i2(i,e,n){return An(i.app)?Promise.reject(si(i)):n2(Lt(i),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(i,e){return gi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Lt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await mo(s,s2(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function o2(i,e,n,s){return Lt(i).onIdTokenChanged(e,n,s)}function l2(i,e,n){return Lt(i).beforeAuthStateChanged(e,n)}function u2(i,e,n,s){return Lt(i).onAuthStateChanged(e,n,s)}function c2(i){return Lt(i).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=1e3,f2=10;class TT extends ET{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);RR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,f2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TT.type="LOCAL";const d2=TT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends ET{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bT.type="SESSION";const ST=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await m2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=wp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function g2(i){Cr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function y2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function v2(){return wT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebaseLocalStorageDb",E2=1,Nh="firebaseLocalStorage",xT="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(i,e){return i.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function T2(){const i=indexedDB.deleteDatabase(AT);return new yu(i).toPromise()}function zm(){const i=indexedDB.open(AT,E2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Nh,{keyPath:xT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await T2(),e(await zm()))})})}async function pv(i,e,n){const s=Gh(i,!0).put({[xT]:e,value:n});return new yu(s).toPromise()}async function b2(i,e){const n=Gh(i,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function gv(i,e){const n=Gh(i,!0).delete(e);return new yu(n).toPromise()}const S2=800,w2=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>w2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(v2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new p2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await pv(e,Rh,"1"),await gv(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>b2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gh(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const A2=RT;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(i,e){return e?ri(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function x2(i){return _T(i.auth,new Ap(i),i.bypassAuthState)}function R2(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),t2(n,new Ap(i),i.bypassAuthState)}async function N2(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),e2(n,new Ap(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return R2;default:Bn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new mu(2e3,1e4);async function I2(i,e,n){if(An(i.app))return Promise.reject(tr(i,"operation-not-supported-in-this-environment"));const s=gs(i);oR(i,e,Sp);const o=NT(s,n);return new Zs(s,"signInViaPopup",e,o).executeNotNull()}class Zs extends CT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C2.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="pendingRedirect",fh=new Map;class O2 extends CT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await M2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M2(i,e){const n=L2(e),s=P2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function V2(i,e){fh.set(i._key(),e)}function P2(i){return ri(i._redirectPersistence)}function L2(i){return hh(D2,i.config.apiKey,i.name)}async function k2(i,e,n=!1){if(An(i.app))return Promise.reject(si(i));const s=gs(i),o=NT(s,e),h=await new O2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=600*1e3;class U2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!IT(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j2&&this.cachedEventUids.clear(),this.cachedEventUids.has(yv(e))}saveEventToCache(e){this.cachedEventUids.add(yv(e)),this.lastProcessedEventTime=Date.now()}}function yv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function IT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(i,e={}){return gi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function F2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await B2(i);for(const n of e)try{if(G2(n))return}catch{}Bn(i,"unauthorized-domain")}function G2(i){const e=km(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!H2.test(n))return!1;if(q2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new mu(3e4,6e4);function _v(){const i=Cr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Q2(i){return new Promise((e,n)=>{var o,u,h;function s(){_v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_v(),n(tr(i,"network-request-failed"))},timeout:K2.get()})}if((u=(o=Cr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Cr().gapi)!=null&&h.load)s();else{const m=LR("iframefcb");return Cr()[m]=()=>{gapi.load?s():n(tr(i,"network-request-failed"))},mT(`${PR()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw dh=null,e})}let dh=null;function Y2(i){return dh=dh||Q2(i),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new mu(5e3,15e3),X2="__/auth/iframe",J2="emulator/auth/iframe",W2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eN(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?_p(e,J2):`https://${i.config.authDomain}/${X2}`,s={apiKey:e.apiKey,appName:i.name,v:Ao},o=Z2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${du(s).slice(1)}`}async function tN(i){const e=await Y2(i),n=Cr().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:eN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=tr(i,"network-request-failed"),m=Cr().setTimeout(()=>{u(h)},$2.get());function p(){Cr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rN=500,iN=600,sN="_blank",aN="http://localhost";class vv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oN(i,e,n,s=rN,o=iN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...nN,width:s.toString(),height:o.toString(),top:u,left:h},g=en().toLowerCase();n&&(m=oT(g)?sN:n),sT(g)&&(e=e||aN,p.scrollbars="yes");const T=Object.entries(p).reduce((x,[P,U])=>`${x}${P}=${U},`,"");if(xR(g)&&m!=="_self")return lN(e||"",m),new vv(null);const S=window.open(e||"",m,T);_e(S,i,"popup-blocked");try{S.focus()}catch{}return new vv(S)}function lN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="__/auth/handler",cN="emulator/auth/handler",hN=encodeURIComponent("fac");async function Ev(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(e instanceof Sp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",QA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))h[T]=S}if(e instanceof gu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${hN}=${encodeURIComponent(p)}`:"";return`${fN(i)}?${du(m).slice(1)}${g}`}function fN({config:i}){return i.emulator?_p(i,cN):`https://${i.authDomain}/${uN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class dN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=k2,this._overrideRedirectResult=V2}async _openPopup(e,n,s,o){var h;ci((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await Ev(e,n,s,km(),o);return oN(e,u,wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Ev(e,n,s,km(),o);return g2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ci(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await tN(e),s=new U2(e);return n.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[wm];u!==void 0&&n(!!u),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fT()||aT()||Ep()}}const mN=dN;var Tv="@firebase/auth",bv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yN(i){fo(new ra("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dT(i)},g=new OR(s,o,u,p);return qR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fo(new ra("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(s=>new pN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(Tv,bv,gN(i)),is(Tv,bv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=300,vN=HE("authIdTokenMaxAge")||_N;let Sv=null;const EN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>vN)return;const o=n==null?void 0:n.token;Sv!==o&&(Sv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TN(i=$E()){const e=pp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=BR(i,{popupRedirectResolver:mN,persistence:[A2,d2,ST]}),s=HE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=EN(u.toString());l2(n,h,()=>h(n.currentUser)),o2(n,m=>h(m))}}const o=BE("auth");return o&&HR(n,`http://${o}`),n}function bN(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}MR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=tr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",bN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yN("Browser");var SN="firebase",wN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(SN,wN,"app");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,DT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(D,O,j){for(var C=Array(arguments.length-2),it=2;it<arguments.length;it++)C[it-2]=arguments[it];return A.prototype[O].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);const D=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)D[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)D[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],O=N.g[2];let j=N.g[3],C;C=A+(j^R&(O^j))+D[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=j+(O^A&(R^O))+D[1]+3905402710&4294967295,j=A+(C<<12&4294967295|C>>>20),C=O+(R^j&(A^R))+D[2]+606105819&4294967295,O=j+(C<<17&4294967295|C>>>15),C=R+(A^O&(j^A))+D[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(j^R&(O^j))+D[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=j+(O^A&(R^O))+D[5]+1200080426&4294967295,j=A+(C<<12&4294967295|C>>>20),C=O+(R^j&(A^R))+D[6]+2821735955&4294967295,O=j+(C<<17&4294967295|C>>>15),C=R+(A^O&(j^A))+D[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(j^R&(O^j))+D[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=j+(O^A&(R^O))+D[9]+2336552879&4294967295,j=A+(C<<12&4294967295|C>>>20),C=O+(R^j&(A^R))+D[10]+4294925233&4294967295,O=j+(C<<17&4294967295|C>>>15),C=R+(A^O&(j^A))+D[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(j^R&(O^j))+D[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=j+(O^A&(R^O))+D[13]+4254626195&4294967295,j=A+(C<<12&4294967295|C>>>20),C=O+(R^j&(A^R))+D[14]+2792965006&4294967295,O=j+(C<<17&4294967295|C>>>15),C=R+(A^O&(j^A))+D[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(O^j&(R^O))+D[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=j+(R^O&(A^R))+D[6]+3225465664&4294967295,j=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(j^A))+D[11]+643717713&4294967295,O=j+(C<<14&4294967295|C>>>18),C=R+(j^A&(O^j))+D[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^j&(R^O))+D[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=j+(R^O&(A^R))+D[10]+38016083&4294967295,j=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(j^A))+D[15]+3634488961&4294967295,O=j+(C<<14&4294967295|C>>>18),C=R+(j^A&(O^j))+D[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^j&(R^O))+D[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=j+(R^O&(A^R))+D[14]+3275163606&4294967295,j=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(j^A))+D[3]+4107603335&4294967295,O=j+(C<<14&4294967295|C>>>18),C=R+(j^A&(O^j))+D[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^j&(R^O))+D[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=j+(R^O&(A^R))+D[2]+4243563512&4294967295,j=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(j^A))+D[7]+1735328473&4294967295,O=j+(C<<14&4294967295|C>>>18),C=R+(j^A&(O^j))+D[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(R^O^j)+D[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=j+(A^R^O)+D[8]+2272392833&4294967295,j=A+(C<<11&4294967295|C>>>21),C=O+(j^A^R)+D[11]+1839030562&4294967295,O=j+(C<<16&4294967295|C>>>16),C=R+(O^j^A)+D[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^j)+D[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=j+(A^R^O)+D[4]+1272893353&4294967295,j=A+(C<<11&4294967295|C>>>21),C=O+(j^A^R)+D[7]+4139469664&4294967295,O=j+(C<<16&4294967295|C>>>16),C=R+(O^j^A)+D[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^j)+D[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=j+(A^R^O)+D[0]+3936430074&4294967295,j=A+(C<<11&4294967295|C>>>21),C=O+(j^A^R)+D[3]+3572445317&4294967295,O=j+(C<<16&4294967295|C>>>16),C=R+(O^j^A)+D[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^j)+D[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=j+(A^R^O)+D[12]+3873151461&4294967295,j=A+(C<<11&4294967295|C>>>21),C=O+(j^A^R)+D[15]+530742520&4294967295,O=j+(C<<16&4294967295|C>>>16),C=R+(O^j^A)+D[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(O^(R|~j))+D[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=j+(R^(A|~O))+D[7]+1126891415&4294967295,j=A+(C<<10&4294967295|C>>>22),C=O+(A^(j|~R))+D[14]+2878612391&4294967295,O=j+(C<<15&4294967295|C>>>17),C=R+(j^(O|~A))+D[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~j))+D[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=j+(R^(A|~O))+D[3]+2399980690&4294967295,j=A+(C<<10&4294967295|C>>>22),C=O+(A^(j|~R))+D[10]+4293915773&4294967295,O=j+(C<<15&4294967295|C>>>17),C=R+(j^(O|~A))+D[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~j))+D[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=j+(R^(A|~O))+D[15]+4264355552&4294967295,j=A+(C<<10&4294967295|C>>>22),C=O+(A^(j|~R))+D[6]+2734768916&4294967295,O=j+(C<<15&4294967295|C>>>17),C=R+(j^(O|~A))+D[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~j))+D[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=j+(R^(A|~O))+D[11]+3174756917&4294967295,j=A+(C<<10&4294967295|C>>>22),C=O+(A^(j|~R))+D[2]+718787259&4294967295,O=j+(C<<15&4294967295|C>>>17),C=R+(j^(O|~A))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,D=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(D[O++]=N.charCodeAt(j++),O==this.blockSize){o(this,D),O=0;break}}else for(;j<A;)if(D[O++]=N[j++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)N[A++]=this.g[R]>>>D&255;return N};function u(N,A){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function h(N,A){this.h=A;const R=[];let D=!0;for(let O=N.length-1;O>=0;O--){const j=N[O]|0;D&&j==A||(R[O]=j,D=!1)}this.g=R}var m={};function p(N){return-128<=N&&N<128?u(N,function(A){return new h([A|0],A<0?-1:0)}):new h([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return k(g(-N));const A=[];let R=1;for(let D=0;N>=R;D++)A[D]=N/R|0,R*=4294967296;return new h(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return k(T(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let D=S;for(let j=0;j<N.length;j+=8){var O=Math.min(8,N.length-j);const C=parseInt(N.substring(j,j+O),A);O<8?(O=g(Math.pow(A,O)),D=D.j(O).add(g(C))):(D=D.j(R),D=D.add(g(C)))}return D}var S=p(0),x=p(1),P=p(16777216);i=h.prototype,i.m=function(){if(G(this))return-k(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);N+=(D>=0?D:4294967296+D)*A,A*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(G(this))return"-"+k(this).toString(N);const A=g(Math.pow(N,6));var R=this;let D="";for(;;){const O=ue(R,A).g;R=W(R,O.j(A));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,U(R))return j+D;for(;j.length<6;)j="0"+j;D=j+D}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function G(N){return N.h==-1}i.l=function(N){return N=W(this,N),G(N)?-1:U(N)?0:1};function k(N){const A=N.g.length,R=[];for(let D=0;D<A;D++)R[D]=~N.g[D];return new h(R,~N.h).add(x)}i.abs=function(){return G(this)?k(this):this},i.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let D=0;for(let O=0;O<=A;O++){let j=D+(this.i(O)&65535)+(N.i(O)&65535),C=(j>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);D=C>>>16,j&=65535,C&=65535,R[O]=C<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function W(N,A){return N.add(k(A))}i.j=function(N){if(U(this)||U(N))return S;if(G(this))return G(N)?k(this).j(k(N)):k(k(this).j(N));if(G(N))return k(this.j(k(N)));if(this.l(P)<0&&N.l(P)<0)return g(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var D=0;D<2*A;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<N.g.length;O++){const j=this.i(D)>>>16,C=this.i(D)&65535,it=N.i(O)>>>16,It=N.i(O)&65535;R[2*D+2*O]+=C*It,re(R,2*D+2*O),R[2*D+2*O+1]+=j*It,re(R,2*D+2*O+1),R[2*D+2*O+1]+=C*it,re(R,2*D+2*O+1),R[2*D+2*O+2]+=j*it,re(R,2*D+2*O+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new h(R,0)};function re(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function Y(N,A){this.g=N,this.h=A}function ue(N,A){if(U(A))throw Error("division by zero");if(U(N))return new Y(S,S);if(G(N))return A=ue(k(N),A),new Y(k(A.g),k(A.h));if(G(A))return A=ue(N,k(A)),new Y(k(A.g),A.h);if(N.g.length>30){if(G(N)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,D=A;D.l(N)<=0;)R=be(R),D=be(D);var O=ye(R,1),j=ye(D,1);for(D=ye(D,2),R=ye(R,2);!U(D);){var C=j.add(D);C.l(N)<=0&&(O=O.add(R),j=C),D=ye(D,1),R=ye(R,1)}return A=W(N,O.j(A)),new Y(O,A)}for(O=S;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),j=g(R),C=j.j(A);G(C)||C.l(N)>0;)R-=D,j=g(R),C=j.j(A);U(j)&&(j=x),O=O.add(j),N=W(N,C)}return new Y(O,N)}i.B=function(N){return ue(this,N).h},i.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let D=0;D<A;D++)R[D]=this.i(D)&N.i(D);return new h(R,this.h&N.h)},i.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let D=0;D<A;D++)R[D]=this.i(D)|N.i(D);return new h(R,this.h|N.h)},i.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let D=0;D<A;D++)R[D]=this.i(D)^N.i(D);return new h(R,this.h^N.h)};function be(N){const A=N.g.length+1,R=[];for(let D=0;D<A;D++)R[D]=N.i(D)<<1|N.i(D-1)>>>31;return new h(R,N.h)}function ye(N,A){const R=A>>5;A%=32;const D=N.g.length-R,O=[];for(let j=0;j<D;j++)O[j]=A>0?N.i(j+R)>>>A|N.i(j+R+1)<<32-A:N.i(j+R);return new h(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,DT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,ss=h}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OT,ql,MT,mh,Bm,VT,PT,LT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in E))break e;E=E[z]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function S(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,z,K){for(var ie=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ie[Ae-2]=arguments[Ae];return y.prototype[z].apply(w,ie)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function U(c,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=c.length||0;const K=z.length||0;c.length=E+K;for(let ie=0;ie<K;ie++)c[E+ie]=z[ie]}else c.push(z)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(c){h.setTimeout(()=>{throw c},0)}function W(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,E){const w=Y.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var Y=new G(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ye=!1,N=new re,A=()=>{const c=Promise.resolve(void 0);be=()=>{c.then(R)}};function R(){for(var c;c=W();){try{c.h.call(c.g)}catch(E){k(E)}var y=Y;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ye=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function it(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(it,O),it.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,E,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=z,this.key=++X,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function Ge(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function V(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let E,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(E in w)c[E]=w[E];for(let K=0;K<te.length;K++)E=te[K],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,E,w,z){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ie=Re(c,y,w,z);return ie>-1?(y=c[ie],E||(y.fa=!1)):(y=new se(y,this.src,K,!!w,z),y.fa=E,c.push(y)),y};function Ee(c,y){const E=y.type;if(E in c.g){var w=c.g[E],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(w,z,1),K&&(pe(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Re(c,y,E,w){for(let z=0;z<c.length;++z){const K=c[z];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==w)return z}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,y,E,w,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)st(c,y[K],E,w,z);return null}return E=Po(E),c&&c[It]?c.J(y,E,m(w)?!!w.capture:!1,z):Es(c,y,E,!1,w,z)}function Es(c,y,E,w,z,K){if(!y)throw Error("Invalid event type");const ie=m(z)?!!z.capture:!!z;let Ae=Ts(c);if(Ae||(c[ke]=Ae=new ce(c)),E=Ae.add(y,E,w,ie,K),E.proxy)return E;if(w=da(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)j||(z=ie),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(ar(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function da(){function c(E){return y.call(c.src,c.listener,E)}const y=Mo;return c}function ma(c,y,E,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)ma(c,y[K],E,w,z);else w=m(w)?!!w.capture:!!w,E=Po(E),c&&c[It]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Re(y,E,w,z),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Ts(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,E,w,z)),(E=c>-1?y[c]:null)&&pa(E))}function pa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[It])Ee(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(ar(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Ts(y))?(Ee(E,c),E.h==0&&(E.src=null,y[ke]=null)):pe(c)}}}function ar(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Mo(c,y){if(c.da)c=!0;else{y=new it(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&pa(c),c=E.call(w,y)}return c}function Ts(c){return c=c[ke],c instanceof ce?c:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(y){return c.handleEvent(y)}),c[Vo])}function yt(){D.call(this),this.i=new ce(this),this.M=this,this.G=null}S(yt,D),yt.prototype[It]=!0,yt.prototype.removeEventListener=function(c,y,E,w){ma(this,c,y,E,w)};function Ot(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(w,c),ae(y,z)}z=!0;let K,ie;if(E)for(ie=E.length-1;ie>=0;ie--)K=y.g=E[ie],z=yi(K,w,!0,y)&&z;if(K=y.g=c,z=yi(K,w,!0,y)&&z,z=yi(K,w,!1,y)&&z,E)for(ie=0;ie<E.length;ie++)K=y.g=E[ie],z=yi(K,w,!1,y)&&z}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)pe(E[w]);delete c.g[y],c.h--}}this.G=null},yt.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},yt.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function yi(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const ie=y[K];if(ie&&!ie.da&&ie.capture==E){const Ae=ie.listener,dt=ie.ha||ie.src;ie.fa&&Ee(c.i,ie),z=Ae.call(dt,w)!==!1&&z}}return z&&!w.defaultPrevented}function ff(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Au(c){c.g=ff(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tn extends D{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){D.call(this),this.h=c,this.g={}}S(bs,D);var Lo=[];function ko(c){Ue(c.g,function(y,E){this.g.hasOwnProperty(E)&&pa(y)},c),c.g={}}bs.prototype.N=function(){bs.Z.N.call(this),ko(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _i=h.JSON.stringify,df=h.JSON.parse,xu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ru(){}function Nu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}S(Bt,O);function Rn(){O.call(this,"c")}S(Rn,O);var ft={},Cu=null;function ga(){return Cu=Cu||new yt}ft.Ia="serverreachability";function Iu(c){O.call(this,ft.Ia,c)}S(Iu,O);function or(c){const y=ga();Ot(y,new Iu(y))}ft.STAT_EVENT="statevent";function Ss(c,y){O.call(this,ft.STAT_EVENT,c),this.stat=y}S(Ss,O);function _t(c){const y=ga();Ot(y,new Ss(y,c))}ft.Ja="timingevent";function lr(c,y){O.call(this,ft.Ja,c),this.size=y}S(lr,O);function ur(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function mf(c,y,E,w,z,K){c.info(function(){if(c.g)if(K){var ie="",Ae=K.split("&");for(let qe=0;qe<Ae.length;qe++){var dt=Ae[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Dn=at.split("_");ie=Dn.length>=2&&Dn[1]=="type"?ie+(at+"="+dt+"&"):ie+(at+"=redacted&")}}}else ie=null;else ie=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+E+`
`+ie})}function Du(c,y,E,w,z,K,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+E+`
`+K+" "+ie})}function cr(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pf(c,E)+(w?" "+w:"")})}function ws(c,y){c.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function pf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return _i(K)}catch{return y}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function xs(){}S(xs,Ru),xs.prototype.g=function(){return new XMLHttpRequest},Uo=new xs;function Lr(c){return encodeURIComponent(String(c))}function Ou(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Fn(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var vt={},kt={};function hr(c,y,E){c.M=1,c.A=Rs(Tt(y)),c.u=E,c.R=!0,ya(c,null)}function ya(c,y){c.F=Date.now(),fr(c),c.B=Tt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ta(E.i,"t",w),c.C=0,E=c.j.L,c.h=new Gn,c.g=Qu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Lo[0]=z.toString()),z=Lo);for(let K=0;K<z.length;K++){const ie=st(E,z[K],w||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),or(),mf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Yn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Yn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ae!=4||dt==7||(dt==8||qe<=0?or(3):or(2)),dr(this);var y=this.g.ca();this.X=y;var E=gf(this);if(this.o=y==200,Du(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var K=w;break t}}K=null}if(c=K)cr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mr(this,c);else{this.o=!1,this.m=3,_t(12),gn(this),Nn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<E.length;)if(at=Vu(this,E),at==kt){Ae==4&&(this.m=4,_t(14),c=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),cr(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else cr(this.i,this.l,at,null),mr(this,at);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)cr(this.i,this.l,E,"[Invalid Chunked Response]"),gn(this),Nn(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),el(ie),ie.P=!0,_t(11))}}else cr(this.i,this.l,E,null),mr(this,E);Ae==4&&gn(this),this.o&&!this.K&&(Ae==4?Hu(this.j,this):(this.o=!1,fr(this)))}else jr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),gn(this),Nn(this)}}}catch{}finally{}};function gf(c){if(!Mu(c))return c.g.la();const y=qt(c.g);if(y==="")return"";let E="";const w=y.length,z=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Nn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(z&&K==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Vu(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?kt:(E=Number(y.substring(E,w)),isNaN(E)?vt:(w+=1,w+E>y.length?kt:(y=y.slice(w,w+E),c.C=w+E,y)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function fr(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ur(g(c.aa,c),y)}function dr(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ws(this.i,this.B),this.M!=2&&(or(),_t(17)),gn(this),this.m=2,Nn(this)):_a(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Hu(c.j,c)}function gn(c){dr(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ko(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function mr(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||gr(E.h,c))){if(!c.L&&gr(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)xa(E),xi(E);else break e;Vs(E),_t(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ur(g(E.Va,E),6e3));pr(E.h)<=1&&E.ta&&(E.ta=void 0)}else br(E,11)}else if((c.L||E.g==c)&&xa(E),!C(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let qe=z[y];const at=qe[0];if(!(at<=E.K))if(E.K=at,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const Dn=qe[3];Dn!=null&&(E.ka=Dn,E.j.info("VER="+E.ka));const Sr=qe[4];Sr!=null&&(E.za=Sr,E.j.info("SVER="+E.za));const $n=qe[5];$n!=null&&typeof $n=="number"&&$n>0&&(w=1.5*$n,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Xn=c.g;if(Xn){const Ps=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var K=w.h;K.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(qo(K,K.h),K.h=null))}if(w.G){const Ra=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(w.wa=Ra,Ke(w.J,w.G,Ra))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ie=c;if(w.na=Ku(w,w.L?w.ba:null,w.W),ie.L){Ho(w.h,ie);var Ae=ie,dt=w.O;dt&&(Ae.H=dt),Ae.D&&(dr(Ae),fr(Ae)),w.g=ie}else Bu(w);E.i.length>0&&Tr(E)}else qe[0]!="stop"&&qe[0]!="close"||br(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?br(E,7):Wo(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}or(4)}catch{}}var Et=class{constructor(c,y){this.g=c,this.map=y}};function zo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pr(c){return c.h?1:c.g?c.g.size:0}function gr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qo(c,y){c.g?c.g.add(y):c.h=y}function Ho(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return P(c.i)}var Pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let z,K=null;w>=0?(z=c[E].substring(0,w),K=c[E].substring(w+1)):z=c[E],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.u),this.h=c.h,Go(this,Uu(c.i)),this.m=c.m):c&&(y=String(c).match(Pu))?(this.l=!1,jt(this,y[1]||"",!0),this.o=yr(y[2]||""),this.g=yr(y[3]||"",!0),vi(this,y[4]),this.h=yr(y[5]||"",!0),Go(this,y[6]||"",!0),this.m=yr(y[7]||"")):(this.l=!1,this.i=new Ti(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ns(y,Ea,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ns(y,Ea,!0),"@"),c.push(Lr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ns(E,E.charAt(0)=="/"?Ko:Lu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ns(E,ku)),c.join("")},yn.prototype.resolve=function(c){const y=Tt(this);let E=!!c.j;E?jt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)vi(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let ie=0;ie<z.length;){const Ae=z[ie++];Ae=="."?w&&ie==z.length&&K.push(""):Ae==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ie==z.length&&K.push("")):(K.push(Ae),w=!0)}w=K.join("/")}else w=z}return E?y.h=w:E=c.i.toString()!=="",E?Go(y,Uu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Tt(c){return new yn(c)}function jt(c,y,E){c.j=E?yr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Go(c,y,E){y instanceof Ti?(c.i=y,ba(c.i,c.l)):(E||(y=Ns(y,Ei)),c.i=new Ti(y,c.l))}function Ke(c,y,E){c.i.set(y,E)}function Rs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,on),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Lu=/[#\?:]/g,Ko=/[#\?]/g,Ei=/[#\?@]/g,ku=/#/g;function Ti(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Ti.prototype,i.add=function(c,y){ln(this),this.i=null,c=bi(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ju(c,y){ln(c),y=bi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qo(c,y){return ln(c),y=bi(c,y),c.g.has(y)}i.forEach=function(c,y){ln(this),this.g.forEach(function(E,w){E.forEach(function(z){c.call(y,z,w,this)},this)},this)};function Yo(c,y){ln(c);let E=[];if(typeof y=="string")Qo(c,y)&&(E=E.concat(c.g.get(bi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}i.set=function(c,y){return ln(this),this.i=null,c=bi(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Yo(this,c),c.length>0?String(c[0]):y):y};function Ta(c,y,E){ju(c,y),E.length>0&&(c.i=null,c.g.set(bi(c,y),P(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const z=Lr(E);E=Yo(this,E);for(let K=0;K<E.length;K++){let ie=z;E[K]!==""&&(ie+="="+Lr(E[K])),c.push(ie)}}return this.i=c.join("&")};function Uu(c){const y=new Ti;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function bi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ba(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(E,w){const z=w.toLowerCase();w!=z&&(ju(this,w),Ta(this,z,E))},c)),c.j=y}function Kn(c,y){const E=new Hn;if(h.Image){const w=new Image;w.onload=T(Cn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=T(Cn,E,"TestLoadImage: error",!1,y,w),w.onabort=T(Cn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=T(Cn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function $o(c,y){const E=new Hn,w=new AbortController,z=setTimeout(()=>{w.abort(),Cn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?Cn(E,"TestPingServer: ok",!0,y):Cn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Cn(E,"TestPingServer: error",!1,y)})}function Cn(c,y,E,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(E)}catch{}}function Si(){this.g=new xu}function _r(c){this.i=c.Sb||null,this.h=c.ab||!1}S(_r,Ru),_r.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,y){yt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cs,yt),i=Cs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Qn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wi(this):Qn(this),this.readyState==3&&Sa(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,wi(this))},i.Na=function(c){this.g&&(this.response=c,wi(this))},i.ga=function(){this.g&&wi(this)};function wi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let y="";return Ue(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Is(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=In(E),typeof c=="string"?E!=null&&Lr(E):Ke(c,y,E))}function $e(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,yt);var vr=/^https?$/i,Xo=["POST","PUT"];i=$e.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ds(this,K);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)E.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Xo,y,void 0)>=0)||w||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of E)this.g.setRequestHeader(K,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Ds(this,K)}};function Ds(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Jo(c),kr(c)}function Jo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),kr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kr(this,!0)),$e.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},i.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=K===0){let ie=String(c.D).match(Pu)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),w=!vr.test(ie?ie.toLowerCase():"")}E=w}if(E)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var z=Yn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Jo(c)}}finally{kr(c)}}}}function kr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Ot(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),df(y)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jr(c){const y={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var E=Ou(c[w]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[z]||[];y[z]=K,K.push(E)}Ge(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ai(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,c),this.Za=Er("retryDelaySeedMs",1e4,c),this.Ta=Er("forwardChannelMaxRetries",2,c),this.va=Er("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(c&&c.concurrentRequestLimit),this.Ba=new Si,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ai.prototype,i.ka=8,i.I=1,i.connect=function(c,y,E,w){_t(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Ku(this,null,this.W),Tr(this)};function Wo(c){if(wa(c),c.I==3){var y=c.V++,E=Tt(c.J);if(Ke(E,"SID",c.M),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),Ms(c,E),y=new Fn(c,c.j,y),y.M=2,y.A=Rs(Tt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fr(y)}Gu(c)}function xi(c){c.g&&(el(c),c.g.cancel(),c.g=null)}function wa(c){xi(c),c.v&&(h.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Tr(c){if(!Bo(c.h)&&!c.m){c.m=!0;var y=c.Ea;be||A(),ye||(be(),ye=!0),N.add(y,c),c.D=0}}function Aa(c,y){return pr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ur(g(c.Ea,c,y),Fu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Fn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),ae(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=zu(this,z,y),E=Tt(this.J),Ke(E,"RID",c),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),Ms(this,E),K&&(this.R?y="headers="+Lr(In(K))+"&"+y:this.u&&Is(E,this.u,K)),qo(this.h,z),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",y),Ke(E,"SID","null"),z.U=!0,hr(z,E,null)):hr(z,E,y),this.I=2}}else this.I==3&&(c?Zo(this,c):this.i.length==0||Bo(this.h)||Zo(this))};function Zo(c,y){var E;y?E=y.l:E=c.V++;const w=Tt(c.J);Ke(w,"SID",c.M),Ke(w,"RID",E),Ke(w,"AID",c.K),Ms(c,w),c.u&&c.o&&Is(w,c.u,c.o),E=new Fn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=zu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qo(c.h,E),hr(E,w,y)}function Ms(c,y){c.H&&Ue(c.H,function(E,w){Ke(y,w,E)}),c.l&&Ue({},function(E,w){Ke(y,w,E)})}function zu(c,y,E){E=Math.min(c.i.length,E);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ae=-1;for(;;){const dt=["count="+E];Ae==-1?E>0?(Ae=z[0].g,dt.push("ofs="+Ae)):Ae=0:dt.push("ofs="+Ae);let qe=!0;for(let at=0;at<E;at++){var K=z[at].g;const Dn=z[at].map;if(K-=Ae,K<0)Ae=Math.max(0,z[at].g-100),qe=!1;else try{K="req"+K+"_"||"";try{var ie=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Sr,$n]of ie){let Xn=$n;m($n)&&(Xn=_i($n)),dt.push(K+Sr+"="+encodeURIComponent(Xn))}}catch(Sr){throw dt.push(K+"type="+encodeURIComponent("_badmap")),Sr}}catch{w&&w(Dn)}}if(qe){ie=dt.join("&");break e}}ie=void 0}return c=c.i.splice(0,E),y.G=c,ie}function Bu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;be||A(),ye||(be(),ye=!0),N.add(y,c),c.A=0}}function Vs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ur(g(c.Da,c),Fu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ur(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),xi(this),qu(this))};function el(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Tt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Ms(c,y),c.u&&c.o&&Is(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Rs(Tt(y)),E.u=null,E.R=!0,ya(E,c)}i.Va=function(){this.C!=null&&(this.C=null,xi(this),Vs(this),_t(19))};function xa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Hu(c,y){var E=null;if(c.g==y){xa(c),el(c),c.g=null;var w=2}else if(gr(c.h,y))E=y.G,Ho(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;w=ga(),Ot(w,new lr(w,E)),Tr(c)}else Bu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&Aa(c,y)||w==2&&Vs(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),z){case 1:br(c,5);break;case 4:br(c,10);break;case 3:br(c,6);break;default:br(c,2)}}}function Fu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function br(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),w=c.Ua;const z=!w;w=new yn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(w,"https"),Rs(w),z?Kn(w.toString(),E):$o(w.toString(),E)}else _t(2);c.I=0,c.l&&c.l.pa(y),Gu(c),wa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ja,y),U(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,E){var w=E instanceof yn?Tt(E):new yn(E);if(w.g!="")y&&(w.g=y+"."+w.g),vi(w,w.u);else{var z=h.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new yn(null);w&&jt(K,w),y&&(K.g=y),z&&vi(K,z),E&&(K.h=E),w=K}return E=c.G,y=c.wa,E&&y&&Ke(w,E,y),Ke(w,"VER",c.ka),Ms(c,w),w}function Qu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new _r({ab:E})):new $e(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ri(){}Ri.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){yt.call(this),this.g=new Ai(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ur(this)}S(nn,yt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Wo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=_i(c),c=E);y.i.push(new Et(y.Ya++,c)),y.I==3&&Tr(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,nn.Z.N.call(this)};function $u(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S($u,Bt);function Xu(){Rn.call(this),this.status=1}S(Xu,Rn);function Ur(c){this.g=c}S(Ur,Yu),Ur.prototype.ra=function(){Ot(this.g,"a")},Ur.prototype.qa=function(c){Ot(this.g,new $u(c))},Ur.prototype.pa=function(c){Ot(this.g,new Xu)},Ur.prototype.oa=function(){Ot(this.g,"b")},Ri.prototype.createWebChannel=Ri.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,LT=function(){return new Ri},PT=function(){return ga()},VT=ft,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,mh=As,jo.COMPLETE="complete",MT=jo,Nu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,ql=Nu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,OT=$e}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",xv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new dp("@firebase/firestore");function ro(){return aa.logLevel}function le(i,...e){if(aa.logLevel<=Me.DEBUG){const n=e.map(xp);aa.debug(`Firestore (${Ro}): ${i}`,...n)}}function hi(i,...e){if(aa.logLevel<=Me.ERROR){const n=e.map(xp);aa.error(`Firestore (${Ro}): ${i}`,...n)}}function po(i,...e){if(aa.logLevel<=Me.WARN){const n=e.map(xp);aa.warn(`Firestore (${Ro}): ${i}`,...n)}}function xp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,kT(i,s,n)}function kT(i,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hi(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||kT(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class xN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ai,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ai)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new jT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class NN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new NN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function qm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Am(o)===Am(u)?Ve(o,u):Am(o)?1:-1}return Ve(i.length,e.length)}const ON=55296,MN=57343;function Am(i){const e=i.charCodeAt(0);return e>=ON&&e<=MN}function go(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__name__";class Nr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Nr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Nr.isNumericId(e),o=Nr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class et extends Nr{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const VN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Nr{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return VN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nv}static keyField(){return new Yt([Nv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(i,e,n){if(!n)throw new oe(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function PN(i,e,n,s){if(e===!0&&s===!0)throw new oe(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Cv(i){if(!me.isDocumentKey(i))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Iv(i){if(me.isDocumentKey(i))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Kh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function fi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(i);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,e){const n={typeString:i};return e&&(n.value=e),n}function _u(i,e){if(!zT(i))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-62135596800,Ov=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Ov);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dv)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ov}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Nt("string",rt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function LN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new os(o,me.empty(),e)}function kN(i){return new os(i.readTime,i.key,tu)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(Te.min(),me.empty(),tu)}static max(){return new os(Te.max(),me.empty(),tu)}}function jN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==UN)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{h[g]=T,++m,m===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function BN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function Yh(i){return i==null}function Ch(i){return i===0&&1/i==-1/0}function qN(i){return typeof i=="number"&&Number.isInteger(i)&&!Ch(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="";function HN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Mv(e)),e=FN(i.get(n),e);return Mv(e)}function FN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case BT:n+="";break;default:n+=u}}return n}function Mv(i){return i+BT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ys(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function qT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HT("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const GN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=GN.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function us(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="server_timestamp",GT="__type__",KT="__previous_value__",QT="__local_write_time__";function Cp(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[GT])==null?void 0:s.stringValue)===FT}function $h(i){const e=i.mapValue.fields[KT];return Cp(e)?$h(e):e}function nu(i){const e=ls(i.mapValue.fields[QT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,s,o,u,h,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const Ih="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="__type__",QN="__max__",ih={mapValue:{}},$T="__vector__",Dh="value";function cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Cp(i)?4:$N(i)?9007199254740991:YN(i)?10:11:ve(28295,{value:i})}function Vr(i,e){if(i===e)return!0;const n=cs(i);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ls(o.timestampValue),m=ls(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?Ch(h)===Ch(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Vv(h)!==Vv(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Vr(h[p],m[p])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function iu(i,e){return(i.values||[]).find((n=>Vr(n,e)))!==void 0}function yo(i,e){if(i===e)return 0;const n=cs(i),s=cs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return Lv(i.timestampValue,e.timestampValue);case 4:return Lv(nu(i),nu(e));case 5:return qm(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=us(u),p=us(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Ve(m[g],p[g]);if(T!==0)return T}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(gt(u.latitude),gt(h.latitude));return m!==0?m:Ve(gt(u.longitude),gt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return kv(i.arrayValue,e.arrayValue);case 10:return(function(u,h){var x,P,U,G;const m=u.fields||{},p=h.fields||{},g=(x=m[Dh])==null?void 0:x.arrayValue,T=(P=p[Dh])==null?void 0:P.arrayValue,S=Ve(((U=g==null?void 0:g.values)==null?void 0:U.length)||0,((G=T==null?void 0:T.values)==null?void 0:G.length)||0);return S!==0?S:kv(g,T)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ih.mapValue&&h===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(h===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const x=qm(p[S],T[S]);if(x!==0)return x;const P=yo(m[p[S]],g[T[S]]);if(P!==0)return P}return Ve(p.length,T.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function Lv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=ls(i),s=ls(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function kv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function _o(i){return Hm(i)}function Hm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return us(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Hm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Hm(n.fields[h])}`;return o+"}"})(i.mapValue):ve(61005,{value:i})}function ph(i){switch(cs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(i);return e?16+ph(e):16;case 5:return 2*i.stringValue.length;case 6:return us(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ph(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,h)=>{o+=u.length+ph(h)})),o})(i.mapValue);default:throw ve(13486,{value:i})}}function jv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Fm(i){return!!i&&"integerValue"in i}function Ip(i){return!!i&&"arrayValue"in i}function Uv(i){return!!i&&"nullValue"in i}function zv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function gh(i){return!!i&&"mapValue"in i}function YN(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[YT])==null?void 0:s.stringValue)===$T}function Yl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ys(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(i.arrayValue.values[n]);return e}return{...i}}function $N(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===QN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Yl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(Yl(this.value))}}function XT(i){const e=[];return ys(i.fields,((n,s)=>{const o=new Yt([n]);if(gh(s)){const u=XT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Te.min(),Te.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Te.min(),Te.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function Bv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=yo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Vr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function XN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{}class Rt extends JT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new WN(e,n,s):n==="array-contains"?new tC(e,s):n==="in"?new nC(e,s):n==="not-in"?new rC(e,s):n==="array-contains-any"?new iC(e,s):new Rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ZN(e,s):new eC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends JT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ir(e,n)}matches(e){return WT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WT(i){return i.op==="and"}function ZT(i){return JN(i)&&WT(i)}function JN(i){for(const e of i.filters)if(e instanceof ir)return!1;return!0}function Gm(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(ZT(i))return i.filters.map((e=>Gm(e))).join(",");{const e=i.filters.map((n=>Gm(n))).join(",");return`${i.op}(${e})`}}function eb(i,e){return i instanceof Rt?(function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&Vr(s.value,o.value)})(i,e):i instanceof ir?(function(s,o){return o instanceof ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&eb(h,o.filters[m])),!0):!1})(i,e):void ve(19439)}function tb(i){return i instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(i):i instanceof ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(tb).join(" ,")+"}"})(i):"Filter"}class WN extends Rt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZN extends Rt{constructor(e,n){super(e,"in",n),this.keys=nb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eC extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=nb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nb(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>me.fromName(s.referenceValue)))}class tC extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&iu(n.arrayValue,this.value)}}class nC extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class rC extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class iC extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>iu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Hv(i,e=null,n=[],s=[],o=null,u=null,h=null){return new sC(i,e,n,s,o,u,h)}function Dp(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function Op(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!XN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!eb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qv(i.startAt,e.startAt)&&qv(i.endAt,e.endAt)}function Km(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aC(i,e,n,s,o,u,h,m){return new Io(i,e,n,s,o,u,h,m)}function Mp(i){return new Io(i)}function Fv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rb(i){return i.collectionGroup!==null}function $l(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Yt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new su(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new su(Yt.keyField(),s))}return e.Ie}function Ir(i){const e=we(i);return e.Ee||(e.Ee=oC(e,$l(i))),e.Ee}function oC(i,e){if(i.limitType==="F")return Hv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)}));const n=i.endAt?new Oh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Oh(i.startAt.position,i.startAt.inclusive):null;return Hv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Qm(i,e){const n=i.filters.concat([e]);return new Io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ym(i,e,n){return new Io(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Xh(i,e){return Op(Ir(i),Ir(e))&&i.limitType===e.limitType}function ib(i){return`${Dp(Ir(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tb(o))).join(", ")}]`),Yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${s})`})(Ir(i))}; limitType=${i.limitType})`}function Jh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=Bv(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(h,m,p){const g=Bv(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(i,e)}function lC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sb(i){return(e,n)=>{let s=!1;for(const o of $l(i)){const u=uC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function uC(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):ve(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new ut(me.comparator);function di(){return cC}const ab=new ut(me.comparator);function Hl(...i){let e=ab;for(const n of i)e=e.insert(n.key,n);return e}function ob(i){let e=ab;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ea(){return Xl()}function lb(){return Xl()}function Xl(){return new ca((i=>i.toString()),((i,e)=>i.isEqual(e)))}const hC=new ut(me.comparator),fC=new Vt(me.comparator);function Pe(...i){let e=fC;for(const n of i)e=e.add(n);return e}const dC=new Vt(Ve);function mC(){return dC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function ub(i){return{integerValue:""+i}}function pC(i,e){return qN(e)?ub(e):Vp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function gC(i,e,n){return i instanceof au?(function(o,u){const h={fields:{[GT]:{stringValue:FT},[QT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cp(u)&&(u=$h(u)),u&&(h.fields[KT]=u),{mapValue:h}})(n,e):i instanceof ou?hb(i,e):i instanceof lu?fb(i,e):(function(o,u){const h=cb(o,u),m=Gv(h)+Gv(o.Ae);return Fm(h)&&Fm(o.Ae)?ub(m):Vp(o.serializer,m)})(i,e)}function yC(i,e,n){return i instanceof ou?hb(i,e):i instanceof lu?fb(i,e):n}function cb(i,e){return i instanceof Mh?(function(s){return Fm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class au extends Wh{}class ou extends Wh{constructor(e){super(),this.elements=e}}function hb(i,e){const n=db(e);for(const s of i.elements)n.some((o=>Vr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends Wh{constructor(e){super(),this.elements=e}}function fb(i,e){let n=db(e);for(const s of i.elements)n=n.filter((o=>!Vr(o,s)));return{arrayValue:{values:n}}}class Mh extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gv(i){return gt(i.integerValue||i.doubleValue)}function db(i){return Ip(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.field=e,this.transform=n}}function vC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?go(s.elements,o.elements,Vr):s instanceof Mh&&o instanceof Mh?Vr(s.Ae,o.Ae):s instanceof au&&o instanceof au})(i.transform,e.transform)}class EC{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zh{}function mb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Pp(i.key,nr.none()):new vu(i.key,i.data,nr.none());{const n=i.data,s=pn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new _s(i.key,s,new xn(o.toArray()),nr.none())}}function TC(i,e,n){i instanceof vu?(function(o,u,h){const m=o.value.clone(),p=Qv(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof _s?(function(o,u,h){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Qv(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(pb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Jl(i,e,n,s){return i instanceof vu?(function(u,h,m,p){if(!yh(u.precondition,h))return m;const g=u.value.clone(),T=Yv(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof _s?(function(u,h,m,p){if(!yh(u.precondition,h))return m;const g=Yv(u.fieldTransforms,p,h),T=h.data;return T.setAll(pb(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,n,s):(function(u,h,m){return yh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function bC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=cb(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function Kv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,((u,h)=>vC(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class vu extends Zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Qv(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,yC(h,m,n[o]))}return s}function Yv(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,gC(u,h,e))}return s}class Pp extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SC extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&TC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=mb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>Kv(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>Kv(n,s)))}}class Lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return hC})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Lp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,je;function RC(i){switch(i){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function gb(i){if(i===void 0)return hi("GRPC error has no .code"),Z.UNKNOWN;switch(i){case xt.OK:return Z.OK;case xt.CANCELLED:return Z.CANCELLED;case xt.UNKNOWN:return Z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Z.INTERNAL;case xt.UNAVAILABLE:return Z.UNAVAILABLE;case xt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xt.NOT_FOUND:return Z.NOT_FOUND;case xt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xt.ABORTED:return Z.ABORTED;case xt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:i})}}(je=xt||(xt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new ss([4294967295,4294967295],0);function $v(i){const e=NC().encode(i),n=new DT;return n.update(e),new Uint8Array(n.digest())}function Xv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(CC)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$v(e),[s,o]=Xv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new kp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=$v(e),[s,o]=Xv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ef(Te.min(),o,new ut(Ve),di(),Pe())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class yb{constructor(e,n){this.targetId=e,this.Ce=n}}class _b{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Jv{constructor(){this.ve=0,this.Fe=Wv(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Wv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IC{constructor(e){this.Ge=e,this.ze=new Map,this.je=di(),this.Je=sh(),this.He=sh(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Km(u))if(s===0){const h=new me(u.path);this.et(n,h,Zt.newNoDocument(h,Te.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=us(s).toUint8Array()}catch(p){if(p instanceof HT)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(h,o,u)}catch(p){return po(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Km(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new ef(e,n,this.Ye,this.je,s);return this.je=di(),this.Je=sh(),this.He=sh(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Jv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new ut(me.comparator)}function Wv(){return new ut(me.comparator)}const DC={asc:"ASCENDING",desc:"DESCENDING"},OC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MC={and:"AND",or:"OR"};class VC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(i,e){return i.useProto3Json||Yh(e)?e:{value:e}}function Vh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function PC(i,e){return Vh(i,e.toTimestamp())}function Dr(i){return Fe(!!i,49232),Te.fromTimestamp((function(n){const s=ls(n);return new rt(s.seconds,s.nanos)})(i))}function jp(i,e){return Xm(i,e).canonicalString()}function Xm(i,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Eb(i){const e=et.fromString(i);return Fe(Ab(e),10190,{key:e.toString()}),e}function Jm(i,e){return jp(i.databaseId,e.path)}function xm(i,e){const n=Eb(e);if(n.get(1)!==i.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(bb(n))}function Tb(i,e){return jp(i.databaseId,e)}function LC(i){const e=Eb(i);return e.length===4?et.emptyPath():bb(e)}function Wm(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bb(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Zv(i,e,n){return{name:Jm(i,e),fields:n.value.mapValue.fields}}function kC(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),$t.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$t.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const T=g.code===void 0?Z.UNKNOWN:gb(g.code);return new oe(T,g.message||"")})(h);n=new _b(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xm(i,s.document.name),u=Dr(s.document.updateTime),h=s.document.createTime?Dr(s.document.createTime):Te.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new _h(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xm(i,s.document),u=s.readTime?Dr(s.readTime):Te.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xm(i,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new xC(o,u),m=s.targetId;n=new yb(m,h)}}return n}function jC(i,e){let n;if(e instanceof vu)n={update:Zv(i,e.key,e.value)};else if(e instanceof Pp)n={delete:Jm(i,e.key)};else if(e instanceof _s)n={update:Zv(i,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof SC))return ve(16599,{Vt:e.type});n={verify:Jm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof au)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:PC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(i,e.precondition)),n}function UC(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Dr(o.updateTime):Dr(u);return h.isEqual(Te.min())&&(h=Dr(u)),new EC(h,o.transformResults||[])})(n,e)))):[]}function zC(i,e){return{documents:[Tb(i,e.path)]}}function BC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Tb(i,o);const u=(function(g){if(g.length!==0)return wb(ir.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((T=>(function(x){return{field:so(x.field),direction:FC(x.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=$m(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function qC(i){let e=LC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const x=Sb(S);return x instanceof ir&&ZT(x)?x.getFilters():[x]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((x=>(function(U){return new su(ao(U.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let x;return x=typeof S=="object"?S.value:S,Yh(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(S){const x=!!S.before,P=S.values||[];return new Oh(P,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const x=!S.before,P=S.values||[];return new Oh(P,x)})(n.endAt)),aC(e,o,h,u,m,"F",p,g)}function HC(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(n.unaryFilter.field);return Rt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Rt.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ir.create(n.compositeFilter.filters.map((s=>Sb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(i):ve(30097,{filter:i})}function FC(i){return DC[i]}function GC(i){return OC[i]}function KC(i){return MC[i]}function so(i){return{fieldPath:i.canonicalString()}}function ao(i){return Yt.fromServerFormat(i.fieldPath)}function wb(i){return i instanceof Rt?(function(n){if(n.op==="=="){if(zv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(Uv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(Uv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:GC(n.op),value:n.value}}})(i):i instanceof ir?(function(n){const s=n.getFilters().map((o=>wb(o)));return s.length===1?s[0]:{compositeFilter:{op:KC(n.op),filters:s}}})(i):ve(54877,{filter:i})}function QC(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ab(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,o,u=Te.min(),h=Te.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.yt=e}}function $C(i){const e=qC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.Cn=new JC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(os.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class JC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xb=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(xb,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="LruGarbageCollector",WC=1048576;function nE([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class ZC{constructor(e){this.Ir=e,this.buffer=new Vt(nE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(tE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?le(tE,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Vr(3e5)}))}}class tI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Qh.ce);const s=new ZC(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(eE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),ro()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function nI(i,e){return new tI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,xn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Hl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=di();const h=Xl(),m=(function(){return Xl()})();return n.forEach(((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof _s)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),Jl(T.mutation,g,T.mutation.getFieldMask(),rt.now())):h.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>h.set(g,T))),n.forEach(((g,T)=>m.set(g,new iI(T,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new ut(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||xn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const S=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,S=lb();T.forEach((x=>{if(!u.has(x)){const P=mb(n.get(x),s.get(x));P!==null&&S.set(x,P),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ea());let m=tu,p=u;return h.next((g=>ne.forEach(g,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{p=p.insert(T,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((T=>({batchId:m,changes:ob(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(S,x){return new Io(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((T=>{T.forEach(((S,x)=>{h=h.insert(S,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,Zt.newInvalidDocument(T)))}));let m=Hl();return h.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&Jl(T.mutation,g,xn.empty(),rt.now()),Jh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Dr(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:$C(o.bundledQuery),readTime:Dr(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.overlays=new ut(me.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ea(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,T)=>g-T));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=ea(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new AC(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new et([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new et([])),s=new zt(n,e),o=new zt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new wC(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Np:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Ve);return n.forEach((o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new zt(new me(u),0);let m=new Vt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.ri=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=di();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=di();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||jN(kN(T),s)<=0||(o.has(T.key)||Jh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new hI(this)}getSize(e){return ne.resolve(this.size)}}class hI extends rI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.persistence=e,this.si=new ca((n=>Dp(n)),Op),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Up,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new lI,this.referenceDelegate=e(this),this.Pi=new fI(this),this.indexManager=new XC,this.remoteDocumentCache=(function(o){return new cI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new YC(n),this.Ii=new aI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new uI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new dI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class dI extends zN{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ri=new Up,this.Vi=null}static mi(e){return new zp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new ca((s=>HN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=nI(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BA()?8:BN(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new mI;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ro()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(ro()<=Me.DEBUG&&le("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ro()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):ne.resolve())}ys(e,n){if(Fv(n))return ne.resolve(null);let s=Ir(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ym(n,null,"F"),s=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return Fv(n)||o.isEqual(Te.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(ro()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.vs(e,h,n,LN(o,tu)).next((m=>m)))}))}Ds(e,n){let s=new Vt(sb(e));return n.forEach(((o,u)=>{Jh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ro()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(e,n,os.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LocalStore",gI=3e8;class yI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new ca((u=>Dp(u)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _I(i,e,n,s){return new yI(i,e,n,s)}async function Nb(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function vI(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const S=g.batch,x=S.keys();let P=ne.resolve();return x.forEach((U=>{P=P.next((()=>T.getEntry(p,U))).next((G=>{const k=g.docVersions.get(U);Fe(k!==null,48541),G.version.compareTo(k)<0&&(S.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),T.addEntry(G)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Cb(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function EI(i,e){const n=we(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,S)=>{const x=o.get(S);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let P=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(S,P),(function(G,k,W){return G.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=gI?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(x,P,T)&&m.push(n.Pi.updateTargetData(u,P))}));let p=di(),g=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(TI(u,h,e.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!s.isEqual(Te.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function TI(i,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=di();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function bI(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function SI(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Zm(i,e,n){const s=we(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Co(h))throw h;le(qp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function rE(i,e,n){const s=we(i);let o=Te.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,T){const S=we(p),x=S.xs.get(T);return x!==void 0?ne.resolve(S.Ms.get(x)):S.Pi.getTargetData(g,T)})(s,h,Ir(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?u:Pe()))).next((m=>(wI(s,lC(e),m),{documents:m,Qs:u})))))}function wI(i,e,n){let s=i.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class iE{constructor(){this.activeTargetIds=mC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AI{constructor(){this.Mo=new iE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="ConnectivityMonitor";class aE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(sE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(sE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function ep(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",RI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=ep(),m=this.zo(e,n.toUriEncodedString());le(Rm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),T=wo(g);return this.Jo(e,m,p,s,T).then((S=>(le(Rm,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw po(Rm,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=RI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class II extends NI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=ep();return new Promise(((m,p)=>{const g=new OT;g.setWithCredentials(!0),g.listenOnce(MT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case mh.NO_ERROR:const S=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case mh.TIMEOUT:le(Jt,`RPC '${e}' ${h} timed out`),p(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const x=g.getStatus();if(le(Jt,`RPC '${e}' ${h} failed with status:`,x,"response text:",g.getResponseText()),x>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const U=P==null?void 0:P.error;if(U&&U.status&&U.message){const G=(function(W){const re=W.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(re)>=0?re:Z.UNKNOWN})(U.status);p(new oe(G,U.message))}else p(new oe(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);le(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=ep(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=LT(),m=PT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const S=h.createWebChannel(T,p);this.I_(S);let x=!1,P=!1;const U=new CI({Yo:k=>{P?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(x||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,k),S.send(k))},Zo:()=>S.close()}),G=(k,W,re)=>{k.listen(W,(Y=>{try{re(Y)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return G(S,ql.EventType.OPEN,(()=>{P||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),G(S,ql.EventType.CLOSE,(()=>{P||(P=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(S))})),G(S,ql.EventType.ERROR,(k=>{P||(P=!0,po(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),U.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),G(S,ql.EventType.MESSAGE,(k=>{var W;if(!P){const re=k.data[0];Fe(!!re,16349);const Y=re,ue=(Y==null?void 0:Y.error)||((W=Y[0])==null?void 0:W.error);if(ue){le(Jt,`RPC '${e}' stream ${o} received error:`,ue);const be=ue.status;let ye=(function(R){const D=xt[R];if(D!==void 0)return gb(D)})(be),N=ue.message;ye===void 0&&(ye=Z.INTERNAL,N="Unknown error status: "+be+" with message "+ue.message),P=!0,U.a_(new oe(ye,N)),S.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,re),U.u_(re)}})),G(m,VT.STAT_EVENT,(k=>{k.stat===Bm.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Bm.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(i){return new VC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="PersistentStream";class Db{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ib(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(oE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(oE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DI extends Db{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=kC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Dr(h.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Km(p)?{documents:zC(u,p)}:{query:BC(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=vb(u,h.resumeToken);const g=$m(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=Vh(u,h.snapshotVersion.toTimestamp());const g=$m(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=HC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class OI extends Db{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UC(e.writeResults,e.commitTime),s=Dr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>jC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{}class VI extends MI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Xm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Xm(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class LI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ha(this)&&(le(oa,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await Tu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await nf(g)})(this))}))})),this.Ra=new PI(s,o)}}async function nf(i){if(ha(i))for(const e of i.da)await e(!0)}async function Tu(i){for(const e of i.da)await e(!1)}function Ob(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?Gp(n):Do(n).O_()&&Fp(n,e))}function Hp(i,e){const n=we(i),s=Do(n);n.Ia.delete(e),s.O_()&&Mb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Ra.set("Unknown"))}function Fp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).Y_(e)}function Mb(i,e){i.Va.Ue(e),Do(i).Z_(e)}function Gp(i){i.Va=new IC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Ra.ua()}function Kp(i){return ha(i)&&!Do(i).x_()&&i.Ia.size>0}function ha(i){return we(i).Ea.size===0}function Vb(i){i.Va=void 0}async function kI(i){i.Ra.set("Online")}async function jI(i){i.Ia.forEach(((e,n)=>{Fp(i,e)}))}async function UI(i,e){Vb(i),Kp(i)?(i.Ra.ha(e),Gp(i)):i.Ra.set("Unknown")}async function zI(i,e,n){if(i.Ra.set("Online"),e instanceof _b&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){le(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(i,s)}else if(e instanceof _h?i.Va.Ze(e):e instanceof yb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Te.min()))try{const s=await Cb(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken($t.EMPTY_BYTE_STRING,T.snapshotVersion)),Mb(u,p);const S=new ts(T.target,p,g,T.sequenceNumber);Fp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){le(oa,"Failed to raise snapshot:",s),await Lh(i,s)}}async function Lh(i,e,n){if(!Co(e))throw e;i.Ea.add(1),await Tu(i),i.Ra.set("Offline"),n||(n=()=>Cb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(oa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await nf(i)}))}function Pb(i,e){return e().catch((n=>Lh(i,n,e)))}async function rf(i){const e=we(i),n=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;BI(e);)try{const o=await bI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,qI(e,o)}catch(o){await Lh(e,o)}Lb(e)&&kb(e)}function BI(i){return ha(i)&&i.Ta.length<10}function qI(i,e){i.Ta.push(e);const n=hs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Lb(i){return ha(i)&&!hs(i).x_()&&i.Ta.length>0}function kb(i){hs(i).start()}async function HI(i){hs(i).ra()}async function FI(i){const e=hs(i);for(const n of i.Ta)e.ea(n.mutations)}async function GI(i,e,n){const s=i.Ta.shift(),o=Lp.from(s,e,n);await Pb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await rf(i)}async function KI(i,e){e&&hs(i).X_&&await(async function(s,o){if((function(h){return RC(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();hs(s).B_(),await Pb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await rf(s)}})(i,e),Lb(i)&&kb(i)}async function lE(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),le(oa,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await Tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nf(n)}async function QI(i,e){const n=we(i);e?(n.Ea.delete(2),await nf(n)):e||(n.Ea.add(2),await Tu(n),n.Ra.set("Unknown"))}function Do(i){return i.ma||(i.ma=(function(n,s,o){const u=we(n);return u.sa(),new DI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:kI.bind(null,i),t_:jI.bind(null,i),r_:UI.bind(null,i),H_:zI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Kp(i)?Gp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Vb(i))}))),i.ma}function hs(i){return i.fa||(i.fa=(function(n,s,o){const u=we(n);return u.sa(),new OI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:HI.bind(null,i),r_:KI.bind(null,i),ta:FI.bind(null,i),na:GI.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await rf(i)):(await i.fa.stop(),i.Ta.length>0&&(le(oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Qp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(i,e){if(hi("AsyncQueue",`${e}: ${i}`),Co(i))return new oe(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.ga=new ut(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Eo(e,n,co.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $I{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=cE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function cE(){return new ca((i=>ib(i)),Xh)}async function jb(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new YI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Yp(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&$p(n)}async function Ub(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XI(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&$p(n)}function JI(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function $p(i){i.Ca.forEach((e=>{e.next()}))}var tp,hE;(hE=tp||(tp={})).Ma="default",hE.Cache="cache";class zb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.key=e}}class qb{constructor(e){this.key=e}}class WI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=sb(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new uE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const x=o.get(T),P=Jh(this.query,S)?S:null,U=!!x&&this.mutatedKeys.has(x.key),G=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let k=!1;x&&P?x.data.isEqual(P.data)?U!==G&&(s.track({type:3,doc:P}),k=!0):this.su(x,P)||(s.track({type:2,doc:P}),k=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!x&&P?(s.track({type:0,doc:P}),k=!0):x&&!P&&(s.track({type:1,doc:x}),k=!0,(p||g)&&(m=!0)),k&&(P?(h=h.add(P),u=G?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,S)=>(function(P,U){const G=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:k})}};return G(P)-G(U)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new qb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Bb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xp="SyncEngine";class ZI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class eD{constructor(e){this.key=e,this.hu=!1}}class tD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ca((m=>ib(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(me.comparator),this.Au=new Map,this.Ru=new Up,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nD(i,e,n=!0){const s=Yb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Hb(s,e,n,!0),o}async function rD(i,e){const n=Yb(i);await Hb(n,e,!0,!1)}async function Hb(i,e,n,s){const o=await SI(i.localStore,Ir(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await iD(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ob(i.remoteStore,o),m}async function iD(i,e,n,s,o){i.pu=(S,x,P)=>(async function(G,k,W,re){let Y=k.view.ru(W);Y.Cs&&(Y=await rE(G.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,Y))));const ue=re&&re.targetChanges.get(k.targetId),be=re&&re.targetMismatches.get(k.targetId)!=null,ye=k.view.applyChanges(Y,G.isPrimaryClient,ue,be);return dE(G,k.targetId,ye.au),ye.snapshot})(i,S,x,P);const u=await rE(i.localStore,e,!0),h=new WI(e,u.Qs),m=h.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);dE(i,n,g.au);const T=new ZI(e,n,h);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function sD(i,e,n){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Xh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hp(s.remoteStore,o.targetId),np(s,o.targetId)})).catch(No)):(np(s,o.targetId),await Zm(s.localStore,o.targetId,!0))}async function aD(i,e){const n=we(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function oD(i,e,n){const s=mD(i);try{const o=await(function(h,m){const p=we(h),g=rt.now(),T=m.reduce(((P,U)=>P.add(U.key)),Pe());let S,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let U=di(),G=Pe();return p.Ns.getEntries(P,T).next((k=>{U=k,U.forEach(((W,re)=>{re.isValidDocument()||(G=G.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,U))).next((k=>{S=k;const W=[];for(const re of m){const Y=bC(re,S.get(re.key).overlayedDocument);Y!=null&&W.push(new _s(re.key,Y,XT(Y.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,W,m)})).next((k=>{x=k;const W=k.applyToLocalDocumentSet(S,G);return p.documentOverlayCache.saveOverlays(P,k.batchId,W)}))})).then((()=>({batchId:x.batchId,changes:ob(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await bu(s,o.changes),await rf(s.remoteStore)}catch(o){const u=Yp(o,"Failed to persist write");n.reject(u)}}async function Fb(i,e){const n=we(i);try{const s=await EI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await bu(n,s,e)}catch(s){await No(s)}}function fE(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=we(h);p.onlineState=m;let g=!1;p.queries.forEach(((T,S)=>{for(const x of S.Sa)x.va(m)&&(g=!0)})),g&&$p(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lD(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(me.comparator);h=h.insert(u,Zt.newNoDocument(u,Te.min()));const m=Pe().add(u),p=new ef(Te.min(),new Map,new ut(Ve),h,m);await Fb(s,p),s.du=s.du.remove(u),s.Au.delete(e),Jp(s)}else await Zm(s.localStore,e,!1).then((()=>np(s,e,n))).catch(No)}async function uD(i,e){const n=we(i),s=e.batch.batchId;try{const o=await vI(n.localStore,e);Kb(n,s,null),Gb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bu(n,o)}catch(o){await No(o)}}async function cD(i,e,n){const s=we(i);try{const o=await(function(h,m){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((S=>(Fe(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(s.localStore,e);Kb(s,e,n),Gb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bu(s,o)}catch(o){await No(o)}}function Gb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Kb(i,e,n){const s=we(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function np(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Qb(i,s)}))}function Qb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Hp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Jp(i))}function dE(i,e,n){for(const s of n)s instanceof Bb?(i.Ru.addReference(s.key,e),hD(i,s)):s instanceof qb?(le(Xp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Qb(i,s.key)):ve(19791,{wu:s})}function hD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(le(Xp,"New document in limbo: "+n),i.Eu.add(s),Jp(i))}function Jp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(et.fromString(e)),s=i.fu.next();i.Au.set(s,new eD(n)),i.du=i.du.insert(n,s),Ob(i.remoteStore,new ts(Ir(Mp(n.path)),s,"TargetPurposeLimboResolution",Qh.ce))}}async function bu(i,e,n){const s=we(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{var T;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Bp.As(p.targetId,g);u.push(S)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ne.forEach(g,(x=>ne.forEach(x.Es,(P=>T.persistence.referenceDelegate.addReference(S,x.targetId,P))).next((()=>ne.forEach(x.ds,(P=>T.persistence.referenceDelegate.removeReference(S,x.targetId,P)))))))))}catch(S){if(!Co(S))throw S;le(qp,"Failed to update sequence numbers: "+S)}for(const S of g){const x=S.targetId;if(!S.fromCache){const P=T.Ms.get(x),U=P.snapshotVersion,G=P.withLastLimboFreeSnapshotVersion(U);T.Ms=T.Ms.insert(x,G)}}})(s.localStore,u))}async function fD(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){le(Xp,"User change. New user:",e.toKey());const s=await Nb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(n,s.Ls)}}function dD(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Yb(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lD.bind(null,e),e.Pu.H_=XI.bind(null,e.eventManager),e.Pu.yu=JI.bind(null,e.eventManager),e}function mD(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cD.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _I(this.persistence,new pI,e.initialUser,this.serializer)}Cu(e){return new Rb(zp.mi,this.serializer)}Du(e){return new AI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class pD extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new eI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Rb((s=>Ph.mi(s,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fD.bind(null,this.syncEngine),await QI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $I})()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),s=(function(u){return new II(u)})(e.databaseInfo);return(function(u,h,m,p){return new VI(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new LI(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>fE(this.syncEngine,n,0)),(function(){return aE.v()?new aE:new xI})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,T){const S=new tD(o,u,h,m,p,g);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=we(o);le(oa,"RemoteStore shutting down."),u.Ea.add(5),await Tu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class gD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(fs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(fs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Cm(i,e){i.asyncQueue.verifyOperationInProgress(),le(fs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Nb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function mE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await yD(i);le(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>lE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>lE(e.remoteStore,o))),i._onlineComponents=e}async function yD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(fs,"Using user provided OfflineComponentProvider");try{await Cm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Cm(i,new kh)}}else le(fs,"Using default OfflineComponentProvider"),await Cm(i,new pD(void 0));return i._offlineComponents}async function Xb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(fs,"Using user provided OnlineComponentProvider"),await mE(i,i._uninitializedComponentsProvider._online)):(le(fs,"Using default OnlineComponentProvider"),await mE(i,new rp))),i._onlineComponents}function _D(i){return Xb(i).then((e=>e.syncEngine))}async function Jb(i){const e=await Xb(i),n=e.eventManager;return n.onListen=nD.bind(null,e.syncEngine),n.onUnlisten=sD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aD.bind(null,e.syncEngine),n}function vD(i,e,n={}){const s=new ai;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new $b({next:x=>{T.Nu(),h.enqueueAndForget((()=>Ub(u,S)));const P=x.docs.has(m);!P&&x.fromCache?g.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&x.fromCache&&p&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new zb(Mp(m.path),T,{includeMetadataChanges:!0,qa:!0});return jb(u,S)})(await Jb(i),i.asyncQueue,e,n,s))),s.promise}function ED(i,e,n={}){const s=new ai;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new $b({next:x=>{T.Nu(),h.enqueueAndForget((()=>Ub(u,S))),x.fromCache&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new zb(m,T,{includeMetadataChanges:!0,qa:!0});return jb(u,S)})(await Jb(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firestore.googleapis.com",gE=!0;class yE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zb,this.ssl=gE}else this.host=e.host,this.ssl=e.ssl??gE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WC)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new AN;switch(s.type){case"firstParty":return new CN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=pE.get(n);s&&(le("ComponentProvider","Removing Datastore"),pE.delete(n),s.terminate())})(this),Promise.resolve()}}function TD(i,e,n,s={}){var g;i=fi(i,sf);const o=wo(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(FE(`https://${m}`),GE("Firestore",!0)),u.host!==Zb&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!na(p,h)&&(i._setSettings(p),s.mockUserToken)){let T,S;if(typeof s.mockUserToken=="string")T=s.mockUserToken,S=Wt.MOCK_USER;else{T=OA(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Wt(x)}i._authCredentials=new xN(new jT(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class Ct{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_u(n,Ct._jsonSchema))return new Ct(e,s||null,new me(et.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Nt("string",Ct._jsonSchemaVersion),referencePath:Nt("string")};class as extends fa{constructor(e,n,s){super(e,n,Mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new me(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function uu(i,e,...n){if(i=Lt(i),UT("collection","path",e),i instanceof sf){const s=et.fromString(e,...n);return Iv(s),new as(i,null,s)}{if(!(i instanceof Ct||i instanceof as))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Iv(s),new as(i.firestore,null,s)}}function sn(i,e,...n){if(i=Lt(i),arguments.length===1&&(e=Rp.newId()),UT("doc","path",e),i instanceof sf){const s=et.fromString(e,...n);return Cv(s),new Ct(i,null,new me(s))}{if(!(i instanceof Ct||i instanceof as))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Cv(s),new Ct(i.firestore,i instanceof as?i.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="AsyncQueue";class vE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ib(this,"async_queue_retry"),this._c=()=>{const s=Nm();s&&le(_E,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ai;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;le(_E,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",EE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Qp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:EE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function EE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Oo extends sf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new vE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vE(e),this._firestoreClient=void 0,await e}}}function bD(i,e){const n=typeof i=="object"?i:$E(),s=typeof i=="string"?i:Ih,o=pp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=IA("firestore");u&&TD(o,...u)}return o}function Wp(i){if(i._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||SD(i),i._firestoreClient}function SD(i){var s,o,u;const e=i._freezeSettings(),n=(function(m,p,g,T){return new KN(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Wb(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new gD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn($t.fromBase64String(e))}catch(n){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Nt("string",zn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Nt("string",Or._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mr(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:Nt("string",Mr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^__.*__$/;class AD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class eS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class Zp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tS(this.Ac)&&wD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tf(e)}Cc(e,n,s,o=!1){return new Zp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(i){const e=i._freezeSettings(),n=tf(i._databaseId);return new xD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function RD(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);ng("Data must be an object, but it was:",h,s);const m=nS(s,h);let p,g;if(u.merge)p=new xn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const x=ip(e,S,n);if(!h.contains(x))throw new oe(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);iS(T,x)||T.push(x)}p=new xn(T),g=h.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=h.fieldTransforms;return new AD(new pn(m),p,g)}class lf extends of{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}class tg extends of{_toFieldTransform(e){return new _C(e.path,new au)}isEqual(e){return e instanceof tg}}function ND(i,e,n,s){const o=i.Cc(1,e,n);ng("Data must be an object, but it was:",o,s);const u=[],h=pn.empty();ys(s,((p,g)=>{const T=rg(e,p,n);g=Lt(g);const S=o.yc(T);if(g instanceof lf)u.push(T);else{const x=Su(g,S);x!=null&&(u.push(T),h.set(T,x))}}));const m=new xn(u);return new eS(h,m,o.fieldTransforms)}function CD(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[ip(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(ip(e,u[x])),p.push(u[x+1]);const g=[],T=pn.empty();for(let x=m.length-1;x>=0;--x)if(!iS(g,m[x])){const P=m[x];let U=p[x];U=Lt(U);const G=h.yc(P);if(U instanceof lf)g.push(P);else{const k=Su(U,G);k!=null&&(g.push(P),T.set(P,k))}}const S=new xn(g);return new eS(T,S,h.fieldTransforms)}function ID(i,e,n,s=!1){return Su(n,i.Cc(s?4:3,e))}function Su(i,e){if(rS(i=Lt(i)))return ng("Unsupported field value:",e,i),nS(i,e);if(i instanceof of)return(function(s,o){if(!tS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Su(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Or)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:vb(o.serializer,s._byteString)};if(s instanceof Ct){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mr)return(function(h,m){return{mapValue:{fields:{[YT]:{stringValue:$T},[Dh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Vp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Kh(s)}`)})(i,e)}function nS(i,e){const n={};return qT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(i,((s,o)=>{const u=Su(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function rS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof Or||i instanceof zn||i instanceof Ct||i instanceof of||i instanceof Mr)}function ng(i,e,n){if(!rS(n)||!zT(n)){const s=Kh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function ip(i,e,n){if((e=Lt(e))instanceof af)return e._internalPath;if(typeof e=="string")return rg(i,e);throw jh("Field path arguments must be of type string or ",i,!1,void 0,n)}const DD=new RegExp("[~\\*/\\[\\]]");function rg(i,e,n){if(e.search(DD)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new af(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function jh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(Z.INVALID_ARGUMENT,m+i+p)}function iS(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OD extends sS{data(){return super.data()}}function uf(i,e){return typeof e=="string"?rg(i,e):e instanceof af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class aS extends ig{}function la(i,e,...n){let s=[];e instanceof ig&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof sg)).length,m=u.filter((p=>p instanceof cf)).length;if(h>1||h>0&&m>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class cf extends aS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new cf(e,n,s)}_apply(e){const n=this._parse(e);return oS(e._query,n),new fa(e.firestore,e.converter,Qm(e._query,n))}_parse(e){const n=eg(e.firestore);return(function(u,h,m,p,g,T,S){let x;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){bE(S,T);const U=[];for(const G of S)U.push(TE(p,u,G));x={arrayValue:{values:U}}}else x=TE(p,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||bE(S,T),x=ID(m,h,S,T==="in"||T==="not-in");return Rt.create(g,T,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ds(i,e,n){const s=e,o=uf("where",i);return cf._create(o,s,n)}class sg extends ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)oS(h,p),h=Qm(h,p)})(e._query,n),new fa(e.firestore,e.converter,Qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ag extends aS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ag(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,h)})(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Io(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function VD(i,e="asc"){const n=e,s=uf("orderBy",i);return ag._create(s,n)}function TE(i,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rb(e)&&n.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!me.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jv(i,new me(s))}if(n instanceof Ct)return jv(i,n._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function bE(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PD{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Dh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>gt(h.doubleValue)));return new Mr(n)}convertGeoPoint(e){return new Or(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=$h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=ls(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(Ab(s),9688,{name:e});const o=new ru(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||hi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends sS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(uf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Nt("string",ta._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class vh extends ta{data(e={}){return super.data(e)}}class ho{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:kD(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(i){i=fi(i,Ct);const e=fi(i.firestore,Oo);return vD(Wp(e),i._key).then((n=>jD(e,i,n)))}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Nt("string",ho._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class lS extends PD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function ua(i){i=fi(i,fa);const e=fi(i.firestore,Oo),n=Wp(e),s=new lS(e);return MD(i._query),ED(n,i._query).then((o=>new ho(e,s,i,o)))}function oi(i,e,n,...s){i=fi(i,Ct);const o=fi(i.firestore,Oo),u=eg(o);let h;return h=typeof(e=Lt(e))=="string"||e instanceof af?CD(u,"updateDoc",i._key,e,n,s):ND(u,"updateDoc",i._key,e),ug(o,[h.toMutation(i._key,nr.exists(!0))])}function og(i){return ug(fi(i.firestore,Oo),[new Pp(i._key,nr.none())])}function lg(i,e){const n=fi(i.firestore,Oo),s=sn(i),o=LD(i.converter,e);return ug(n,[RD(eg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,nr.exists(!1))]).then((()=>s))}function ug(i,e){return(function(s,o){const u=new ai;return s.asyncQueue.enqueueAndForget((async()=>oD(await _D(s),o,u))),u.promise})(Wp(i),e)}function jD(i,e,n){const s=n.docs.get(e._key),o=new lS(i);return new ta(i,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function an(){return new tg("serverTimestamp")}(function(e,n=!0){(function(o){Ro=o})(Ao),fo(new ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Oo(new RN(s.getProvider("auth-internal")),new IN(h,s.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(Av,xv,e),is(Av,xv,"esm2020")})();const UD={apiKey:"AIzaSyBQCMbgRZtXe7kn5BIISsTUVJaiQf84Qkg",authDomain:"nyumbaconnect-36c88.firebaseapp.com",projectId:"nyumbaconnect-36c88",storageBucket:"nyumbaconnect-36c88.firebasestorage.app",messagingSenderId:"587774402709",appId:"1:587774402709:web:c7bc438988fe3283387b9c",measurementId:"G-68RTE8XJ11"},uS=YE(UD),wu=TN(uS),Pt=bD(uS),cS=B.createContext({}),vs=()=>B.useContext(cS);function zD({children:i}){const[e,n]=B.useState(null),[s,o]=B.useState(!0);B.useEffect(()=>u2(wu,m=>{n(m),o(!1)}),[]);const u={currentUser:e,loading:s};return v.jsx(cS.Provider,{value:u,children:!s&&i})}function oh({children:i}){const{currentUser:e}=vs();return e?i:v.jsx(OE,{to:"/login",replace:!0})}const BD=async(i,e,n)=>{try{const s=await r2(wu,i,e);return n&&await a2(s.user,{displayName:n}),{user:s.user,error:null}}catch(s){return{user:null,error:s.message}}},qD=async(i,e)=>{try{return{user:(await i2(wu,i,e)).user,error:null}}catch(n){return{user:null,error:n.message}}},HD=async()=>{const i=new ti;try{return{user:(await I2(wu,i)).user,error:null}}catch(e){return{user:null,error:e.message}}},FD=async()=>{try{return await c2(wu),{error:null}}catch(i){return{error:i.message}}};function GD(){const{currentUser:i}=vs(),e=zh(),n=async()=>{await FD(),e("/login")};return v.jsx("nav",{className:"bg-white shadow-sm",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between h-16",children:[v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0 flex items-center",children:v.jsx(Ji,{to:"/",className:"text-xl font-bold text-indigo-600",children:"NyumbaConnect"})}),i&&v.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[v.jsx(Ji,{to:"/",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 border-b-2 border-indigo-500",children:"Dashboard"}),v.jsx(Ji,{to:"/properties",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-900 hover:border-gray-300 border-b-2 border-transparent",children:"Properties"}),v.jsx(Ji,{to:"/tenants",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-900 hover:border-gray-300 border-b-2 border-transparent",children:"Tenants"}),v.jsx(Ji,{to:"/payments",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-900 hover:border-gray-300 border-b-2 border-transparent",children:"Payments"})]})]}),v.jsx("div",{className:"flex items-center",children:i?v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("span",{className:"text-sm text-gray-700",children:i.displayName||i.email}),v.jsx("button",{onClick:n,className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:"Logout"})]}):v.jsx(Ji,{to:"/login",className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:"Login"})})]})})})}const hS=uu(Pt,"properties"),KD=async(i,e)=>{try{return{id:(await lg(hS,{...i,landlordId:e,occupiedUnits:0,createdAt:an(),updatedAt:an()})).id,error:null}}catch(n){return{id:null,error:n.message}}},hf=async i=>{try{const e=la(hS,ds("landlordId","==",i)),n=await ua(e),s=[];return n.forEach(o=>{const u=o.data();s.push({id:o.id,...u,occupiedUnits:u.occupiedUnits??0})}),{properties:s,error:null}}catch(e){return{properties:[],error:e.message}}},QD=async(i,e)=>{try{const n=sn(Pt,"properties",i);return await oi(n,{...e,updatedAt:an()}),{error:null}}catch(n){return{error:n.message}}},YD=async i=>{try{const e=sn(Pt,"properties",i);return await og(e),{error:null}}catch(e){return{error:e.message}}},cg=uu(Pt,"tenants"),$D=async(i,e)=>{try{const n=await lg(cg,{...i,landlordId:e,status:"active",currentBalance:0,lastRentCharged:null,createdAt:an(),updatedAt:an()});console.log("Tenant created, updating property occupancy...");const s=sn(Pt,"properties",i.propertyId),o=await mi(s);if(o.exists()){const u=o.data(),h=u.occupiedUnits||0,m=h+1;console.log(`Property ${u.name}: ${h} -> ${m}`),await oi(s,{occupiedUnits:m,updatedAt:an()}),console.log("Property occupancy updated successfully!")}return{id:n.id,error:null}}catch(n){return console.error("Error creating tenant:",n),{id:null,error:n.message}}},hg=async i=>{try{const e=la(cg,ds("landlordId","==",i)),n=await ua(e),s=[];return n.forEach(o=>{s.push({id:o.id,...o.data()})}),{tenants:s,error:null}}catch(e){return{tenants:[],error:e.message}}},XD=async(i,e,n)=>{try{const s=sn(Pt,"tenants",i);if(await oi(s,{...e,updatedAt:an()}),console.log("Tenant updated, checking property change..."),n&&e.propertyId&&n!==e.propertyId){console.log(`Property changed: ${n} -> ${e.propertyId}`);const o=sn(Pt,"properties",n),u=await mi(o);if(u.exists()){const g=u.data().occupiedUnits||0,T=Math.max(0,g-1);console.log(`Old property: ${g} -> ${T}`),await oi(o,{occupiedUnits:T,updatedAt:an()})}const h=sn(Pt,"properties",e.propertyId),m=await mi(h);if(m.exists()){const g=m.data().occupiedUnits||0,T=g+1;console.log(`New property: ${g} -> ${T}`),await oi(h,{occupiedUnits:T,updatedAt:an()})}console.log("Property occupancy updated!")}return{error:null}}catch(s){return console.error("Error updating tenant:",s),{error:s.message}}},JD=async i=>{try{console.log("Deleting tenant and updating occupancy...");const e=sn(Pt,"tenants",i),n=await mi(e);if(n.exists()){const s=n.data();if(await og(e),console.log("Tenant deleted"),s.propertyId){const o=sn(Pt,"properties",s.propertyId),u=await mi(o);if(u.exists()){const m=u.data().occupiedUnits||0,p=Math.max(0,m-1);console.log(`Property occupancy: ${m} -> ${p}`),await oi(o,{occupiedUnits:p,updatedAt:an()}),console.log("Property occupancy updated!")}}}return{error:null}}catch(e){return console.error("Error deleting tenant:",e),{error:e.message}}},fS=async(i,e)=>{try{const n=sn(Pt,"tenants",i);return await oi(n,{currentBalance:e,updatedAt:an()}),{error:null}}catch(n){return{error:n.message}}},WD=async i=>{try{const e=sn(Pt,"tenants",i),n=await mi(e);if(!n.exists())return{error:"Tenant not found"};const s=n.data(),o=s.currentBalance||0,u=s.rentAmount||0,h=o+u;return await oi(e,{currentBalance:h,lastRentCharged:an(),updatedAt:an()}),console.log(`Rent charged to ${s.fullName}: ${u}, New balance: ${h}`),{error:null,newBalance:h}}catch(e){return console.error("Error charging rent:",e),{error:e.message}}},ZD=async i=>{try{const e=la(cg,ds("landlordId","==",i),ds("status","==","active")),n=await ua(e);let s=0,o=0;for(const u of n.docs)(await WD(u.id)).error?o++:s++;return{error:null,charged:s,failed:o,message:`Successfully charged ${s} tenant(s). ${o} failed.`}}catch(e){return console.error("Error charging all tenants:",e),{error:e.message,charged:0,failed:0}}},fg=uu(Pt,"payments"),eO=async(i,e)=>{try{const n=await lg(fg,{...i,landlordId:e,status:"completed",createdAt:an(),updatedAt:an()});if(i.tenantId&&i.amount){const s=sn(Pt,"tenants",i.tenantId),o=await mi(s);if(o.exists()){const m=(o.data().currentBalance||0)-i.amount;await fS(i.tenantId,m)}}return{id:n.id,error:null}}catch(n){return console.error("Error creating payment:",n),{id:null,error:n.message}}},tO=async i=>{try{const e=la(fg,ds("landlordId","==",i),VD("createdAt","desc")),n=await ua(e),s=[];return n.forEach(o=>{s.push({id:o.id,...o.data()})}),{payments:s,error:null}}catch(e){return{payments:[],error:e.message}}},nO=async i=>{try{const e=sn(Pt,"payments",i),n=await mi(e);if(n.exists()){const s=n.data();if(await og(e),s.tenantId&&s.amount){const o=sn(Pt,"tenants",s.tenantId),u=await mi(o);if(u.exists()){const p=(u.data().currentBalance||0)+s.amount;await fS(s.tenantId,p)}}}return{error:null}}catch(e){return console.error("Error deleting payment:",e),{error:e.message}}},dS=async i=>{try{const e=la(fg,ds("landlordId","==",i)),n=await ua(e);let s=0,o=0;const u=new Date().getMonth(),h=new Date().getFullYear();return n.forEach(m=>{const p=m.data(),g=p.amount||0;if(s+=g,p.createdAt){const T=p.createdAt.toDate();T.getMonth()===u&&T.getFullYear()===h&&(o+=g)}}),{totalRevenue:s,monthlyRevenue:o,totalPayments:n.size,error:null}}catch(e){return{totalRevenue:0,monthlyRevenue:0,totalPayments:0,error:e.message}}};function rO(){const{currentUser:i}=vs(),[e,n]=B.useState({totalProperties:0,totalUnits:0,occupiedUnits:0,activeTenants:0,monthlyRevenue:0,totalRevenue:0,totalPayments:0}),[s,o]=B.useState(!0),[u,h]=B.useState(!1),[m,p]=B.useState(!1),[g,T]=B.useState("");B.useEffect(()=>{S()},[i]);const S=async()=>{o(!0);const k=(await hf(i.uid)).properties||[],re=(await hg(i.uid)).tenants||[],Y=await dS(i.uid),ue=k.length,be=k.reduce((A,R)=>A+R.totalUnits,0),ye=k.reduce((A,R)=>A+(R.occupiedUnits||0),0),N=re.filter(A=>A.status==="active").length;n({totalProperties:ue,totalUnits:be,occupiedUnits:ye,activeTenants:N,monthlyRevenue:Y.monthlyRevenue||0,totalRevenue:Y.totalRevenue||0,totalPayments:Y.totalPayments||0}),o(!1)},x=async G=>{try{console.log("Starting occupancy recalculation...");const k=uu(Pt,"properties"),W=la(k,ds("landlordId","==",G)),re=await ua(W),Y=uu(Pt,"tenants"),ue=la(Y,ds("landlordId","==",G)),be=await ua(ue),ye={};be.forEach(A=>{const R=A.data();if(R.status==="active"){const D=R.propertyId;ye[D]=(ye[D]||0)+1}}),console.log("Tenant counts:",ye);let N=0;for(const A of re.docs){const R=A.data(),D=ye[A.id]||0;console.log(`Property: ${R.name} - Setting to ${D}`),await oi(sn(Pt,"properties",A.id),{occupiedUnits:D}),N++}return console.log(`Successfully updated ${N} properties`),{success:!0,message:`Updated ${N} properties`}}catch(k){return console.error("Error recalculating occupancy:",k),{success:!1,error:k.message}}},P=async()=>{h(!0),T(""),console.log("Fixing occupancy for landlord:",i.uid);const G=await x(i.uid);G.success?(T("✓ Occupancy counts fixed successfully!"),await S(),setTimeout(()=>T(""),5e3)):T("✗ Failed to fix occupancy: "+G.error),h(!1)},U=async()=>{if(!window.confirm("This will charge monthly rent to all active tenants. Continue?"))return;p(!0),T(""),console.log("Charging rent to all tenants...");const G=await ZD(i.uid);G.error?T("✗ "+G.error):(T(`✓ ${G.message}`),await S()),p(!1),setTimeout(()=>T(""),5e3)};return s?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"text-gray-600",children:"Loading dashboard..."})}):v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",(i==null?void 0:i.displayName)||"User","!"]}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Here's what's happening with your properties today."})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:U,disabled:m,className:"bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Charging...":"💰 Charge Monthly Rent"}),v.jsx("button",{onClick:P,disabled:u,className:"bg-yellow-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-yellow-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Fixing...":"🔧 Fix Occupancy"})]})]}),g&&v.jsx("div",{className:`mb-4 px-4 py-3 rounded ${g.startsWith("✓")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:g}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-md p-3",children:v.jsx("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Properties"}),v.jsx("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:e.totalProperties})]})]})}),v.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:v.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Active Tenants"}),v.jsx("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:e.activeTenants})]})]})}),v.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0 bg-blue-100 rounded-md p-3",children:v.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Occupied Units"}),v.jsxs("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:[e.occupiedUnits,"/",e.totalUnits]})]})]})}),v.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0 bg-purple-100 rounded-md p-3",children:v.jsx("svg",{className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Payments"}),v.jsx("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:e.totalPayments})]})]})})]}),v.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Revenue Overview"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center p-4 bg-green-50 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"This Month's Revenue"}),v.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["KES ",e.monthlyRevenue.toLocaleString()]})]}),v.jsx("div",{className:"text-green-600",children:v.jsx("svg",{className:"w-12 h-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),v.jsxs("div",{className:"flex justify-between items-center p-4 bg-indigo-50 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),v.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["KES ",e.totalRevenue.toLocaleString()]})]}),v.jsx("div",{className:"text-indigo-600",children:v.jsx("svg",{className:"w-12 h-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Occupancy Overview"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[v.jsx("span",{className:"text-gray-600",children:"Occupancy Rate"}),v.jsxs("span",{className:"font-medium text-gray-900",children:[e.totalUnits>0?Math.round(e.occupiedUnits/e.totalUnits*100):0,"%"]})]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:v.jsx("div",{className:"bg-indigo-600 h-3 rounded-full transition-all",style:{width:`${e.totalUnits>0?e.occupiedUnits/e.totalUnits*100:0}%`}})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[v.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Occupied"}),v.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:e.occupiedUnits})]}),v.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Vacant"}),v.jsx("p",{className:"text-2xl font-bold text-gray-400",children:e.totalUnits-e.occupiedUnits})]})]})]})]})]})]})}function iO({property:i,onEdit:e,onDelete:n}){const s=i.totalUnits>0?Math.round(i.occupiedUnits/i.totalUnits*100):0;return v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i.name}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.address}),v.jsx("p",{className:"text-sm text-gray-600",children:i.city})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>e(i),className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium",children:"Edit"}),v.jsx("button",{onClick:()=>n(i.id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Delete"})]})]}),i.description&&v.jsx("p",{className:"text-gray-600 text-sm mb-4",children:i.description}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500",children:"Total Units"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.totalUnits})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500",children:"Occupied"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.occupiedUnits})]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[v.jsx("span",{className:"text-gray-600",children:"Occupancy Rate"}),v.jsxs("span",{className:"font-medium text-gray-900",children:[s,"%"]})]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:v.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:`${s}%`}})})]})]})}function sO({onSubmit:i,onCancel:e,initialData:n=null}){const[s,o]=B.useState({name:(n==null?void 0:n.name)||"",address:(n==null?void 0:n.address)||"",city:(n==null?void 0:n.city)||"",totalUnits:(n==null?void 0:n.totalUnits)||"",description:(n==null?void 0:n.description)||""}),[u,h]=B.useState({}),m=T=>{o({...s,[T.target.name]:T.target.value}),u[T.target.name]&&h({...u,[T.target.name]:""})},p=()=>{const T={};return s.name.trim()||(T.name="Property name is required"),s.address.trim()||(T.address="Address is required"),s.city.trim()||(T.city="City is required"),(!s.totalUnits||s.totalUnits<1)&&(T.totalUnits="Total units must be at least 1"),T},g=T=>{T.preventDefault();const S=p();if(Object.keys(S).length>0){h(S);return}i({...s,totalUnits:parseInt(s.totalUnits),occupiedUnits:(n==null?void 0:n.occupiedUnits)||0})};return v.jsxs("form",{onSubmit:g,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Property Name *"}),v.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${u.name?"border-red-300":"border-gray-300"}`,placeholder:"e.g., Sunrise Apartments"}),u.name&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.name})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address *"}),v.jsx("input",{type:"text",id:"address",name:"address",value:s.address,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${u.address?"border-red-300":"border-gray-300"}`,placeholder:"e.g., 123 Kimathi Street"}),u.address&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.address})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City *"}),v.jsx("input",{type:"text",id:"city",name:"city",value:s.city,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${u.city?"border-red-300":"border-gray-300"}`,placeholder:"e.g., Nairobi"}),u.city&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.city})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"totalUnits",className:"block text-sm font-medium text-gray-700",children:"Total Units *"}),v.jsx("input",{type:"number",id:"totalUnits",name:"totalUnits",min:"1",value:s.totalUnits,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${u.totalUnits?"border-red-300":"border-gray-300"}`,placeholder:"e.g., 10"}),u.totalUnits&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.totalUnits})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),v.jsx("textarea",{id:"description",name:"description",rows:"3",value:s.description,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Additional information about the property..."})]}),v.jsxs("div",{className:"flex justify-end gap-3",children:[v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:n?"Update Property":"Add Property"})]})]})}function aO(){const{currentUser:i}=vs(),[e,n]=B.useState([]),[s,o]=B.useState(!0),[u,h]=B.useState(!1),[m,p]=B.useState(null),[g,T]=B.useState(""),[S,x]=B.useState("");B.useEffect(()=>{P()},[i]);const P=async()=>{o(!0);const Y=await hf(i.uid);Y.error?T(Y.error):n(Y.properties),o(!1)},U=async Y=>{const ue=await KD(Y,i.uid);ue.error?T(ue.error):(x("Property added successfully!"),h(!1),P(),setTimeout(()=>x(""),3e3))},G=async Y=>{const ue=await QD(m.id,Y);ue.error?T(ue.error):(x("Property updated successfully!"),h(!1),p(null),P(),setTimeout(()=>x(""),3e3))},k=async Y=>{if(window.confirm("Are you sure you want to delete this property?")){const ue=await YD(Y);ue.error?T(ue.error):(x("Property deleted successfully!"),P(),setTimeout(()=>x(""),3e3))}},W=Y=>{p(Y),h(!0)},re=()=>{h(!1),p(null),T("")};return s?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"text-gray-600",children:"Loading properties..."})}):v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Properties"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your rental properties"})]}),!u&&v.jsx("button",{onClick:()=>h(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:"Add Property"})]}),g&&v.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:g}),S&&v.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded",children:S}),u&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:m?"Edit Property":"Add New Property"}),v.jsx(sO,{onSubmit:m?G:U,onCancel:re,initialData:m})]}),e.length===0?v.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[v.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No properties"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new property."}),v.jsx("div",{className:"mt-6",children:v.jsx("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Add Property"})})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(Y=>v.jsx(iO,{property:Y,onEdit:W,onDelete:k},Y.id))})]})}function oO({tenant:i,onEdit:e,onDelete:n,onViewDetails:s}){var p;const o=g=>{switch(g){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},u=g=>g>0?"text-red-600":g<0?"text-green-600":"text-gray-900",h=g=>g>0?"Amount Owed":g<0?"Overpaid (Credit)":"Balance",m=g=>g>0?"⚠️":(g<0,"✓");return v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-lg font-bold text-gray-900",children:i.fullName}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.email}),v.jsx("p",{className:"text-sm text-gray-600",children:i.phone})]}),v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${o(i.status)}`,children:i.status})]}),v.jsxs("div",{className:"space-y-2 mb-4",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Property:"}),v.jsx("span",{className:"font-medium text-gray-900",children:i.propertyName})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Unit:"}),v.jsx("span",{className:"font-medium text-gray-900",children:i.unitNumber})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Monthly Rent:"}),v.jsxs("span",{className:"font-medium text-gray-900",children:["KES ",(p=i.rentAmount)==null?void 0:p.toLocaleString()]})]})]}),v.jsx("div",{className:`p-4 rounded-lg mb-4 ${i.currentBalance>0?"bg-red-50 border-2 border-red-200":i.currentBalance<0?"bg-green-50 border-2 border-green-200":"bg-blue-50 border-2 border-blue-200"}`,children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:h(i.currentBalance)}),v.jsxs("p",{className:`text-2xl font-bold ${u(i.currentBalance)}`,children:["KES ",Math.abs(i.currentBalance||0).toLocaleString()]}),i.currentBalance>0&&v.jsx("p",{className:"text-xs text-red-600 mt-1 font-medium",children:"Unpaid"}),i.currentBalance<0&&v.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:"Credit balance"}),i.currentBalance===0&&v.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:"All paid up!"})]}),v.jsx("div",{className:"text-3xl",children:m(i.currentBalance)})]})}),v.jsx("div",{className:"text-sm text-gray-500 mb-4",children:v.jsxs("p",{children:["Move-in: ",new Date(i.moveInDate).toLocaleDateString()]})}),v.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[v.jsx("button",{onClick:()=>s(i),className:"flex-1 text-indigo-600 hover:text-indigo-900 text-sm font-medium py-2",children:"View Details"}),v.jsx("button",{onClick:()=>e(i),className:"flex-1 text-indigo-600 hover:text-indigo-900 text-sm font-medium py-2",children:"Edit"}),v.jsx("button",{onClick:()=>n(i.id),className:"flex-1 text-red-600 hover:text-red-900 text-sm font-medium py-2",children:"Delete"})]})]})}function lO({onSubmit:i,onCancel:e,initialData:n=null}){const{currentUser:s}=vs(),[o,u]=B.useState([]),[h,m]=B.useState({firstName:(n==null?void 0:n.firstName)||"",lastName:(n==null?void 0:n.lastName)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",propertyId:(n==null?void 0:n.propertyId)||"",propertyName:(n==null?void 0:n.propertyName)||"",unitNumber:(n==null?void 0:n.unitNumber)||"",rentAmount:(n==null?void 0:n.rentAmount)||"",moveInDate:(n==null?void 0:n.moveInDate)||"",idNumber:(n==null?void 0:n.idNumber)||""}),[p,g]=B.useState({});B.useEffect(()=>{T()},[s]);const T=async()=>{const U=await hf(s.uid);U.properties&&u(U.properties)},S=U=>{const{name:G,value:k}=U.target;if(G==="propertyId"){const W=o.find(re=>re.id===k);m({...h,propertyId:k,propertyName:(W==null?void 0:W.name)||""})}else m({...h,[G]:k});p[G]&&g({...p,[G]:""})},x=()=>{const U={};return h.firstName.trim()||(U.firstName="First name is required"),h.lastName.trim()||(U.lastName="Last name is required"),h.email.trim()?/\S+@\S+\.\S+/.test(h.email)||(U.email="Email is invalid"):U.email="Email is required",h.phone.trim()||(U.phone="Phone number is required"),h.propertyId||(U.propertyId="Property is required"),h.unitNumber.trim()||(U.unitNumber="Unit number is required"),(!h.rentAmount||h.rentAmount<=0)&&(U.rentAmount="Rent amount must be greater than 0"),h.moveInDate||(U.moveInDate="Move-in date is required"),h.idNumber.trim()||(U.idNumber="ID number is required"),U},P=U=>{U.preventDefault();const G=x();if(Object.keys(G).length>0){g(G);return}i({...h,rentAmount:parseFloat(h.rentAmount),fullName:`${h.firstName} ${h.lastName}`})};return v.jsxs("form",{onSubmit:P,className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name *"}),v.jsx("input",{type:"text",id:"firstName",name:"firstName",value:h.firstName,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p.firstName?"border-red-300":"border-gray-300"}`,placeholder:"John"}),p.firstName&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.firstName})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name *"}),v.jsx("input",{type:"text",id:"lastName",name:"lastName",value:h.lastName,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p.lastName?"border-red-300":"border-gray-300"}`,placeholder:"Doe"}),p.lastName&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.lastName})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),v.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p.email?"border-red-300":"border-gray-300"}`,placeholder:"john.doe@example.com"}),p.email&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number *"}),v.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p.phone?"border-red-300":"border-gray-300"}`,placeholder:"0712345678"}),p.phone&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.phone})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"idNumber",className:"block text-sm font-medium text-gray-700",children:"ID Number *"}),v.jsx("input",{type:"text",id:"idNumber",name:"idNumber",value:h.idNumber,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p.idNumber?"border-red-300":"border-gray-300"}`,placeholder:"12345678"}),p.idNumber&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.idNumber})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"propertyId",className:"block text-sm font-medium text-gray-700",children:"Property *"}),v.jsxs("select",{id:"propertyId",name:"propertyId",value:h.propertyId,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p.propertyId?"border-red-300":"border-gray-300"}`,children:[v.jsx("option",{value:"",children:"Select a property"}),o.map(U=>v.jsx("option",{value:U.id,children:U.name},U.id))]}),p.propertyId&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.propertyId})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"unitNumber",className:"block text-sm font-medium text-gray-700",children:"Unit Number *"}),v.jsx("input",{type:"text",id:"unitNumber",name:"unitNumber",value:h.unitNumber,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p.unitNumber?"border-red-300":"border-gray-300"}`,placeholder:"e.g., A1, 101"}),p.unitNumber&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.unitNumber})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"rentAmount",className:"block text-sm font-medium text-gray-700",children:"Monthly Rent (KES) *"}),v.jsx("input",{type:"number",id:"rentAmount",name:"rentAmount",min:"0",step:"0.01",value:h.rentAmount,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p.rentAmount?"border-red-300":"border-gray-300"}`,placeholder:"25000"}),p.rentAmount&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.rentAmount})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"moveInDate",className:"block text-sm font-medium text-gray-700",children:"Move-in Date *"}),v.jsx("input",{type:"date",id:"moveInDate",name:"moveInDate",value:h.moveInDate,onChange:S,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${p.moveInDate?"border-red-300":"border-gray-300"}`}),p.moveInDate&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.moveInDate})]})]}),v.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:n?"Update Tenant":"Add Tenant"})]})]})}function uO(){var N,A;const{currentUser:i}=vs(),[e,n]=B.useState([]),[s,o]=B.useState(!0),[u,h]=B.useState(!1),[m,p]=B.useState(null),[g,T]=B.useState(null),[S,x]=B.useState(""),[P,U]=B.useState("");B.useEffect(()=>{G()},[i]);const G=async()=>{o(!0);const R=await hg(i.uid);R.error?x(R.error):n(R.tenants),o(!1)},k=async R=>{const D=await $D(R,i.uid);D.error?x(D.error):(U("Tenant added successfully!"),h(!1),G(),setTimeout(()=>U(""),3e3))},W=async R=>{const D=await XD(m.id,R,m.propertyId);D.error?x(D.error):(U("Tenant updated successfully!"),h(!1),p(null),G(),setTimeout(()=>U(""),3e3))},re=async R=>{if(window.confirm("Are you sure you want to delete this tenant? This action cannot be undone.")){const D=await JD(R);D.error?x(D.error):(U("Tenant deleted successfully!"),G(),setTimeout(()=>U(""),3e3))}},Y=R=>{p(R),h(!0),T(null)},ue=R=>{T(R),h(!1)},be=()=>{h(!1),p(null),x("")},ye=()=>{T(null)};return s?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"text-gray-600",children:"Loading tenants..."})}):v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tenants"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your tenants and their rental details"})]}),!u&&!g&&v.jsx("button",{onClick:()=>h(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:"Add Tenant"})]}),S&&v.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:S}),P&&v.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded",children:P}),u&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:m?"Edit Tenant":"Add New Tenant"}),v.jsx(lO,{onSubmit:m?W:k,onCancel:be,initialData:m})]}),g&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Tenant Details"}),v.jsx("button",{onClick:ye,className:"text-gray-400 hover:text-gray-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Personal Information"}),v.jsxs("dl",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Full Name"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:g.fullName})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Email"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:g.email})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Phone"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:g.phone})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"ID Number"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:g.idNumber})]})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Rental Information"}),v.jsxs("dl",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Property"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:g.propertyName})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Unit Number"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:g.unitNumber})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Monthly Rent"}),v.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["KES ",(N=g.rentAmount)==null?void 0:N.toLocaleString()]})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Current Balance"}),v.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:["KES ",(A=g.currentBalance)==null?void 0:A.toLocaleString()]})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Move-in Date"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:new Date(g.moveInDate).toLocaleDateString()})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Status"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900 capitalize",children:g.status})]})]})]})]}),v.jsxs("div",{className:"mt-6 pt-6 border-t flex gap-3",children:[v.jsx("button",{onClick:()=>Y(g),className:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm font-medium hover:bg-indigo-700",children:"Edit Tenant"}),v.jsx("button",{onClick:()=>re(g.id),className:"px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700",children:"Delete Tenant"})]})]}),!u&&!g&&v.jsx(v.Fragment,{children:e.length===0?v.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[v.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tenants"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new tenant."}),v.jsx("div",{className:"mt-6",children:v.jsx("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Add Tenant"})})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(R=>v.jsx(oO,{tenant:R,onEdit:Y,onDelete:re,onViewDetails:ue},R.id))})})]})}function cO({payment:i,onDelete:e,onViewDetails:n}){var u,h;const s=m=>({cash:"bg-green-100 text-green-800",mpesa:"bg-purple-100 text-purple-800",bank:"bg-blue-100 text-blue-800",cheque:"bg-yellow-100 text-yellow-800"})[m]||"bg-gray-100 text-gray-800",o=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("en-KE",{year:"numeric",month:"short",day:"numeric"}):"N/A";return v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-lg font-bold text-gray-900",children:i.tenantName}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.propertyName})]}),v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s(i.paymentMethod)}`,children:(u=i.paymentMethod)==null?void 0:u.toUpperCase()})]}),v.jsxs("div",{className:"space-y-2 mb-4",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Amount:"}),v.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["KES ",(h=i.amount)==null?void 0:h.toLocaleString()]})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Date:"}),v.jsx("span",{className:"font-medium text-gray-900",children:o(i.createdAt)})]}),i.transactionId&&v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),v.jsx("span",{className:"font-medium text-gray-900 font-mono text-xs",children:i.transactionId})]})]}),i.notes&&v.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded text-sm text-gray-600",children:i.notes}),v.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[v.jsx("button",{onClick:()=>n(i),className:"flex-1 text-indigo-600 hover:text-indigo-900 text-sm font-medium py-2",children:"View Details"}),v.jsx("button",{onClick:()=>e(i.id),className:"flex-1 text-red-600 hover:text-red-900 text-sm font-medium py-2",children:"Delete"})]})]})}function hO({onSubmit:i,onCancel:e,initialData:n=null}){const{currentUser:s}=vs(),[o,u]=B.useState([]),[h,m]=B.useState([]),[p,g]=B.useState({tenantId:(n==null?void 0:n.tenantId)||"",tenantName:(n==null?void 0:n.tenantName)||"",propertyId:(n==null?void 0:n.propertyId)||"",propertyName:(n==null?void 0:n.propertyName)||"",amount:(n==null?void 0:n.amount)||"",paymentMethod:(n==null?void 0:n.paymentMethod)||"cash",transactionId:(n==null?void 0:n.transactionId)||"",paymentDate:(n==null?void 0:n.paymentDate)||new Date().toISOString().split("T")[0],notes:(n==null?void 0:n.notes)||""}),[T,S]=B.useState({});B.useEffect(()=>{x()},[s]);const x=async()=>{const k=await hg(s.uid),W=await hf(s.uid);k.tenants&&u(k.tenants),W.properties&&m(W.properties)},P=k=>{const{name:W,value:re}=k.target;if(W==="tenantId"){const Y=o.find(ue=>ue.id===re);g({...p,tenantId:re,tenantName:(Y==null?void 0:Y.fullName)||"",propertyId:(Y==null?void 0:Y.propertyId)||"",propertyName:(Y==null?void 0:Y.propertyName)||""})}else g({...p,[W]:re});T[W]&&S({...T,[W]:""})},U=()=>{const k={};return p.tenantId||(k.tenantId="Please select a tenant"),(!p.amount||p.amount<=0)&&(k.amount="Amount must be greater than 0"),p.paymentMethod||(k.paymentMethod="Payment method is required"),p.paymentDate||(k.paymentDate="Payment date is required"),p.paymentMethod==="mpesa"&&!p.transactionId.trim()&&(k.transactionId="Transaction ID is required for M-Pesa payments"),k},G=k=>{k.preventDefault();const W=U();if(Object.keys(W).length>0){S(W);return}i({...p,amount:parseFloat(p.amount)})};return v.jsxs("form",{onSubmit:G,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"tenantId",className:"block text-sm font-medium text-gray-700",children:"Tenant *"}),v.jsxs("select",{id:"tenantId",name:"tenantId",value:p.tenantId,onChange:P,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${T.tenantId?"border-red-300":"border-gray-300"}`,children:[v.jsx("option",{value:"",children:"Select a tenant"}),o.map(k=>v.jsxs("option",{value:k.id,children:[k.fullName," - ",k.propertyName," (",k.unitNumber,")"]},k.id))]}),T.tenantId&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.tenantId})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount (KES) *"}),v.jsx("input",{type:"number",id:"amount",name:"amount",min:"0",step:"0.01",value:p.amount,onChange:P,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${T.amount?"border-red-300":"border-gray-300"}`,placeholder:"25000"}),T.amount&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.amount})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"paymentDate",className:"block text-sm font-medium text-gray-700",children:"Payment Date *"}),v.jsx("input",{type:"date",id:"paymentDate",name:"paymentDate",value:p.paymentDate,onChange:P,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${T.paymentDate?"border-red-300":"border-gray-300"}`}),T.paymentDate&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.paymentDate})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700",children:"Payment Method *"}),v.jsxs("select",{id:"paymentMethod",name:"paymentMethod",value:p.paymentMethod,onChange:P,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${T.paymentMethod?"border-red-300":"border-gray-300"}`,children:[v.jsx("option",{value:"cash",children:"Cash"}),v.jsx("option",{value:"mpesa",children:"M-Pesa"}),v.jsx("option",{value:"bank",children:"Bank Transfer"}),v.jsx("option",{value:"cheque",children:"Cheque"})]}),T.paymentMethod&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.paymentMethod})]}),v.jsxs("div",{children:[v.jsxs("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-700",children:["Transaction ID ",p.paymentMethod==="mpesa"&&"*"]}),v.jsx("input",{type:"text",id:"transactionId",name:"transactionId",value:p.transactionId,onChange:P,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${T.transactionId?"border-red-300":"border-gray-300"}`,placeholder:"e.g., RGT123456789"}),T.transactionId&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.transactionId})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),v.jsx("textarea",{id:"notes",name:"notes",rows:"3",value:p.notes,onChange:P,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Additional payment information..."})]}),v.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:n?"Update Payment":"Record Payment"})]})]})}function fO(){var N;const{currentUser:i}=vs(),[e,n]=B.useState([]),[s,o]=B.useState({totalRevenue:0,monthlyRevenue:0,totalPayments:0}),[u,h]=B.useState(!0),[m,p]=B.useState(!1),[g,T]=B.useState(null),[S,x]=B.useState(""),[P,U]=B.useState("");B.useEffect(()=>{G(),k()},[i]);const G=async()=>{h(!0);const A=await tO(i.uid);A.error?x(A.error):n(A.payments),h(!1)},k=async()=>{const A=await dS(i.uid);A.error||o({totalRevenue:A.totalRevenue,monthlyRevenue:A.monthlyRevenue,totalPayments:A.totalPayments})},W=async A=>{const R=await eO(A,i.uid);R.error?x(R.error):(U("Payment recorded successfully!"),p(!1),G(),k(),setTimeout(()=>U(""),3e3))},re=async A=>{if(window.confirm("Are you sure you want to delete this payment? This will reverse the tenant balance.")){const R=await nO(A);R.error?x(R.error):(U("Payment deleted successfully!"),G(),k(),setTimeout(()=>U(""),3e3))}},Y=A=>{T(A),p(!1)},ue=()=>{p(!1),x("")},be=()=>{T(null)},ye=A=>A?(A.toDate?A.toDate():new Date(A)).toLocaleString("en-KE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return u?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"text-gray-600",children:"Loading payments..."})}):v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payments"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Track and manage rent payments"})]}),!m&&!g&&v.jsx("button",{onClick:()=>p(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700",children:"Record Payment"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),v.jsxs("p",{className:"mt-2 text-3xl font-bold text-green-600",children:["KES ",s.totalRevenue.toLocaleString()]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"This Month"}),v.jsxs("p",{className:"mt-2 text-3xl font-bold text-indigo-600",children:["KES ",s.monthlyRevenue.toLocaleString()]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Payments"}),v.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:s.totalPayments})]})]}),S&&v.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:S}),P&&v.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded",children:P}),m&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Record New Payment"}),v.jsx(hO,{onSubmit:W,onCancel:ue})]}),g&&v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Details"}),v.jsx("button",{onClick:be,className:"text-gray-400 hover:text-gray-600",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Payment Information"}),v.jsxs("dl",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Tenant"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:g.tenantName})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Property"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:g.propertyName})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Amount"}),v.jsxs("dd",{className:"text-lg font-bold text-green-600",children:["KES ",(N=g.amount)==null?void 0:N.toLocaleString()]})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Payment Method"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900 capitalize",children:g.paymentMethod})]})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Transaction Details"}),v.jsxs("dl",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Payment Date"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:new Date(g.paymentDate).toLocaleDateString()})]}),v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Recorded On"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:ye(g.createdAt)})]}),g.transactionId&&v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Transaction ID"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900 font-mono",children:g.transactionId})]}),g.notes&&v.jsxs("div",{children:[v.jsx("dt",{className:"text-sm text-gray-600",children:"Notes"}),v.jsx("dd",{className:"text-sm font-medium text-gray-900",children:g.notes})]})]})]})]}),v.jsx("div",{className:"mt-6 pt-6 border-t",children:v.jsx("button",{onClick:()=>re(g.id),className:"px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700",children:"Delete Payment"})})]}),!m&&!g&&v.jsx(v.Fragment,{children:e.length===0?v.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[v.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No payments recorded"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by recording your first payment."}),v.jsx("div",{className:"mt-6",children:v.jsx("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Record Payment"})})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(A=>v.jsx(cO,{payment:A,onDelete:re,onViewDetails:Y},A.id))})})]})}function dO(){const[i,e]=B.useState(!0),[n,s]=B.useState({email:"",password:"",confirmPassword:"",displayName:""}),[o,u]=B.useState(""),[h,m]=B.useState(!1),p=zh(),g=P=>{s({...n,[P.target.name]:P.target.value}),u("")},T=async P=>{if(P.preventDefault(),u(""),m(!0),!n.email||!n.password){u("Please fill in all fields"),m(!1);return}if(!i){if(n.password!==n.confirmPassword){u("Passwords do not match"),m(!1);return}if(n.password.length<6){u("Password must be at least 6 characters"),m(!1);return}if(!n.displayName){u("Please enter your name"),m(!1);return}}try{let U;i?U=await qD(n.email,n.password):U=await BD(n.email,n.password,n.displayName),U.error?u(U.error):p("/")}catch{u("An error occurred. Please try again.")}finally{m(!1)}},S=async()=>{u(""),m(!0);try{const P=await HD();P.error?u(P.error):p("/")}catch{u("Failed to sign in with Google")}finally{m(!1)}},x=()=>{e(!i),u(""),s({email:"",password:"",confirmPassword:"",displayName:""})};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-center text-4xl font-bold text-gray-900",children:"NyumbaConnect"}),v.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:i?"Sign in to your account":"Create your account"}),v.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[i?"Don't have an account? ":"Already have an account? ",v.jsx("button",{onClick:x,className:"font-medium text-indigo-600 hover:text-indigo-500",children:i?"Sign up":"Sign in"})]})]}),v.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg rounded-lg sm:px-10",children:[o&&v.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:o}),v.jsxs("form",{className:"space-y-6",onSubmit:T,children:[!i&&v.jsxs("div",{children:[v.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),v.jsx("input",{id:"displayName",name:"displayName",type:"text",required:!i,value:n.displayName,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"John Doe"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),v.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"you@example.com"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n.password,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"••••••••"})]}),!i&&v.jsxs("div",{children:[v.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),v.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!i,value:n.confirmPassword,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"••••••••"})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Processing...":i?"Sign in":"Sign up"})})]}),v.jsxs("div",{className:"mt-6",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-300"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),v.jsx("div",{className:"mt-6",children:v.jsxs("button",{onClick:S,disabled:h,className:"w-full flex items-center justify-center gap-3 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})})]})]})]})})}function mO(){return v.jsx(zD,{children:v.jsx(fA,{children:v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(GD,{}),v.jsxs(Hw,{children:[v.jsx(Js,{path:"/login",element:v.jsx(dO,{})}),v.jsx(Js,{path:"/",element:v.jsx(oh,{children:v.jsx(rO,{})})}),v.jsx(Js,{path:"/properties",element:v.jsx(oh,{children:v.jsx(aO,{})})}),v.jsx(Js,{path:"/tenants",element:v.jsx(oh,{children:v.jsx(uO,{})})}),v.jsx(Js,{path:"/payments",element:v.jsx(oh,{children:v.jsx(fO,{})})}),v.jsx(Js,{path:"*",element:v.jsx(OE,{to:"/",replace:!0})})]})]})})})}Z1.createRoot(document.getElementById("root")).render(v.jsx(B.StrictMode,{children:v.jsx(mO,{})}));
